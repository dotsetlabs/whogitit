{
  "version": 2,
  "session": {
    "session_id": "a694d131-95d4-4bfc-84b4-29e3342c7002",
    "model": {
      "id": "claude-opus-4-5-20251101",
      "provider": "anthropic"
    },
    "started_at": "2026-01-31T17:16:34.223887+00:00",
    "prompt_count": 39
  },
  "prompts": [
    {
      "index": 0,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:16:34.223955+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 1,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:16:40.187693+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 2,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:16:57.815620+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    },
    {
      "index": 3,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:17:08.644723+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    },
    {
      "index": 4,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:18:35.855685+00:00",
      "affected_files": [
        "Cargo.toml"
      ]
    },
    {
      "index": 5,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:18:40.501166+00:00",
      "affected_files": [
        "rustfmt.toml"
      ]
    },
    {
      "index": 6,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:19:15.814764+00:00",
      "affected_files": [
        "src/utils.rs"
      ]
    },
    {
      "index": 7,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:19:24.425658+00:00",
      "affected_files": [
        "src/lib.rs"
      ]
    },
    {
      "index": 8,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:19:35.084931+00:00",
      "affected_files": [
        "src/cli/output.rs"
      ]
    },
    {
      "index": 9,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:19:40.096691+00:00",
      "affected_files": [
        "src/cli/output.rs"
      ]
    },
    {
      "index": 10,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:19:49.421817+00:00",
      "affected_files": [
        "src/cli/prompt.rs"
      ]
    },
    {
      "index": 11,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:20:05.966084+00:00",
      "affected_files": [
        "src/cli/prompt.rs"
      ]
    },
    {
      "index": 12,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:20:16.207912+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    },
    {
      "index": 13,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:20:30.937791+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    },
    {
      "index": 14,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:20:37.081971+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    },
    {
      "index": 15,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:01.244642+00:00",
      "affected_files": [
        "src/capture/diff.rs"
      ]
    },
    {
      "index": 16,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:02.086969+00:00",
      "affected_files": [
        "src/capture/snapshot.rs"
      ]
    },
    {
      "index": 17,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:07.061045+00:00",
      "affected_files": [
        "src/capture/diff.rs"
      ]
    },
    {
      "index": 18,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:08.481532+00:00",
      "affected_files": [
        "src/capture/diff.rs"
      ]
    },
    {
      "index": 19,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:09.868484+00:00",
      "affected_files": [
        "src/capture/snapshot.rs"
      ]
    },
    {
      "index": 20,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:22:11.190224+00:00",
      "affected_files": [
        "src/capture/snapshot.rs"
      ]
    },
    {
      "index": 21,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:04.437515+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 22,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:06.598727+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 23,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:09.467364+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 24,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:16.031049+00:00",
      "affected_files": [
        "src/cli/output.rs"
      ]
    },
    {
      "index": 25,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:23.175743+00:00",
      "affected_files": [
        "src/cli/blame.rs"
      ]
    },
    {
      "index": 26,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:25.212161+00:00",
      "affected_files": [
        "src/cli/blame.rs"
      ]
    },
    {
      "index": 27,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:29.434502+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 28,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:31.098423+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 29,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:43.373092+00:00",
      "affected_files": [
        "src/cli/summary.rs"
      ]
    },
    {
      "index": 30,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:23:44.970034+00:00",
      "affected_files": [
        "src/cli/summary.rs"
      ]
    },
    {
      "index": 31,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:25:36.715314+00:00",
      "affected_files": [
        "rustfmt.toml"
      ]
    },
    {
      "index": 32,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:20.829555+00:00",
      "affected_files": [
        "src/capture/threeway.rs"
      ]
    },
    {
      "index": 33,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:21.780783+00:00",
      "affected_files": [
        "src/capture/threeway.rs"
      ]
    },
    {
      "index": 34,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:23.833468+00:00",
      "affected_files": [
        "src/capture/threeway.rs"
      ]
    },
    {
      "index": 35,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:24.834423+00:00",
      "affected_files": [
        "src/capture/threeway.rs"
      ]
    },
    {
      "index": 36,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:34.795850+00:00",
      "affected_files": [
        "src/cli/prompt.rs"
      ]
    },
    {
      "index": 37,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:26:36.411069+00:00",
      "affected_files": [
        "src/storage/notes.rs"
      ]
    },
    {
      "index": 38,
      "text": "AI-assisted code change",
      "timestamp": "2026-01-31T17:27:55.409119+00:00",
      "affected_files": [
        "src/core/blame.rs"
      ]
    }
  ],
  "files": [
    {
      "path": "src/cli/blame.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use git2::Repository;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use crate::cli::output::{format_blame, OutputFormat};",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::core::blame::AIBlamer;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Blame command arguments",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub struct BlameArgs {",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    /// File to blame",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    pub file: String,",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// Revision to blame against (default: HEAD)",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    #[arg(short, long)]",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    pub revision: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    /// Output format",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    #[arg(long, value_enum, default_value_t = OutputFormat::Pretty)]",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub format: OutputFormat,",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    /// Show only AI-generated lines",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    pub ai_only: bool,",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    /// Show only human-written lines",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    pub human_only: bool,",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "/// Run the blame command",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "pub fn run(args: BlameArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    // Open repository",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    // Create blamer",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    let mut blamer = AIBlamer::new(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    // Run blame",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    let mut result = blamer.blame(&args.file, args.revision.as_deref())?;",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    // Filter lines if requested",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    if args.ai_only {",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        result.lines.retain(|l| l.source.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    } else if args.human_only {",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "        result.lines.retain(|l| l.source.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    // Format output",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    let output = format_blame(&result, args.format);",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    print!(\"{}\", output);",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63"
          },
          "edit_id": "975c8f93-befc-4ce8-bb98-7ef1d6c4cc63",
          "prompt_index": 26,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 54,
        "ai_lines": 54,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/core/blame.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use std::collections::HashMap;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::{BlameOptions, Repository};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::capture::snapshot::LineSource;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::core::attribution::{AIAttribution, BlameLineResult, BlameResult};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use crate::utils::{truncate_prompt, PROMPT_PREVIEW_LEN};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "/// AI-aware git blame engine",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "pub struct AIBlamer<'a> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    repo: &'a Repository,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    notes_store: NotesStore<'a>,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// Cache of attributions by commit ID",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    attribution_cache: HashMap<String, Option<AIAttribution>>,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "impl<'a> AIBlamer<'a> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub fn new(repo: &'a Repository) -> Result<Self> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        let notes_store = NotesStore::new(repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "        Ok(Self {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "            repo,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "            notes_store,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "            attribution_cache: HashMap::new(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        })",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    /// Run blame on a file and correlate with AI attribution data",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    pub fn blame(&mut self, path: &str, revision: Option<&str>) -> Result<BlameResult> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        let revision_str = revision.unwrap_or(\"HEAD\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        // Resolve revision to a commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "        let obj = self",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "            .repo",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "            .revparse_single(revision_str)",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "            .with_context(|| format!(\"Failed to resolve revision: {}\", revision_str))?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "        let commit = obj",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "            .peel_to_commit()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "            .with_context(|| format!(\"Could not peel to commit: {}\", revision_str))?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        // Get the file content at this revision",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        let tree = commit.tree()?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        let entry = tree",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            .get_path(std::path::Path::new(path))",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            .with_context(|| format!(\"File not found: {}\", path))?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        let blob = self.repo.find_blob(entry.id())?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        let content = std::str::from_utf8(blob.content())",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "            .with_context(|| format!(\"File is not valid UTF-8: {}\", path))?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "        // Run git blame with move/copy detection",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "        let mut blame_opts = BlameOptions::new();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        blame_opts.track_copies_same_file(true);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        blame_opts.track_copies_same_commit_moves(true);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "        blame_opts.newest_commit(commit.id());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "        let blame = self",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "            .repo",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "            .blame_file(std::path::Path::new(path), Some(&mut blame_opts))",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            .with_context(|| format!(\"Failed to blame file: {}\", path))?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        // Collect unique commits from blame",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        let mut unique_commits: Vec<String> = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "        for hunk in blame.iter() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "            let commit_id = hunk.final_commit_id().to_string();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "            if !unique_commits.contains(&commit_id) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "                unique_commits.push(commit_id);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        // Pre-fetch all attributions for these commits",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "        self.prefetch_attributions(&unique_commits)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        // Process each line",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "        let lines: Vec<&str> = content.lines().collect();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "        let mut results = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "        for (idx, line_content) in lines.iter().enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "            let line_number = (idx + 1) as u32;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "            // Find the blame hunk for this line",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "            if let Some(hunk) = blame.get_line(line_number as usize) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "                let commit_id = hunk.final_commit_id().to_string();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "                // Git commit IDs are hex strings (ASCII), so char boundary is always safe",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "                let commit_short = if commit_id.len() >= 7 {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "                    commit_id[..7].to_string()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "                    commit_id.clone()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                };",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                // Get author from the blame hunk signature",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                let author = hunk",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                    .final_signature()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "                    .name()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "                    .unwrap_or(\"Unknown\")",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "                    .to_string();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "                // Calculate original line position for attribution lookup",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "                // Offset = current line - start of this hunk in final file",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "                let line_offset = line_number.saturating_sub(hunk.final_start_line() as u32);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "                let original_line = hunk.orig_start_line() as u32 + line_offset;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "                // Look up AI attribution",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "                let (source, prompt_index, prompt_preview) =",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "                    self.find_line_attribution(&commit_id, path, original_line);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "                results.push(BlameLineResult {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                    line_number,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "                    content: line_content.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "                    commit_id,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "                    commit_short,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "                    author,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "                    source,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "                    prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "                    prompt_preview,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "                });",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        Ok(BlameResult {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "            path: path.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "            revision: revision_str.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            lines: results,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        })",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    /// Pre-fetch attributions for a batch of commits",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    fn prefetch_attributions(&mut self, commit_ids: &[String]) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        for commit_id in commit_ids {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "            if !self.attribution_cache.contains_key(commit_id) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "                let oid = git2::Oid::from_str(commit_id)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "                let attribution = self.notes_store.fetch_attribution(oid)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "                self.attribution_cache",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "                    .insert(commit_id.clone(), attribution);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "        Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    /// Find AI attribution for a specific line",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    fn find_line_attribution(",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        &self,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        commit_id: &str,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "        path: &str,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        line: u32,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    ) -> (LineSource, Option<u32>, Option<String>) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        if let Some(Some(attribution)) = self.attribution_cache.get(commit_id) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "            // Find file attribution",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "            if let Some(file_attr) = attribution.files.iter().find(|f| f.path == path) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "                // Find line attribution by line number",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "                if let Some(line_attr) = file_attr.lines.iter().find(|l| l.line_number == line) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "                    // Get prompt preview if available",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "                    let prompt_preview = line_attr.prompt_index.and_then(|idx| {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                        attribution",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "                            .get_prompt(idx)",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "                            .map(|p| truncate_prompt(&p.text, PROMPT_PREVIEW_LEN))",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "                    });",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "                    return (",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "                        line_attr.source.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "                        line_attr.prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "                        prompt_preview,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "                    );",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        // Default to Unknown if no attribution found",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        (LineSource::Unknown, None, None)",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    /// Get attribution for a specific commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    pub fn get_commit_attribution(&mut self, commit_id: &str) -> Result<Option<AIAttribution>> {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        if let Some(cached) = self.attribution_cache.get(commit_id) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            return Ok(cached.clone());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        let oid = git2::Oid::from_str(commit_id)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        let attribution = self.notes_store.fetch_attribution(oid)?;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        self.attribution_cache",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "            .insert(commit_id.to_string(), attribution.clone());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "        Ok(attribution)",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "    use crate::capture::snapshot::{AttributionSummary, FileAttributionResult, LineAttribution};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    use crate::core::attribution::{ModelInfo, PromptInfo, SessionMetadata};",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    use git2::Signature;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    use std::fs;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "    use tempfile::TempDir;",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    /// Create a test repository with a single commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    fn create_test_repo() -> (TempDir, Repository) {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        let dir = TempDir::new().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "        // Configure git user",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        let mut config = repo.config().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        config.set_str(\"user.name\", \"Test User\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        config.set_str(\"user.email\", \"test@example.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "        (dir, repo)",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    /// Create a commit with a file",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "    fn create_commit(repo: &Repository, dir: &TempDir, filename: &str, content: &str) -> git2::Oid {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        let file_path = dir.path().join(filename);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        fs::write(&file_path, content).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        let mut index = repo.index().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        index.add_path(std::path::Path::new(filename)).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "        index.write().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        let sig = Signature::now(\"Test User\", \"test@example.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        // Check if we have a parent commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "        let parents: Vec<git2::Commit> = if let Ok(head) = repo.head() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "            vec![head.peel_to_commit().unwrap()]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "            vec![]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "        let parent_refs: Vec<&git2::Commit> = parents.iter().collect();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        repo.commit(",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "            Some(\"HEAD\"),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "            &sig,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "            &sig,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "            &format!(\"Add {}\", filename),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "            &tree,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            &parent_refs,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        )",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "        .unwrap()",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "    fn test_blame_file_without_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "        // Create a simple file",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "        create_commit(&repo, &dir, \"test.rs\", \"fn main() {\\n    println!(\\\"hello\\\");\\n}\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "        // Run blame",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        let mut blamer = AIBlamer::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        let result = blamer.blame(\"test.rs\", None).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        assert_eq!(result.path, \"test.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        assert_eq!(result.revision, \"HEAD\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "        assert_eq!(result.lines.len(), 3);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        // Without attribution, all lines should be Unknown",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "            assert!(matches!(line.source, LineSource::Unknown));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "            assert!(line.prompt_index.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "            assert!(line.prompt_preview.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        // Verify line content",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        assert!(result.lines[0].content.contains(\"fn main\"));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        assert!(result.lines[1].content.contains(\"println\"));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        assert!(result.lines[2].content.contains(\"}\"));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "    fn test_blame_with_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        // Create a commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        let commit_id =",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "            create_commit(&repo, &dir, \"test.rs\", \"fn hello() {\\n    println!(\\\"hi\\\");\\n}\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        // Store attribution for this commit",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        let notes_store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "                session_id: \"test-session\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "                model: ModelInfo::claude(\"test-model\"),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "            prompts: vec![PromptInfo {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "                index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "                text: \"Create hello function with greeting\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "                timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "                affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "                lines: vec![",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "                    LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "                        line_number: 1,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "                        content: \"fn hello() {\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "                        source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "                            edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "                        edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "                        prompt_index: Some(0),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "                        confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "                    LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "                        line_number: 2,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "                        content: \"    println!(\\\"hi\\\");\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "                        source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "                            edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "                        edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "                        prompt_index: Some(0),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "                        confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "                    LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "                        line_number: 3,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "                        content: \"}\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "                        source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "                            edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "                        edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "                        prompt_index: Some(0),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "                        confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "                ],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "                    total_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "                    ai_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "                    ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "                    human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "                    original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "        notes_store.store_attribution(commit_id, &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "        // Run blame",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "        let mut blamer = AIBlamer::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "        let result = blamer.blame(\"test.rs\", None).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "        // All lines should now have AI attribution",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "        for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            assert!(line.source.is_ai(), \"Line {} should be AI\", line.line_number);",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "            assert_eq!(line.prompt_index, Some(0));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "            assert!(line.prompt_preview.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "            assert!(line.prompt_preview.as_ref().unwrap().contains(\"hello\"));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    fn test_get_commit_attribution_caching() {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "        let commit_id = create_commit(&repo, &dir, \"test.rs\", \"fn test() {}\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "        // Store attribution",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "        let notes_store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "                session_id: \"cache-test\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "                model: ModelInfo::claude(\"test-model\"),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "            files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "        notes_store.store_attribution(commit_id, &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "        // Create blamer and fetch attribution twice",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "        let mut blamer = AIBlamer::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "        let commit_str = commit_id.to_string();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "        // First fetch - should go to notes store",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "        let result1 = blamer.get_commit_attribution(&commit_str).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        assert!(result1.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "        assert_eq!(result1.unwrap().session.session_id, \"cache-test\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "        // Second fetch - should come from cache",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "        let result2 = blamer.get_commit_attribution(&commit_str).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "        assert!(result2.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "        assert_eq!(result2.unwrap().session.session_id, \"cache-test\");",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "        // Verify it was cached",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "        assert!(blamer.attribution_cache.contains_key(&commit_str));",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d"
          },
          "edit_id": "5fc62caa-f7ac-4729-b646-59db1706844d",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 391,
        "ai_lines": 390,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 1,
        "unknown_lines": 0
      }
    },
    {
      "path": "rustfmt.toml",
      "lines": [
        {
          "line_number": 1,
          "content": "# Rust formatting configuration",
          "source": {
            "type": "AI",
            "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e"
          },
          "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e",
          "prompt_index": 31,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "edition = \"2021\"",
          "source": {
            "type": "AI",
            "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e"
          },
          "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e",
          "prompt_index": 31,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "max_width = 100",
          "source": {
            "type": "AI",
            "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e"
          },
          "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e",
          "prompt_index": 31,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "tab_spaces = 4",
          "source": {
            "type": "AI",
            "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e"
          },
          "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e",
          "prompt_index": 31,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use_small_heuristics = \"Default\"",
          "source": {
            "type": "AI",
            "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e"
          },
          "edit_id": "13ba536a-02d3-465d-8c2b-cafc4436226e",
          "prompt_index": 31,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 5,
        "ai_lines": 5,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/summary.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::{Args, ValueEnum};",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Output format for summary command",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "#[derive(Debug, Clone, Copy, Default, ValueEnum)]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub enum SummaryFormat {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    /// Human-readable terminal output with colors",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    #[default]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// JSON output for machine consumption",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    Json,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    /// Markdown output for documentation/PRs",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    #[value(alias = \"md\")]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    Markdown,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "/// Summary command arguments",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "pub struct SummaryArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    /// Base commit (exclusive) - defaults to first commit if not specified",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    pub base: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    /// Head commit (inclusive) - defaults to HEAD",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    #[arg(long, default_value = \"HEAD\")]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    pub head: String,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    /// Output format",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    #[arg(long, value_enum, default_value_t = SummaryFormat::Pretty)]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    pub format: SummaryFormat,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "/// Aggregated summary across multiple commits",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "#[derive(Debug, Default)]",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "struct AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    commits_analyzed: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    commits_with_ai: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    total_ai_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    total_ai_modified_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    total_human_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    total_original_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    files_touched: Vec<String>,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    models_used: Vec<String>,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "impl AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Total lines including unchanged (for showing full breakdown)",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    fn total_lines(&self) -> usize {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        self.total_ai_lines",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "            + self.total_ai_modified_lines",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "            + self.total_human_lines",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            + self.total_original_lines",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    /// Only lines that were actually changed (not original/unchanged)",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    fn changed_lines(&self) -> usize {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        self.total_ai_lines + self.total_ai_modified_lines + self.total_human_lines",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    /// AI involvement as percentage of CHANGED lines (not including original)",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    fn ai_percentage(&self) -> f64 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        let changed = self.changed_lines();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "        if changed == 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            0.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "            ((self.total_ai_lines + self.total_ai_modified_lines) as f64 / changed as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "/// Run the summary command",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "pub fn run(args: SummaryArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    // Resolve head commit",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    let head_obj = repo",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        .revparse_single(&args.head)",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        .with_context(|| format!(\"Failed to resolve: {}\", args.head))?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    let head_commit = head_obj",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        .peel_to_commit()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        .with_context(|| format!(\"Not a valid commit: {}\", args.head))?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    // Get commits to analyze",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    let mut revwalk = repo.revwalk()?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "    revwalk.push(head_commit.id())?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    // If base is specified, exclude it and its ancestors",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    if let Some(base_ref) = &args.base {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        let base_obj = repo",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            .revparse_single(base_ref)",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "            .with_context(|| format!(\"Failed to resolve base: {}\", base_ref))?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        let base_commit = base_obj",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "            .peel_to_commit()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "            .with_context(|| format!(\"Not a valid commit: {}\", base_ref))?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "        revwalk.hide(base_commit.id())?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    // Analyze commits",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    let mut summary = AggregateSummary::default();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    for oid_result in revwalk {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "        let oid = oid_result?;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "        summary.commits_analyzed += 1;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        if let Ok(Some(attr)) = notes_store.fetch_attribution(oid) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            summary.commits_with_ai += 1;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "            // Aggregate file statistics",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "            for file in &attr.files {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "                summary.total_ai_lines += file.summary.ai_lines;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "                summary.total_ai_modified_lines += file.summary.ai_modified_lines;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "                summary.total_human_lines += file.summary.human_lines;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "                summary.total_original_lines += file.summary.original_lines;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "                if !summary.files_touched.contains(&file.path) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "                    summary.files_touched.push(file.path.clone());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            // Track models used",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            if !summary.models_used.contains(&attr.session.model.id) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "                summary.models_used.push(attr.session.model.id.clone());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "    // Output based on format",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "    match args.format {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        SummaryFormat::Pretty => print_pretty(&summary),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "        SummaryFormat::Json => print_json(&summary),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        SummaryFormat::Markdown => print_markdown(&summary),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "fn print_pretty(summary: &AggregateSummary) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    println!(\"{}\", \"\".repeat(60).dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "    println!(\"{}\", \"  AI Attribution Summary\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    println!(\"{}\", \"\".repeat(60).dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "        \"Commits analyzed: {} ({} with AI attribution)\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        summary.commits_analyzed.to_string().cyan(),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        summary.commits_with_ai.to_string().green()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    if summary.commits_with_ai == 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "        println!(\"No AI attribution data found in the specified commit range.\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "        return;",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    println!(\"{}\", \"Line Attribution:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        \"  {} AI-generated lines\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        summary.total_ai_lines.to_string().green()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        \"  {} AI lines modified by human\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        summary.total_ai_modified_lines.to_string().yellow()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        \"  {} human-added lines\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        summary.total_human_lines.to_string().blue()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        \"  {} original/unchanged lines\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        summary.total_original_lines.to_string().dimmed()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "        \"{}: {:.1}%\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        \"AI involvement\".bold(),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        summary.ai_percentage()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    println!(\"{}\", \"Files with AI changes:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "    for file in &summary.files_touched {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        println!(\"  - {}\", file);",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    if !summary.models_used.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "        println!(\"{}\", \"Models used:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        for model in &summary.models_used {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "            println!(\"  - {}\", model.cyan());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    println!(\"{}\", \"\".repeat(60).dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "fn print_json(summary: &AggregateSummary) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    let output = serde_json::json!({",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "        \"commits_analyzed\": summary.commits_analyzed,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        \"commits_with_ai\": summary.commits_with_ai,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        \"lines\": {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "            \"ai\": summary.total_ai_lines,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "            \"ai_modified\": summary.total_ai_modified_lines,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "            \"human\": summary.total_human_lines,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "            \"original\": summary.total_original_lines,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "            \"total\": summary.total_lines(),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "        },",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        \"ai_percentage\": summary.ai_percentage(),",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        \"files\": summary.files_touched,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        \"models\": summary.models_used,",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "    });",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "        \"{}\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "        serde_json::to_string_pretty(&output).unwrap_or_else(|_| \"{}\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "fn print_markdown(summary: &AggregateSummary) {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    let total = summary.total_lines();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    let ai_pct = if total > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        (summary.total_ai_lines as f64 / total as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        0.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    let mod_pct = if total > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        (summary.total_ai_modified_lines as f64 / total as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        0.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    let human_pct = if total > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        (summary.total_human_lines as f64 / total as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        0.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    let orig_pct = if total > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "        (summary.total_original_lines as f64 / total as f64) * 100.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "        0.0",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "    let emoji = if summary.ai_percentage() >= 80.0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        \"\"",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "    } else if summary.ai_percentage() >= 50.0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        \"\"",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "    } else if summary.ai_percentage() >= 20.0 {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "        \"\"",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        \"\"",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    println!(\"## {} AI Attribution Summary\", emoji);",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        \"**{}** of **{}** commits contain AI-assisted changes.\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        summary.commits_with_ai, summary.commits_analyzed",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    println!(\"### Overview\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    println!(\"| Metric | Lines | Percentage |\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "    println!(\"|--------|------:|----------:|\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        \"|  AI-generated | {} | {:.1}% |\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        summary.total_ai_lines, ai_pct",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "        \"|  AI-modified by human | {} | {:.1}% |\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        summary.total_ai_modified_lines, mod_pct",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        \"|  Human-added | {} | {:.1}% |\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "        summary.total_human_lines, human_pct",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        \"|  Original/unchanged | {} | {:.1}% |\",",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        summary.total_original_lines, orig_pct",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    println!(\"| **Total** | **{}** | **100%** |\", total);",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "        \"**AI involvement: {:.1}%** of changed lines\",",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 290,
          "content": "        summary.ai_percentage()",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "    if !summary.files_touched.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "        println!(\"### Files with AI Changes\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "        println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "        for file in &summary.files_touched {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "            println!(\"- `{}`\", file);",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "    if !summary.models_used.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "        println!(\"### Models Used\");",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "        println!();",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "        for model in &summary.models_used {",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "            println!(\"- {}\", model);",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403"
          },
          "edit_id": "4de419a7-f4fd-4ce6-803f-34cdd2863403",
          "prompt_index": 30,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 310,
        "ai_lines": 309,
        "ai_modified_lines": 0,
        "human_lines": 1,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "Cargo.toml",
      "lines": [
        {
          "line_number": 1,
          "content": "[package]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "name = \"ai-blame\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "version = \"0.1.0\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "edition = \"2021\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "description = \"Track AI-generated code at line-level granularity\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "license = \"MIT\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "repository = \"https://github.com/dotsetlabs/ai-blame\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "homepage = \"https://github.com/dotsetlabs/ai-blame\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "readme = \"README.md\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "keywords = [\"git\", \"ai\", \"attribution\", \"cli\", \"blame\"]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "categories = [\"command-line-utilities\", \"development-tools\"]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "rust-version = \"1.70\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "[dependencies]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "git2 = \"0.18\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "clap = { version = \"4\", features = [\"derive\"] }",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "serde = { version = \"1\", features = [\"derive\"] }",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "serde_json = \"1\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "similar = \"2\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "anyhow = \"1\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "chrono = { version = \"0.4\", features = [\"serde\"] }",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "sha2 = \"0.10\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "colored = \"2\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "regex = \"1\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "uuid = { version = \"1\", features = [\"v4\"] }",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "[dev-dependencies]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "tempfile = \"3\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "[profile.release]",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "lto = \"thin\"",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "codegen-units = 1",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "strip = true",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "opt-level = 3",
          "source": {
            "type": "AI",
            "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522"
          },
          "edit_id": "69d4beb7-a7ba-4e90-831d-ee8786b3d522",
          "prompt_index": 4,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 34,
        "ai_lines": 34,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/mod.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "pub mod blame;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "pub mod output;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "pub mod prompt;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "pub mod show;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "pub mod summary;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use std::fs;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "use clap::{Parser, Subcommand};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "#[cfg(unix)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "use std::os::unix::fs::PermissionsExt;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "use crate::capture::hook;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "/// AI-aware git blame tool for tracking AI-generated code",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "#[derive(Debug, Parser)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "#[command(name = \"ai-blame\")]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "#[command(author, version, about, long_about = None)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "pub struct Cli {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    #[command(subcommand)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    pub command: Commands,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "#[derive(Debug, Subcommand)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "pub enum Commands {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    /// Show AI attribution for each line of a file",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    Blame(blame::BlameArgs),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    /// View the prompt that generated specific lines",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    Prompt(prompt::PromptArgs),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Show AI attribution summary for a commit",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    Show(show::ShowArgs),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    /// Generate summary for a range of commits (useful for PRs)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    Summary(summary::SummaryArgs),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    /// Capture a file change (called by Claude Code hook)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    Capture(CaptureArgs),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    /// Finalize attribution after a commit (post-commit hook)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    PostCommit,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    /// Show pending changes status",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    Status,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    /// Clear pending changes without committing",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    Clear,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    /// Initialize ai-blame in a git repository (installs post-commit hook)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    Init,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "/// Capture command arguments",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "pub struct CaptureArgs {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    /// Read hook input from stdin",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    pub stdin: bool,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    /// File path (if not using stdin)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    pub file: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    /// Tool name",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    pub tool: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    /// Prompt text",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    pub prompt: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "/// Run the CLI",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "pub fn run() -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    let cli = Cli::parse();",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    match cli.command {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        Commands::Blame(args) => blame::run(args),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        Commands::Prompt(args) => prompt::run(args),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        Commands::Show(args) => show::run(args),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        Commands::Summary(args) => summary::run(args),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        Commands::Capture(args) => run_capture(args),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        Commands::PostCommit => run_post_commit(),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        Commands::Status => run_status(),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        Commands::Clear => run_clear(),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        Commands::Init => run_init(),",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "fn run_capture(args: CaptureArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    if args.stdin {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        hook::run_capture_hook()",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        anyhow::bail!(\"Capture requires --stdin flag for hook input\")",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "fn run_post_commit() -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    hook::run_post_commit_hook()",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "fn run_status() -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    let repo = git2::Repository::discover(\".\")?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    let repo_root = repo",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.6666666666666666
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.6666666666666666
        },
        {
          "line_number": 108,
          "content": "        .workdir()",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 109,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    let hook_handler = crate::capture::CaptureHook::new(repo_root)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    let status = hook_handler.status()?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    if status.has_pending {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        println!(\"Pending AI attribution:\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "        println!(",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 117,
          "content": "            \"  Session: {}\",",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 118,
          "content": "            status.session_id.as_deref().unwrap_or(\"unknown\")",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.6363636363636364
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.6363636363636364
        },
        {
          "line_number": 119,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        println!(\"  Files: {}\", status.file_count);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        println!(\"  Edits: {}\", status.edit_count);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        println!(\"  Lines: {}\", status.line_count);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        if !status.age.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            println!(\"  Age: {}\", status.age);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        if status.is_stale {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            println!(\"\\n  Warning: This pending buffer is stale (> 24 hours old).\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "            println!(\"   Run 'ai-blame clear' if these changes are no longer relevant.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            println!(\"\\nRun 'git commit' to finalize attribution.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        println!(\"No pending AI attribution.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "fn run_clear() -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    let repo = git2::Repository::discover(\".\")?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    let repo_root = repo",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.6666666666666666
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.6666666666666666
        },
        {
          "line_number": 143,
          "content": "        .workdir()",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 144,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    let hook_handler = crate::capture::CaptureHook::new(repo_root)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    hook_handler.clear_pending()?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    println!(\"Cleared pending AI attribution.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "fn run_init() -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 156,
          "content": "    let repo_root = repo",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.6666666666666666
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.6666666666666666
        },
        {
          "line_number": 157,
          "content": "        .workdir()",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 158,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    let hooks_dir = repo_root.join(\".git/hooks\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    fs::create_dir_all(&hooks_dir).context(\"Failed to create hooks directory\")?;",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.6052631578947368
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.6052631578947368
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    // Install post-commit hook (attaches attribution to commits)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    install_post_commit_hook(&hooks_dir)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    // Install pre-push hook (auto-pushes notes with regular git push)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    install_pre_push_hook(&hooks_dir)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    // Configure git to auto-fetch notes",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    configure_git_fetch(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    println!(\"\\nSetup complete! AI attribution will be tracked for commits in this repo.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    println!(\"Notes will be automatically pushed with 'git push' and fetched with 'git fetch'.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    println!(\"\\nMake sure Claude Code hooks are configured in ~/.claude/settings.json\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "fn install_post_commit_hook(hooks_dir: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    let hook_path = hooks_dir.join(\"post-commit\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        let content = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        if content.contains(\"ai-blame\") {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "            println!(\" ai-blame post-commit hook already installed.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "            return Ok(());",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        // Append to existing hook",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        let new_content = format!(",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "            \"{}\\n\\n# ai-blame post-commit hook\\nif command -v ai-blame &> /dev/null; then\\n    ai-blame post-commit 2>/dev/null || true\\nfi\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            content.trim_end()",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "        fs::write(&hook_path, new_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        println!(\" Added ai-blame to existing post-commit hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        let hook_content = r#\"#!/bin/bash",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "# ai-blame post-commit hook",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "# Attaches AI attribution notes to the commit",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "if command -v ai-blame &> /dev/null; then",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "    ai-blame post-commit 2>/dev/null || true",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "elif [[ -x \"$HOME/.cargo/bin/ai-blame\" ]]; then",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "    \"$HOME/.cargo/bin/ai-blame\" post-commit 2>/dev/null || true",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "fi",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "\"#;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        fs::write(&hook_path, hook_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        make_executable(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        println!(\" Installed ai-blame post-commit hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "fn install_pre_push_hook(hooks_dir: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "    let hook_path = hooks_dir.join(\"pre-push\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "        let content = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        if content.contains(\"ai-blame\") {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "            println!(\" ai-blame pre-push hook already installed.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "            return Ok(());",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        // Append to existing hook",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "        let new_content = format!(",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "            \"{}\\n\\n# ai-blame pre-push hook - automatically push notes\\n# Skip if already pushing notes (prevent recursion)\\n[[ \\\"$AI_BLAME_PUSHING_NOTES\\\" == \\\"1\\\" ]] && exit 0\\nremote=\\\"$1\\\"\\nif git notes --ref=ai-blame list &>/dev/null; then\\n    AI_BLAME_PUSHING_NOTES=1 git push \\\"$remote\\\" refs/notes/ai-blame 2>/dev/null || true\\nfi\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "            content.trim_end()",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        fs::write(&hook_path, new_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        println!(\" Added ai-blame to existing pre-push hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        let hook_content = r#\"#!/bin/bash",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "# ai-blame pre-push hook",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "# Automatically pushes ai-blame notes alongside regular pushes",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "# Prevent recursion - skip if we're already pushing notes",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "[[ \"$AI_BLAME_PUSHING_NOTES\" == \"1\" ]] && exit 0",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "remote=\"$1\"",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "# Only push notes if they exist",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "if git notes --ref=ai-blame list &>/dev/null; then",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    AI_BLAME_PUSHING_NOTES=1 git push \"$remote\" refs/notes/ai-blame 2>/dev/null || true",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "fi",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "\"#;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "        fs::write(&hook_path, hook_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        make_executable(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        println!(\" Installed ai-blame pre-push hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "/// Make a file executable (Unix only - no-op on Windows)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "#[cfg(unix)]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "fn make_executable(path: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "    let mut perms = fs::metadata(path)?.permissions();",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    perms.set_mode(0o755);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "    fs::set_permissions(path, perms)?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "/// Make a file executable (no-op on Windows - scripts are executable by default)",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "#[cfg(not(unix))]",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "fn make_executable(_path: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    // On Windows, scripts don't need execute permission",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "/// Configure git to automatically fetch ai-blame notes",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "fn configure_git_fetch(repo: &git2::Repository) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "    let mut config = repo.config().context(\"Failed to open git config\")?;",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 274,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    let fetch_refspec = \"+refs/notes/ai-blame:refs/notes/ai-blame\";",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "    let fetch_configured = config",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        .get_string(\"remote.origin.fetch\")",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "        .map(|v| v.contains(\"ai-blame\"))",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        .unwrap_or(false);",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "    if !fetch_configured {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        config",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 283,
          "content": "            .set_multivar(\"remote.origin.fetch\", \"^$\", fetch_refspec)",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.9047619047619048
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.9047619047619048
        },
        {
          "line_number": 284,
          "content": "            .or_else(|_| config.set_str(\"remote.origin.fetch\", fetch_refspec))",
          "source": {
            "type": "AIModified",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
            "similarity": 0.7878787878787878
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 0.7878787878787878
        },
        {
          "line_number": 285,
          "content": "            .context(\"Failed to configure fetch refspec\")?;",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        println!(\" Configured git to fetch ai-blame notes automatically.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        println!(\" Git already configured to fetch ai-blame notes.\");",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102"
          },
          "edit_id": "0b12c79e-bb5e-4efc-b079-53388adbb102",
          "prompt_index": 1,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 292,
        "ai_lines": 276,
        "ai_modified_lines": 7,
        "human_lines": 8,
        "original_lines": 1,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/capture/diff.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use sha2::{Digest, Sha256};",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use similar::{ChangeTag, TextDiff};",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use crate::utils::{hex, DIFF_HASH_BYTES};",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "/// A hunk of changed lines in a diff",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "#[derive(Debug, Clone)]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "pub struct DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "    /// Starting line in the new file (1-indexed)",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "    pub new_start: u32,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    /// Number of lines in the new file",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    pub new_count: u32,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    /// The actual new lines content",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    pub content: Vec<String>,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "impl DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    /// Compute SHA-256 hash of the content",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    pub fn content_hash(&self) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "        let mut hasher = Sha256::new();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        for line in &self.content {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "            hasher.update(line.as_bytes());",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "            hasher.update(b\"\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "        let result = hasher.finalize();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        hex::encode(&result[..DIFF_HASH_BYTES])",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "/// Result of computing a diff",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "#[derive(Debug)]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "pub struct DiffResult {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    /// Added/modified hunks",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    pub hunks: Vec<DiffHunk>,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    /// Total lines added",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    pub lines_added: u32,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    /// Total lines removed",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    pub lines_removed: u32,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "/// Compute line-level diff between old and new content",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "pub fn compute_diff(old_content: &str, new_content: &str) -> DiffResult {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    let diff = TextDiff::from_lines(old_content, new_content);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    let mut hunks = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    let mut lines_added = 0u32;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    let mut lines_removed = 0u32;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    let mut current_hunk: Option<DiffHunk> = None;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    let mut new_line_num = 0u32;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    for change in diff.iter_all_changes() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        match change.tag() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "            ChangeTag::Equal => {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "                // Flush current hunk if exists",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "                if let Some(hunk) = current_hunk.take() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "                    if !hunk.content.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "                        hunks.push(hunk);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "                    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "                new_line_num += 1;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "            ChangeTag::Insert => {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "                new_line_num += 1;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "                lines_added += 1;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "                let line = change.value().trim_end_matches('\\n').to_string();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "                if let Some(ref mut hunk) = current_hunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "                    // Extend existing hunk if contiguous",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "                    if hunk.new_start + hunk.new_count == new_line_num {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "                        hunk.new_count += 1;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "                        hunk.content.push(line);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "                    } else {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "                        // Start new hunk",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "                        let old_hunk = current_hunk.take().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "                        if !old_hunk.content.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "                            hunks.push(old_hunk);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "                        }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "                        current_hunk = Some(DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "                            new_start: new_line_num,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "                            new_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "                            content: vec![line],",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "                        });",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "                    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "                    // Start new hunk",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "                    current_hunk = Some(DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                        new_start: new_line_num,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "                        new_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                        content: vec![line],",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                    });",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            ChangeTag::Delete => {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "                lines_removed += 1;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "                // Deletions don't advance new line number",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    // Flush final hunk",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    if let Some(hunk) = current_hunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "        if !hunk.content.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "            hunks.push(hunk);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    DiffResult {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        hunks,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        lines_added,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        lines_removed,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "/// Compute diff for a newly created file (all lines are additions)",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "pub fn compute_create_diff(content: &str) -> DiffResult {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    compute_diff(\"\", content)",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "    fn test_simple_addition() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        let old = \"line1\\nline2\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        let new = \"line1\\nline2\\nline3\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        let result = compute_diff(old, new);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        assert_eq!(result.lines_added, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        assert_eq!(result.lines_removed, 0);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        assert_eq!(result.hunks.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "        assert_eq!(result.hunks[0].new_start, 3);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        assert_eq!(result.hunks[0].new_count, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "        assert_eq!(result.hunks[0].content, vec![\"line3\"]);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    fn test_insertion_in_middle() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        let old = \"line1\\nline3\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        let new = \"line1\\nline2\\nline3\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        let result = compute_diff(old, new);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        assert_eq!(result.lines_added, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "        assert_eq!(result.hunks.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        assert_eq!(result.hunks[0].new_start, 2);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    fn test_multiple_hunks() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "        let old = \"a\\nb\\nc\\nd\\ne\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "        let new = \"a\\nX\\nb\\nc\\nY\\nd\\ne\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "        let result = compute_diff(old, new);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "        assert_eq!(result.lines_added, 2);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "        assert_eq!(result.hunks.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "        assert_eq!(result.hunks[0].new_start, 2);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        assert_eq!(result.hunks[0].content, vec![\"X\"]);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        assert_eq!(result.hunks[1].new_start, 5);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        assert_eq!(result.hunks[1].content, vec![\"Y\"]);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    fn test_create_diff() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        let content = \"line1\\nline2\\nline3\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "        let result = compute_create_diff(content);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        assert_eq!(result.lines_added, 3);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        assert_eq!(result.hunks.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "        assert_eq!(result.hunks[0].new_start, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        assert_eq!(result.hunks[0].new_count, 3);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "    fn test_content_hash() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        let hunk = DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            new_start: 1,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "            new_count: 2,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "            content: vec![\"hello\".to_string(), \"world\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        let hash = hunk.content_hash();",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        assert_eq!(hash.len(), 16); // 8 bytes = 16 hex chars",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        // Same content should produce same hash",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        let hunk2 = DiffHunk {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "            new_start: 100,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            new_count: 2,",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "            content: vec![\"hello\".to_string(), \"world\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        assert_eq!(hunk.content_hash(), hunk2.content_hash());",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    fn test_replacement() {",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        let old = \"old line\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        let new = \"new line\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "        let result = compute_diff(old, new);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "        assert_eq!(result.lines_added, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "        assert_eq!(result.lines_removed, 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        assert_eq!(result.hunks.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        assert_eq!(result.hunks[0].content, vec![\"new line\"]);",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a"
          },
          "edit_id": "7a0c9e14-80e2-45a7-be1f-c86c085f231a",
          "prompt_index": 18,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 210,
        "ai_lines": 210,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/capture/snapshot.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use chrono::Utc;",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use serde::{Deserialize, Serialize};",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use sha2::{Digest, Sha256};",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use crate::utils::{hex, CONTENT_HASH_BYTES};",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "/// A point-in-time snapshot of a file's content",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "pub struct ContentSnapshot {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "    /// Full file content at this point",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    pub content: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// SHA-256 hash of content for quick comparison",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub content_hash: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// When this snapshot was taken",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub timestamp: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    /// Line count at this snapshot",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub line_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "impl ContentSnapshot {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    pub fn new(content: &str) -> Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "        Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "            content: content.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "            content_hash: compute_hash(content),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "            timestamp: Utc::now().to_rfc3339(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "            line_count: content.lines().count(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    pub fn empty() -> Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        Self::new(\"\")",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    pub fn lines(&self) -> Vec<&str> {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "        self.content.lines().collect()",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "/// Represents a single AI edit operation on a file",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "pub struct AIEdit {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    /// Unique ID for this edit",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    pub edit_id: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    /// The prompt that triggered this edit",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    pub prompt: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    /// Prompt index within the session",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    pub prompt_index: u32,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    /// Tool used (Edit, Write)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    pub tool: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    /// Content BEFORE this edit",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    pub before: ContentSnapshot,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    /// Content AFTER this edit",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    pub after: ContentSnapshot,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    /// Timestamp of this edit",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    pub timestamp: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "impl AIEdit {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    pub fn new(",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "        prompt: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        prompt_index: u32,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        tool: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        before_content: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "        after_content: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    ) -> Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            edit_id: uuid::Uuid::new_v4().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            prompt: prompt.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "            prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "            tool: tool.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "            before: ContentSnapshot::new(before_content),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            after: ContentSnapshot::new(after_content),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "            timestamp: Utc::now().to_rfc3339(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "/// Tracks the complete edit history for a single file",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "pub struct FileEditHistory {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    /// File path relative to repo root",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    pub path: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    /// Original content when tracking started (before any AI edits)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    pub original: ContentSnapshot,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    /// Ordered list of AI edits",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    pub edits: Vec<AIEdit>,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    /// Whether file existed before tracking",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    pub was_new_file: bool,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "impl FileEditHistory {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    pub fn new(path: &str, original_content: Option<&str>) -> Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "        let (original, was_new) = match original_content {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "            Some(content) => (ContentSnapshot::new(content), false),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            None => (ContentSnapshot::empty(), true),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "        Self {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "            path: path.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "            original,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "            edits: Vec::new(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            was_new_file: was_new,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    /// Add an AI edit to the history",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    pub fn add_edit(&mut self, edit: AIEdit) {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "        self.edits.push(edit);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    /// Get the content after all AI edits",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    pub fn latest_ai_content(&self) -> &ContentSnapshot {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        self.edits",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 114,
          "content": "            .last()",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 115,
          "content": "            .map(|e| &e.after)",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 116,
          "content": "            .unwrap_or(&self.original)",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 117,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    /// Get all unique prompts used for this file",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    pub fn prompts(&self) -> Vec<&str> {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        self.edits.iter().map(|e| e.prompt.as_str()).collect()",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    /// Check if content matches any AI snapshot",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    pub fn find_matching_edit(&self, content_hash: &str) -> Option<&AIEdit> {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        self.edits",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 127,
          "content": "            .iter()",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 128,
          "content": "            .find(|e| e.after.content_hash == content_hash)",
          "source": {
            "type": "AIModified",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
            "similarity": 0.734375
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 0.734375
        },
        {
          "line_number": 129,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "/// Result of line-level attribution analysis",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "pub struct LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    /// Line number (1-indexed)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    pub line_number: u32,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    /// The actual line content",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    pub content: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    /// Attribution source",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    pub source: LineSource,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    /// If AI-generated, which edit created it",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    pub edit_id: Option<String>,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "    /// If AI-generated, the prompt index",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    pub prompt_index: Option<u32>,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "    /// Confidence in the attribution (0.0-1.0)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    pub confidence: f64,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "/// Source of a line",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize, PartialEq)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "#[serde(tag = \"type\")]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "pub enum LineSource {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    /// Line existed before any AI edits (original/human)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "    Original,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "    /// Line was added by AI and unchanged",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    AI { edit_id: String },",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "    /// Line was added by AI but modified by human",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    AIModified { edit_id: String, similarity: f64 },",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    /// Line was added by human after AI edits",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    Human,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    /// Unable to determine source",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    Unknown,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "impl LineSource {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    pub fn is_ai(&self) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        matches!(self, LineSource::AI { .. } | LineSource::AIModified { .. })",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    pub fn is_human(&self) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        matches!(self, LineSource::Original | LineSource::Human)",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "/// Result of analyzing a file's final state against its edit history",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "pub struct FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    pub path: String,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "    pub lines: Vec<LineAttribution>,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    pub summary: AttributionSummary,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "pub struct AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    pub total_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    pub ai_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    pub ai_modified_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "    pub human_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    pub original_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    pub unknown_lines: usize,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "impl FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    pub fn compute_summary(lines: &[LineAttribution]) -> AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        let mut summary = AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "            total_lines: lines.len(),",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "            ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "            original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "            unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "        for line in lines {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "            match &line.source {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "                LineSource::Original => summary.original_lines += 1,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "                LineSource::AI { .. } => summary.ai_lines += 1,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "                LineSource::AIModified { .. } => summary.ai_modified_lines += 1,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "                LineSource::Human => summary.human_lines += 1,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "                LineSource::Unknown => summary.unknown_lines += 1,",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "        summary",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "/// Compute SHA-256 hash of content",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "pub fn compute_hash(content: &str) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "    let mut hasher = Sha256::new();",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    hasher.update(content.as_bytes());",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "    let result = hasher.finalize();",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    hex::encode(&result[..CONTENT_HASH_BYTES])",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    fn test_content_snapshot() {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        let snapshot = ContentSnapshot::new(\"line1\\nline2\\nline3\");",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        assert_eq!(snapshot.line_count, 3);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        assert!(!snapshot.content_hash.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    fn test_content_hash_consistency() {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        let content = \"hello world\";",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        let hash1 = compute_hash(content);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        let hash2 = compute_hash(content);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        assert_eq!(hash1, hash2);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "        let hash3 = compute_hash(\"different\");",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "        assert_ne!(hash1, hash3);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "    fn test_file_edit_history() {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"original content\"));",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        assert!(!history.was_new_file);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        assert_eq!(history.original.content, \"original content\");",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "        let edit = AIEdit::new(\"Add function\", 0, \"Edit\", \"original content\", \"new content\");",
          "source": {
            "type": "Human"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 0.9
        },
        {
          "line_number": 255,
          "content": "        history.add_edit(edit);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "        assert_eq!(history.edits.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        assert_eq!(history.latest_ai_content().content, \"new content\");",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "    fn test_new_file_history() {",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        let history = FileEditHistory::new(\"new.rs\", None);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        assert!(history.was_new_file);",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        assert!(history.original.content.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800"
          },
          "edit_id": "4cc8ae48-9ad6-4668-8623-e758225c6800",
          "prompt_index": 20,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 267,
        "ai_lines": 259,
        "ai_modified_lines": 1,
        "human_lines": 7,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/prompt.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{bail, Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::core::blame::AIBlamer;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::utils::{pad_right, truncate, word_wrap};",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Prompt command arguments",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub struct PromptArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// File and line reference (e.g., \"src/main.rs:42\" or \"src/main.rs\")",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub reference: String,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// Output as JSON",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub json: bool,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "/// Parsed file:line reference",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "struct FileLineRef {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    file: String,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    line: Option<u32>,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "impl FileLineRef {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    fn parse(reference: &str) -> Result<Self> {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "        if let Some((file, line_str)) = reference.rsplit_once(':') {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            // Check if the part after : is actually a line number",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "            if let Ok(line) = line_str.parse::<u32>() {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "                return Ok(Self {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "                    file: file.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "                    line: Some(line),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "                });",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "        // No line number, just a file path",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "        Ok(Self {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "            file: reference.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "            line: None,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        })",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "/// Run the prompt command",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "pub fn run(args: PromptArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    // Parse reference",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    let file_ref = FileLineRef::parse(&args.reference)?;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    // Open repository",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    // Create blamer",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    let mut blamer = AIBlamer::new(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    // Run blame to find AI attribution",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    let result = blamer.blame(&file_ref.file, None)?;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    // Find the relevant line",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    let target_line = match file_ref.line {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        Some(line) => result.lines.iter().find(|l| l.line_number == line),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        None => {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "            // Find first AI-generated line",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "            result.lines.iter().find(|l| l.source.is_ai())",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    let line = match target_line {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        Some(l) => l,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        None => {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            if let Some(line_num) = file_ref.line {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "                bail!(\"Line {} not found in {}\", line_num, file_ref.file);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "            } else {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "                bail!(\"No AI-generated lines found in {}\", file_ref.file);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    if !line.source.is_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        bail!(",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "            \"Line {} in {} was not AI-generated\",",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "            line.line_number,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "            file_ref.file",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    // Get attribution for more details",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    let attribution = blamer",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        .get_commit_attribution(&line.commit_id)?",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "        .context(\"Failed to fetch attribution data\")?;",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    // Get the prompt info",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    let prompt_info = line",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        .prompt_index",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "        .and_then(|idx| attribution.get_prompt(idx));",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    if args.json {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        let output = serde_json::json!({",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "            \"file\": file_ref.file,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "            \"line\": line.line_number,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            \"commit\": line.commit_id,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "            \"source\": format!(\"{:?}\", line.source),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "            \"prompt_index\": line.prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "            \"prompt_text\": prompt_info.map(|p| &p.text),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "            \"session\": {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "                \"id\": attribution.session.session_id,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                \"model\": attribution.session.model.id,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "                \"started_at\": attribution.session.started_at,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        });",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&output)?);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        match prompt_info {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "            Some(prompt) => {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "                print_prompt_box(",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "                    prompt,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "                    &attribution.session.session_id,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "                    &attribution.session.model.id,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "                    &attribution.session.started_at,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "                );",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            None => {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "                println!(",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "                    \"Line {} is AI-generated but prompt details are not available.\",",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "                    line.line_number",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                );",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        println!(\"File: {}:{}\", file_ref.file, line.line_number);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        println!(\"Commit: {}\", line.commit_short);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        println!(\"Source: {:?}\", line.source);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "fn print_prompt_box(",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    prompt: &crate::core::attribution::PromptInfo,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    session_id: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "    model: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    timestamp: &str,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": ") {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    // Box top",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    println!(\"{}\", \"\".repeat(68));",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    // Header",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    println!(",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        \"  {} #{} in session {}  \",",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        \"PROMPT\".bold(),",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        prompt.index,",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "        truncate(session_id, 20)",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "    );",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    println!(\"  Model: {} | {}  \", model.cyan(), timestamp.dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    // Separator",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    println!(\"{}\", \"\".repeat(68));",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    // Prompt content with word wrap",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    for line in word_wrap(&prompt.text, 64) {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        println!(\"  {}  \", pad_right(&line, 64));",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    // Box bottom",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    println!(\"{}\", \"\".repeat(68));",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    // Files affected",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    if !prompt.affected_files.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        println!(\"{}\", \"Files affected by this prompt:\".dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        for file in &prompt.affected_files {",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            println!(\"  - {}\", file);",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        println!();",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20"
          },
          "edit_id": "4a36ef68-26f3-4dfc-8bd0-af10adc8bc20",
          "prompt_index": 36,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 178,
        "ai_lines": 177,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 1,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/utils.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Shared utility functions and constants",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "/// Length of prompt preview in summaries",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "pub const PROMPT_PREVIEW_LEN: usize = 60;",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "/// Number of bytes to use from SHA256 hash for content hashing",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "pub const CONTENT_HASH_BYTES: usize = 16;",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Number of bytes to use from SHA256 hash for diff hashing",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub const DIFF_HASH_BYTES: usize = 8;",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "/// Short commit ID length",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "pub const SHORT_COMMIT_LEN: usize = 7;",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "/// Truncate a string to max length, adding \"...\" if truncated",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "pub fn truncate(s: &str, max: usize) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    if s.len() <= max {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "        s.to_string()",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "        format!(\"{}...\", &s[..max.saturating_sub(3)])",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "/// Truncate with trimming (for prompts)",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "pub fn truncate_prompt(text: &str, max_len: usize) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    let trimmed = text.trim();",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    truncate(trimmed, max_len)",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "/// Pad a string to exactly the given length (truncate or add spaces)",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "pub fn pad_right(s: &str, len: usize) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    if s.len() >= len {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        s[..len].to_string()",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "        format!(\"{}{}\", s, \" \".repeat(len - s.len()))",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "/// Truncate or pad to exact length, using ellipsis for truncation",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "pub fn truncate_or_pad(s: &str, len: usize) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    if s.len() > len {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        format!(\"{}\", &s[..len - 1])",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        format!(\"{:<width$}\", s, width = len)",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "/// Word wrap text to a maximum width",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "pub fn word_wrap(text: &str, width: usize) -> Vec<String> {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    let mut lines = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    let mut current_line = String::new();",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    for word in text.split_whitespace() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        if current_line.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "            current_line = word.to_string();",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "        } else if current_line.len() + 1 + word.len() <= width {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "            current_line.push(' ');",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "            current_line.push_str(word);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            lines.push(current_line);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            current_line = word.to_string();",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    if !current_line.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        lines.push(current_line);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    if lines.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        lines.push(String::new());",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    lines",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "/// Hex encoding utilities",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "pub mod hex {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    /// Encode bytes as hex string",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    pub fn encode(bytes: &[u8]) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "        bytes.iter().map(|b| format!(\"{:02x}\", b)).collect()",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    fn test_truncate() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        assert_eq!(truncate(\"hello\", 10), \"hello\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "        assert_eq!(truncate(\"hello world\", 8), \"hello...\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "        assert_eq!(truncate(\"hi\", 2), \"hi\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "        assert_eq!(truncate(\"abc\", 3), \"abc\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    fn test_truncate_prompt() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "        assert_eq!(truncate_prompt(\"  hello  \", 10), \"hello\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        assert_eq!(truncate_prompt(\"  long text here  \", 8), \"long ...\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    fn test_pad_right() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "        assert_eq!(pad_right(\"hi\", 5), \"hi   \");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "        assert_eq!(pad_right(\"hello\", 3), \"hel\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "        assert_eq!(pad_right(\"abc\", 3), \"abc\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    fn test_truncate_or_pad() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        assert_eq!(truncate_or_pad(\"hi\", 5), \"hi   \");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        assert_eq!(truncate_or_pad(\"hello world\", 5), \"hell\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    fn test_word_wrap() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "        let lines = word_wrap(\"hello world foo bar\", 10);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "        assert_eq!(lines, vec![\"hello\", \"world foo\", \"bar\"]);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        let empty = word_wrap(\"\", 10);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        assert_eq!(empty, vec![\"\"]);",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    fn test_hex_encode() {",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        assert_eq!(hex::encode(&[0x00, 0xff, 0x10]), \"00ff10\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        assert_eq!(hex::encode(&[]), \"\");",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99"
          },
          "edit_id": "957cd6e0-5b97-4d86-8f4b-292b90d6ee99",
          "prompt_index": 6,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 129,
        "ai_lines": 129,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/output.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use clap::ValueEnum;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use colored::Colorize;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use crate::capture::snapshot::LineSource;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use crate::core::attribution::BlameResult;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::utils::{truncate, truncate_or_pad};",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Output format options",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "#[derive(Debug, Clone, Copy, PartialEq, Eq, Default, ValueEnum)]",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub enum OutputFormat {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    /// Human-readable terminal output with colors",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    #[default]",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// JSON output for machine consumption",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    Json,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "/// Format blame results for display",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "pub fn format_blame(result: &BlameResult, format: OutputFormat) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    match format {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        OutputFormat::Pretty => format_blame_pretty(result),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "        OutputFormat::Json => format_blame_json(result),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "fn format_blame_pretty(result: &BlameResult) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    let mut output = String::new();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    // Header",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    output.push_str(&format!(",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        \"\\n {} {}  {}  {}  {}  {}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        \"LINE\".dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        \" \".repeat(2),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "        \"COMMIT \".dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "        \"AUTHOR     \".dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        \"SRC\".dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "        \"CODE\".dimmed()",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    ));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    output.push_str(&format!(\"{}\\n\", \"\".repeat(85).dimmed()));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    // Lines",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        let line_num = format!(\"{:>5}\", line.line_number);",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        let commit = &line.commit_short;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "        let author = truncate_or_pad(&line.author, 10);",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        // Source marker with different symbols for different sources",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        let source_marker = match &line.source {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "            LineSource::AI { .. } => \"\".green().bold().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "            LineSource::AIModified { .. } => \"\".yellow().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "            LineSource::Human => \"+\".blue().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "            LineSource::Original => \"\".dimmed().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "            LineSource::Unknown => \"?\".dimmed().to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "        // Truncate long lines",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "        let code = truncate(&line.content, 50);",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        let formatted_line = format!(",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            \"{}  {}  {}   {}  {}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            line_num.dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "            commit.yellow(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "            author,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "            source_marker,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "            code",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "        output.push_str(&formatted_line);",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    // Footer with summary",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    let ai_count = result.ai_line_count();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    let ai_modified_count = result.ai_modified_line_count();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    let human_count = result.human_line_count();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    let original_count = result.original_line_count();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    let percentage = result.ai_percentage();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    output.push_str(&format!(\"{}\\n\", \"\".repeat(85).dimmed()));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    output.push_str(&format!(",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        \"Legend: {} AI ({}) {} AI-modified ({}) {} Human ({}) {} Original ({})\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        \"\".green().bold(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        ai_count,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        \"\".yellow(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        ai_modified_count,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        \"+\".blue(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        human_count,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        \"\".dimmed(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        original_count,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "    ));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    output.push_str(&format!(",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "        \"AI involvement: {:.0}% ({} of {} lines)\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "        percentage,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        ai_count + ai_modified_count,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        result.lines.len()",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    ));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    // Show first prompt preview if available",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    if let Some(line) = result.lines.iter().find(|l| l.prompt_preview.is_some()) {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "        if let Some(preview) = &line.prompt_preview {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "            output.push_str(&format!(\"First AI prompt: \\\"{}\\\"\\n\", preview.dimmed()));",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    output",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "fn format_blame_json(result: &BlameResult) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    let json_output: Vec<serde_json::Value> = result",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        .lines",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        .iter()",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        .map(|line| {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "            serde_json::json!({",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "                \"line\": line.line_number,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "                \"commit\": line.commit_id,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "                \"author\": line.author,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "                \"source\": format!(\"{:?}\", line.source),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "                \"is_ai\": line.source.is_ai(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "                \"is_human\": line.source.is_human(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "                \"prompt_index\": line.prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "                \"prompt_preview\": line.prompt_preview,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "                \"content\": line.content,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            })",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        })",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        .collect();",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    serde_json::to_string_pretty(&serde_json::json!({",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        \"file\": result.path,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        \"revision\": result.revision,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        \"lines\": json_output,",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "        \"summary\": {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "            \"total_lines\": result.lines.len(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "            \"ai_lines\": result.pure_ai_line_count(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            \"ai_modified_lines\": result.ai_modified_line_count(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            \"human_lines\": result.human_line_count(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "            \"original_lines\": result.original_line_count(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "            \"ai_percentage\": result.ai_percentage(),",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    }))",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    .unwrap_or_else(|_| \"{}\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    fn test_truncate() {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        assert_eq!(truncate(\"hello\", 10), \"hello\");",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "        assert_eq!(truncate(\"hello world\", 8), \"hello...\");",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "    fn test_truncate_or_pad() {",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "        assert_eq!(truncate_or_pad(\"hi\", 5), \"hi   \");",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "        assert_eq!(truncate_or_pad(\"hello world\", 5), \"hell\");",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822"
          },
          "edit_id": "90ca6ca0-5872-429c-b4fc-eb12c5baa822",
          "prompt_index": 24,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 158,
        "ai_lines": 158,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/show.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::cli::output::OutputFormat;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use crate::utils::{truncate, SHORT_COMMIT_LEN};",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "/// Show command arguments",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "pub struct ShowArgs {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    /// Commit to show (default: HEAD)",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    #[arg(default_value = \"HEAD\")]",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub commit: String,",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    /// Output format",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    #[arg(long, value_enum, default_value_t = OutputFormat::Pretty)]",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    pub format: OutputFormat,",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "/// Run the show command",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "pub fn run(args: ShowArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    // Open repository",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    // Resolve commit reference",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    let obj = repo",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "        .revparse_single(&args.commit)",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "        .with_context(|| format!(\"Failed to resolve: {}\", args.commit))?;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    let commit = obj",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        .peel_to_commit()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        .with_context(|| format!(\"Not a valid commit: {}\", args.commit))?;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    let commit_id = commit.id().to_string();",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    // Safe substring: commit IDs are hex strings (ASCII), but we still use min() for safety",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    let commit_short = &commit_id[..commit_id.len().min(SHORT_COMMIT_LEN)];",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    // Get attribution",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    let attribution = notes_store.fetch_attribution(commit.id())?;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    match attribution {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        Some(attr) => {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            if args.format == OutputFormat::Json {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "                println!(\"{}\", serde_json::to_string_pretty(&attr)?);",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "            } else {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "                print_summary(commit_short, &attr);",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "        None => {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "            println!(\"No AI attribution found for commit {}\", commit_short);",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "            println!(\"This commit was not made with AI assistance tracked by ai-blame.\");",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "fn print_summary(commit_short: &str, attr: &crate::core::attribution::AIAttribution) {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    println!(\"{}: {}\", \"Commit\".bold(), commit_short.yellow());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    println!(\"{}: {}\", \"Session\".bold(), attr.session.session_id.cyan());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    println!(\"{}: {}\", \"Model\".bold(), attr.session.model.id);",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    println!(\"{}: {}\", \"Started\".bold(), attr.session.started_at.dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    // Show prompts",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    if !attr.prompts.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        println!(\"{}\", \"Prompts used:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        for prompt in &attr.prompts {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "            let preview = truncate(&prompt.text, 60);",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            println!(\"  #{}: \\\"{}\\\"\", prompt.index, preview.dimmed());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        println!();",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    // Show files with detailed breakdown",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    println!(\"{}\", \"Files with AI changes:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    let mut total_ai = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    let mut total_ai_modified = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    let mut total_human = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    let mut total_original = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    for file in &attr.files {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        let s = &file.summary;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        total_ai += s.ai_lines;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        total_ai_modified += s.ai_modified_lines;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        total_human += s.human_lines;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        total_original += s.original_lines;",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "        // Color-coded breakdown",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "        let ai_str = format!(\"{} AI\", s.ai_lines).green();",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        let modified_str = if s.ai_modified_lines > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            format!(\", {} modified\", s.ai_modified_lines)",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "                .yellow()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "                .to_string()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "            String::new()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        let human_str = if s.human_lines > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            format!(\", {} human\", s.human_lines).blue().to_string()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "            String::new()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "        let original_str = if s.original_lines > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "            format!(\", {} original\", s.original_lines)",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                .dimmed()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "                .to_string()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            String::new()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "        println!(",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "            \"  {} ({}{}{}{}) - {} total lines\",",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "            file.path, ai_str, modified_str, human_str, original_str, s.total_lines",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    println!();",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    println!(\"{}\", \"Summary:\".bold());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    println!(\"  {} AI-generated lines\", total_ai.to_string().green());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    if total_ai_modified > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        println!(",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            \"  {} AI lines modified by human\",",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            total_ai_modified.to_string().yellow()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "    if total_human > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        println!(\"  {} human-added lines\", total_human.to_string().blue());",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "    if total_original > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        println!(",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            \"  {} original/unchanged lines\",",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            total_original.to_string().dimmed()",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706"
          },
          "edit_id": "3c797723-716c-4815-9dbc-337d6dbe7706",
          "prompt_index": 28,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 138,
        "ai_lines": 138,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/capture/threeway.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use std::collections::{HashMap, HashSet};",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use similar::{ChangeTag, TextDiff};",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use crate::capture::snapshot::{",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "    FileAttributionResult, FileEditHistory, LineAttribution, LineSource,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "};",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Normalize a line for comparison purposes.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "/// - Trims trailing whitespace (but preserves leading indentation)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "/// - Normalizes line endings",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "/// - Handles cross-platform line ending differences",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "fn normalize_line(line: &str) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    line.trim_end().to_string()",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "/// Normalize a line for use as a hash key.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "/// Uses the same normalization as normalize_line.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "fn normalize_for_key(line: &str) -> String {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    normalize_line(line)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "/// Performs three-way attribution analysis",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "/// Given:",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "/// - Original content (before any AI edits)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "/// - AI edit history (sequence of AI changes)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "/// - Final content (what's being committed)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "/// Determines for each line in final content:",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "/// - Was it from the original file?",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "/// - Was it added by AI (and which edit/prompt)?",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "/// - Was it added by AI but modified by human?",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "/// - Was it added by human after AI edits?",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "pub struct ThreeWayAnalyzer;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "impl ThreeWayAnalyzer {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    /// Analyze a file's final content against its edit history",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    pub fn analyze(history: &FileEditHistory, final_content: &str) -> FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        let final_lines: Vec<&str> = final_content.lines().collect();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        // Build lookup tables for efficient matching",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        let original_lines = build_line_set(&history.original.content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        let ai_line_sources = build_ai_line_map(history);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "        // Analyze each line in the final content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        let mut attributions = Vec::with_capacity(final_lines.len());",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "        for (idx, line) in final_lines.iter().enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "            let line_number = (idx + 1) as u32;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "            let attribution = attribute_line(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "                line,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "                line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "                &original_lines,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "                &ai_line_sources,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "                history,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "            attributions.push(attribution);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        // Post-process: improve attribution using context",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        improve_attributions_with_context(&mut attributions, history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "        let summary = FileAttributionResult::compute_summary(&attributions);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            path: history.path.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            lines: attributions,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "            summary,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    /// Analyze with position-aware diff for better accuracy",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    pub fn analyze_with_diff(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "        history: &FileEditHistory,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "        final_content: &str,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    ) -> FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "        let final_lines: Vec<&str> = final_content.lines().collect();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "        let mut attributions = Vec::with_capacity(final_lines.len());",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        // If no AI edits, everything is original or human",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        if history.edits.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "            for (idx, line) in final_lines.iter().enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "                let line_number = (idx + 1) as u32;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "                let source = if line_in_content(line, &history.original.content) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "                    LineSource::Original",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "                    LineSource::Human",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "                attributions.push(LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                    line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                    content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                    source,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "                    edit_id: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "                    prompt_index: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "                    confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "                });",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "            let summary = FileAttributionResult::compute_summary(&attributions);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "            return FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "                path: history.path.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "                lines: attributions,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "                summary,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "            };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "        // Perform diff-based analysis",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "        // Compare: original -> final, and latest_ai -> final",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "        let latest_ai = history.latest_ai_content();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        // Track which final lines match AI content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "        let ai_to_final_mapping = diff_map_lines(&latest_ai.content, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "        // Track which final lines match original content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        let original_to_final_mapping = diff_map_lines(&history.original.content, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "        // Build reverse map: final line index -> source",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "        let mut final_line_sources: HashMap<usize, (LineSource, Option<String>, Option<u32>)> =",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "            HashMap::new();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        // First pass: mark lines that came from AI edits (takes priority)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        let ai_line_map = build_ai_line_map(history);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        for (ai_idx, final_idx) in &ai_to_final_mapping {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            let ai_line = latest_ai.lines().get(*ai_idx).copied().unwrap_or(\"\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            let normalized = normalize_for_key(ai_line);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            // Check if this line came from an AI edit",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            if let Some((edit_id, prompt_idx)) = ai_line_map.get(&normalized) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "                final_line_sources.insert(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "                    *final_idx,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "                    (",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "                        LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "                            edit_id: edit_id.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "                        Some(edit_id.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                        Some(*prompt_idx),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                    ),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "                );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        // Second pass: mark lines that exist in original (only if not already AI)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        for (_, final_idx) in &original_to_final_mapping {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "            if !final_line_sources.contains_key(final_idx) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "                final_line_sources.insert(*final_idx, (LineSource::Original, None, None));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        // Third pass: check unmapped lines against AI content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "        // This is critical - the diff may not map lines even if they're identical",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        // (e.g., when surrounding context changes, diff sees Delete+Insert instead of Equal)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        for (idx, line) in final_lines.iter().enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "            if final_line_sources.contains_key(&idx) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                continue;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "            let normalized = normalize_for_key(line);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "            // First check for exact match in AI map - this is the key fix!",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "            // Lines that exist verbatim in AI output should be attributed to AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "            // even if the diff algorithm didn't map them as \"Equal\"",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "            if let Some((edit_id, prompt_idx)) = ai_line_map.get(&normalized) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "                final_line_sources.insert(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "                    idx,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "                    (",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "                        LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "                            edit_id: edit_id.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "                        Some(edit_id.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "                        Some(*prompt_idx),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "                    ),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "                );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "                continue;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "            // Check if this is similar to an AI line (modified)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "            if let Some((edit_id, prompt_idx, similarity)) =",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "                find_similar_ai_line(line, &ai_line_map, 0.6)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "            {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "                final_line_sources.insert(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "                    idx,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "                    (",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "                        LineSource::AIModified {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "                            edit_id: edit_id.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "                            similarity,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "                        },",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "                        Some(edit_id),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "                        Some(prompt_idx),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "                    ),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "                );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "                continue;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "            // Check if line exists in original (untouched by AI or human)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "            if line_in_content(line, &history.original.content) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "                final_line_sources.insert(idx, (LineSource::Original, None, None));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "                continue;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "            // New line added by human",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "            final_line_sources.insert(idx, (LineSource::Human, None, None));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "        // Build final attributions",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "        for (idx, line) in final_lines.iter().enumerate() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "            let line_number = (idx + 1) as u32;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "            let (source, edit_id, prompt_index) = final_line_sources",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "                .get(&idx)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "                .cloned()",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "                .unwrap_or((LineSource::Unknown, None, None));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "            let confidence = match &source {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "                LineSource::Original => 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "                LineSource::AI { .. } => 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "                LineSource::AIModified { similarity, .. } => *similarity,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "                LineSource::Human => 0.9,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "                LineSource::Unknown => 0.5,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "            attributions.push(LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "                line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "                content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "                source,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "                edit_id,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "                prompt_index,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "                confidence,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "            });",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        let summary = FileAttributionResult::compute_summary(&attributions);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "            path: history.path.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "            lines: attributions,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            summary,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "/// Build a set of normalized lines from content for fast lookup",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "fn build_line_set(content: &str) -> HashSet<String> {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "    content.lines().map(normalize_for_key).collect()",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "/// Build a map from normalized line content -> (edit_id, prompt_index) for all AI edits",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "/// IMPORTANT: All lines in an AI edit's `after` content are considered AI-generated,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "/// not just lines that differ from `before`. This is because when AI writes/edits a file,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "/// it produces the entire output - even if some lines coincidentally match the original,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "/// the AI chose to include them.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "/// Lines are normalized (trailing whitespace trimmed) to handle git/editor differences.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "fn build_ai_line_map(history: &FileEditHistory) -> HashMap<String, (String, u32)> {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "    let mut map = HashMap::new();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "    // Process edits in order - later edits override earlier ones",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    for edit in &history.edits {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        // ALL lines in the AI's output are AI-generated",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "        // This ensures complete file rewrites are properly attributed",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        for line in edit.after.content.lines() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "            map.insert(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "                normalize_for_key(line),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "                (edit.edit_id.clone(), edit.prompt_index),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    map",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "/// Check if a normalized line exists in content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "fn line_in_content(line: &str, content: &str) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "    let normalized = normalize_for_key(line);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    content.lines().any(|l| normalize_for_key(l) == normalized)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "/// Map line indices from source to target using diff",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "fn diff_map_lines(source: &str, target: &str) -> Vec<(usize, usize)> {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "    let diff = TextDiff::from_lines(source, target);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "    let mut mappings = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "    let mut source_idx = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "    let mut target_idx = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    for change in diff.iter_all_changes() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        match change.tag() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "            ChangeTag::Equal => {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "                mappings.push((source_idx, target_idx));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "                source_idx += 1;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "                target_idx += 1;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "            ChangeTag::Delete => {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "                source_idx += 1;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "            ChangeTag::Insert => {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "                target_idx += 1;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    mappings",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "/// Attribute a single line",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "/// Priority order:",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "/// 1. AI - if line is in the AI edit output, it's AI-generated",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "/// 2. AIModified - if line is similar to an AI line",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "/// 3. Original - if line existed before AI edits and wasn't touched",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "/// 4. Human - line was added after AI edits",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "/// All lookups use normalized line content to handle whitespace differences.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "fn attribute_line(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "    line: &str,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "    line_number: u32,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "    original_lines: &HashSet<String>,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    ai_line_sources: &HashMap<String, (String, u32)>,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    _history: &FileEditHistory,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": ") -> LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "    let normalized = normalize_for_key(line);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "    // Check if line matches an AI edit exactly - AI takes priority",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "    // because if the AI output contains this line, it's AI-generated",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "    // (even if the same line existed in the original)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "    if let Some((edit_id, prompt_idx)) = ai_line_sources.get(&normalized) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "        return LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "            content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "            source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "                edit_id: edit_id.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "            edit_id: Some(edit_id.clone()),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "            prompt_index: Some(*prompt_idx),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "    // Check if line is similar to an AI line (human modified AI output)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "    if let Some((edit_id, prompt_idx, similarity)) =",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "        find_similar_ai_line(line, ai_line_sources, 0.6)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "    {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "        return LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "            line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "            content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            source: LineSource::AIModified {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "                edit_id: edit_id.clone(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "                similarity,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "            edit_id: Some(edit_id),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "            prompt_index: Some(prompt_idx),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "            confidence: similarity,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    // Check if line existed in original (and wasn't part of AI output)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "    if original_lines.contains(&normalized) {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "        return LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "            line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "            content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "            source: LineSource::Original,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "            edit_id: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "            prompt_index: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "            confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    // Line doesn't match original or AI - it's a human addition",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "    LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "        line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        content: line.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "        source: LineSource::Human,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        edit_id: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "        prompt_index: None,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "        confidence: 0.9,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "/// Find a similar AI line using edit distance",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "///",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "/// Note: Empty/whitespace-only lines are handled by exact matching in attribute_line,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "/// so this function focuses on non-trivial content similarity.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "fn find_similar_ai_line(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "    line: &str,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "    ai_lines: &HashMap<String, (String, u32)>,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "    threshold: f64,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": ") -> Option<(String, u32, f64)> {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "    let line_trimmed = line.trim();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "    // Empty lines should be handled by exact matching, not similarity",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "    // (empty lines match other empty lines with 100% similarity via normalize_for_key)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "    if line_trimmed.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "        return None;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "    let mut best_match: Option<(String, u32, f64)> = None;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "    for (ai_line, (edit_id, prompt_idx)) in ai_lines {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "        let ai_trimmed = ai_line.trim();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "        // Skip empty AI lines in similarity comparison",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        if ai_trimmed.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "            continue;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "        let similarity = compute_similarity(line_trimmed, ai_trimmed);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "        if similarity >= threshold",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "            && (best_match.is_none() || similarity > best_match.as_ref().unwrap().2)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "        {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "            best_match = Some((edit_id.clone(), *prompt_idx, similarity));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "    best_match",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "/// Compute similarity between two strings (0.0 - 1.0)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "fn compute_similarity(a: &str, b: &str) -> f64 {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "    if a == b {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "        return 1.0;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "    if a.is_empty() || b.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "        return 0.0;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "    // Use longest common subsequence ratio",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "    let lcs_len = longest_common_subsequence(a, b);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "    let max_len = a.len().max(b.len()) as f64;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "    lcs_len as f64 / max_len",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "/// Compute length of longest common subsequence",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "fn longest_common_subsequence(a: &str, b: &str) -> usize {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "    let a_chars: Vec<char> = a.chars().collect();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "    let b_chars: Vec<char> = b.chars().collect();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "    let m = a_chars.len();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "    let n = b_chars.len();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "    // Optimization: if strings are very different in length, quick exit",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "    if (m as f64 / n as f64) < 0.5 || (n as f64 / m as f64) < 0.5 {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "        return 0;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "    let mut dp = vec![vec![0usize; n + 1]; m + 1];",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "    for i in 1..=m {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "        for j in 1..=n {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "            if a_chars[i - 1] == b_chars[j - 1] {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "                dp[i][j] = dp[i - 1][j - 1] + 1;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "            } else {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "                dp[i][j] = dp[i - 1][j].max(dp[i][j - 1]);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "    dp[m][n]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "/// Improve attributions using contextual information",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "fn improve_attributions_with_context(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "    attributions: &mut [LineAttribution],",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "    _history: &FileEditHistory,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "    _final_content: &str,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": ") {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "    // If we have unknown lines surrounded by AI lines from the same edit,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "    // they might be AI lines that were modified",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "    let len = attributions.len();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "    if len < 3 {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "        return;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "    for i in 1..len - 1 {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "        if attributions[i].source == LineSource::Unknown {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "            // Check surrounding lines",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "            let prev_edit = attributions[i - 1].edit_id.clone();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "            let next_edit = attributions[i + 1].edit_id.clone();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "            if prev_edit.is_some() && prev_edit == next_edit {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "                // Likely an AI line that was modified",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "                attributions[i].source = LineSource::AIModified {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "                    edit_id: prev_edit.clone().unwrap(),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "                    similarity: 0.5,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "                };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "                attributions[i].edit_id = prev_edit;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "                attributions[i].prompt_index = attributions[i - 1].prompt_index;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "                attributions[i].confidence = 0.5;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "    use crate::capture::snapshot::AIEdit;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "    fn test_simple_ai_addition() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"line1\\nline2\\n\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "            \"Add line3\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "            \"line1\\nline2\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "            \"line1\\nline2\\nline3\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, \"line1\\nline2\\nline3\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "        // All 3 lines are in the AI's output, so all 3 are AI-generated",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "        // (even though line1 and line2 also existed in original)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "        assert_eq!(result.summary.ai_lines, 3);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "        assert_eq!(result.summary.original_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "        assert_eq!(result.summary.human_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "    fn test_human_modification_after_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"line1\\n\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "            \"Add lines\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "            \"line1\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "            \"line1\\nAI line\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "        // Human adds a line and modifies AI line",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "        let final_content = \"line1\\nAI line modified\\nhuman line\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "        // \"line1\" is in AI output, so it's AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "        assert_eq!(result.summary.ai_lines, 1);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "        // \"AI line modified\" should be detected as AIModified",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "        // \"human line\" should be detected as Human",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "            result.summary.ai_modified_lines + result.summary.human_lines,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "            2,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "            \"Should have 2 non-AI lines (modified + human)\"",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "    fn test_line_shift() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"line1\\nline2\\n\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "            \"Add AI content\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "            \"line1\\nline2\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "            \"line1\\nline2\\nAI added\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "        // Human inserts line at beginning",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "        let final_content = \"new first line\\nline1\\nline2\\nAI added\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "        let result = ThreeWayAnalyzer::analyze_with_diff(&history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "        // \"new first line\" is Human (not in AI output)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "        // \"line1\", \"line2\", \"AI added\" are all in AI output, so AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "        assert_eq!(result.summary.human_lines, 1);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "        assert_eq!(result.summary.ai_lines, 3);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "        assert_eq!(result.summary.original_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "    fn test_similarity_computation() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "        assert_eq!(compute_similarity(\"hello\", \"hello\"), 1.0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "        // Completely different strings",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "        assert!(compute_similarity(\"abc\", \"xyz\") < 0.3);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "        // Similar strings with comparable length should have high similarity",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "        assert!(compute_similarity(\"println(hello)\", \"println(world)\") > 0.6);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "        // Modified line detection",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "        assert!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "            compute_similarity(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "                \"    println!(\\\"hello\\\");\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "                \"    println!(\\\"hello, world!\\\");\"",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "            ) > 0.6",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "    fn test_multiple_ai_edits() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"original\\n\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "            \"First prompt\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "            \"original\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "            \"original\\nfirst AI\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": "            \"Second prompt\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "            1,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "            \"original\\nfirst AI\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "            \"original\\nfirst AI\\nsecond AI\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, \"original\\nfirst AI\\nsecond AI\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "        // All lines are in the AI output from the second edit",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "        // \"original\" gets attributed to edit 1 (first appearance in AI output)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "        // \"first AI\" gets attributed to edit 0 (first added)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "        // \"second AI\" gets attributed to edit 1 (first added)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "        assert_eq!(result.summary.ai_lines, 3);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "        assert_eq!(result.summary.original_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "        // Check prompt indices - later edits override, so \"original\" is from edit 1",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "        let first_ai = result",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "            .lines",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "            .iter()",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "            .find(|l| l.content == \"first AI\")",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "            .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "        // first AI appears in edit 0's output and edit 1's output, later wins",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 622,
          "content": "        assert_eq!(first_ai.prompt_index, Some(1));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 623,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 624,
          "content": "        let second_ai = result",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 625,
          "content": "            .lines",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 626,
          "content": "            .iter()",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 627,
          "content": "            .find(|l| l.content == \"second AI\")",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 628,
          "content": "            .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 629,
          "content": "        assert_eq!(second_ai.prompt_index, Some(1));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 630,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 631,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 632,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 633,
          "content": "    fn test_only_original_no_ai_edits() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 634,
          "content": "        // Test that without AI edits, original lines stay original",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 635,
          "content": "        let history = FileEditHistory::new(\"test.rs\", Some(\"line1\\nline2\\n\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 636,
          "content": "        // No AI edits added",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 637,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 638,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, \"line1\\nline2\\nline3\\n\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 639,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 640,
          "content": "        // line1, line2 are original (no AI touched them)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 641,
          "content": "        // line3 is human (added without AI)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 642,
          "content": "        assert_eq!(result.summary.original_lines, 2);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 643,
          "content": "        assert_eq!(result.summary.human_lines, 1);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 644,
          "content": "        assert_eq!(result.summary.ai_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 645,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 646,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 647,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 648,
          "content": "    fn test_whitespace_normalization() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 649,
          "content": "        // Test that trailing whitespace differences don't affect attribution",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 650,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 651,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 652,
          "content": "        // AI generates lines with trailing spaces",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 653,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 654,
          "content": "            \"Generate code\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 655,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 656,
          "content": "            \"Write\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 657,
          "content": "            \"\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 658,
          "content": "            \"fn main() {  \\n    println!(\\\"hello\\\");  \\n}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 659,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 660,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 661,
          "content": "        // Final commit has trailing spaces stripped (common git behavior)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 662,
          "content": "        let final_content = \"fn main() {\\n    println!(\\\"hello\\\");\\n}\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 663,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 664,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 665,
          "content": "        // All lines should be AI despite whitespace differences",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 666,
          "content": "        assert_eq!(result.summary.ai_lines, 3, \"All lines should be AI\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 667,
          "content": "        assert_eq!(result.summary.human_lines, 0, \"No human lines expected\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 668,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 669,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 670,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 671,
          "content": "    fn test_empty_line_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 672,
          "content": "        // Test that empty lines in AI output are properly attributed",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 673,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 674,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 675,
          "content": "        // AI generates code with empty lines",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 676,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 677,
          "content": "            \"Generate code with spacing\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 678,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 679,
          "content": "            \"Write\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 680,
          "content": "            \"\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 681,
          "content": "            \"fn main() {\\n\\n    println!(\\\"hello\\\");\\n\\n}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 682,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 683,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 684,
          "content": "        let final_content = \"fn main() {\\n\\n    println!(\\\"hello\\\");\\n\\n}\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 685,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 686,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 687,
          "content": "        // All lines including empty ones should be AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 688,
          "content": "        assert_eq!(result.summary.ai_lines, 5, \"All 5 lines should be AI\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 689,
          "content": "        assert_eq!(result.summary.human_lines, 0, \"No human lines expected\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 690,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 691,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 692,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 693,
          "content": "    fn test_tabs_vs_spaces() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 694,
          "content": "        // Test that different indentation styles still match",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 695,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 696,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 697,
          "content": "        // AI generates with spaces",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 698,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 699,
          "content": "            \"Generate code\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 700,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 701,
          "content": "            \"Write\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 702,
          "content": "            \"\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 703,
          "content": "            \"fn main() {\\n    code();\\n}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 704,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 705,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 706,
          "content": "        // Final uses same content (tabs would need different handling)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 707,
          "content": "        let final_content = \"fn main() {\\n    code();\\n}\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 708,
          "content": "        let result = ThreeWayAnalyzer::analyze(&history, final_content);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 709,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 710,
          "content": "        assert_eq!(result.summary.ai_lines, 3);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 711,
          "content": "        assert_eq!(result.summary.human_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 712,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 713,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 714,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 715,
          "content": "    fn test_diff_unmapped_lines_still_attributed_to_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 716,
          "content": "        // This test covers the critical bug fix:",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 717,
          "content": "        // When the diff algorithm sees structural changes, it may not map identical lines",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 718,
          "content": "        // (treating them as Delete+Insert instead of Equal). We need to still attribute",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 719,
          "content": "        // those lines to AI if they exist in the AI output.",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 720,
          "content": "        let original = \"fn foo() {\\n    old_code();\\n}\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 721,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(original));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 722,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 723,
          "content": "        // AI rewrites the function with new content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 724,
          "content": "        // The closing brace \"}\" exists in both, but diff might not map it",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 725,
          "content": "        let ai_output = \"fn foo() {\\n    new_code();\\n    more_code();\\n}\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 726,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 727,
          "content": "            \"Rewrite function\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 728,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 729,
          "content": "            \"Edit\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 730,
          "content": "            original,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 731,
          "content": "            ai_output,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 732,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 733,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 734,
          "content": "        // Final content matches AI output exactly",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 735,
          "content": "        let result = ThreeWayAnalyzer::analyze_with_diff(&history, ai_output);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 736,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 737,
          "content": "        // All lines should be AI - especially the closing brace",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 738,
          "content": "        assert_eq!(result.summary.ai_lines, 4, \"All lines should be AI\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 739,
          "content": "        assert_eq!(result.summary.human_lines, 0, \"No human lines expected\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 740,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 741,
          "content": "            result.summary.original_lines, 0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 742,
          "content": "            \"No original lines (all in AI output)\"",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 743,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 744,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 745,
          "content": "        // Verify the closing brace specifically is AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 746,
          "content": "        let closing_brace = result.lines.iter().find(|l| l.content == \"}\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 747,
          "content": "        assert!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 748,
          "content": "            matches!(closing_brace.source, LineSource::AI { .. }),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 749,
          "content": "            \"Closing brace should be AI, got {:?}\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 750,
          "content": "            closing_brace.source",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 751,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 752,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 753,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 754,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 755,
          "content": "    fn test_debug_attribution_flow() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 756,
          "content": "        // Debug test to verify attribution logic",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 757,
          "content": "        let original = \"line1\\nline2\\nline3\\nline4\\nline5\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 758,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(original));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 759,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 760,
          "content": "        // First AI edit: adds line6, line7",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 761,
          "content": "        let after1 = \"line1\\nline2\\nline3\\nline4\\nline5\\nline6\\nline7\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 762,
          "content": "        history.add_edit(AIEdit::new(\"prompt1\", 0, \"Edit\", original, after1));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 763,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 764,
          "content": "        // Second AI edit: adds line8 and modifies line3",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 765,
          "content": "        let after2 = \"line1\\nline2\\nLINE3_MODIFIED\\nline4\\nline5\\nline6\\nline7\\nline8\\n\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 766,
          "content": "        history.add_edit(AIEdit::new(\"prompt2\", 1, \"Edit\", after1, after2));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 767,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 768,
          "content": "        // Final content matches AI edit exactly",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 769,
          "content": "        let result = ThreeWayAnalyzer::analyze_with_diff(&history, after2);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 770,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 771,
          "content": "        println!(\"\\nAttribution results:\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 772,
          "content": "        println!(\"  AI lines: {}\", result.summary.ai_lines);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 773,
          "content": "        println!(\"  AI modified lines: {}\", result.summary.ai_modified_lines);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 774,
          "content": "        println!(\"  Original lines: {}\", result.summary.original_lines);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 775,
          "content": "        println!(\"  Human lines: {}\", result.summary.human_lines);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 776,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 777,
          "content": "        for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 778,
          "content": "            println!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 779,
          "content": "                \"  Line {}: {:?} - '{}'\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 780,
          "content": "                line.line_number, line.source, line.content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 781,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 782,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 783,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 784,
          "content": "        // All 8 lines should be AI (they're all in the AI edit output)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 785,
          "content": "        assert_eq!(result.summary.ai_lines, 8, \"All lines should be AI\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 786,
          "content": "        assert_eq!(result.summary.human_lines, 0, \"No human lines expected\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 787,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 788,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 789,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 790,
          "content": "    fn test_duplicate_lines_in_ai_output() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 791,
          "content": "        // Test that duplicate lines (like closing braces) are properly attributed",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 792,
          "content": "        // This tests the real-world scenario where the same line content appears multiple times",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 793,
          "content": "        let original = r#\"fn foo() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 794,
          "content": "    code();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 795,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 796,
          "content": "\"#;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 797,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(original));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 798,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 799,
          "content": "        // AI adds a new function with similar structure (duplicate \"}\" and empty lines)",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 800,
          "content": "        let after1 = r#\"fn foo() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 801,
          "content": "    code();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 802,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 803,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 804,
          "content": "fn bar() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 805,
          "content": "    more_code();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 806,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 807,
          "content": "\"#;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 808,
          "content": "        history.add_edit(AIEdit::new(\"Add bar function\", 0, \"Edit\", original, after1));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 809,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 810,
          "content": "        let result = ThreeWayAnalyzer::analyze_with_diff(&history, after1);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 811,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 812,
          "content": "        println!(\"\\nDuplicate lines test:\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 813,
          "content": "        for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 814,
          "content": "            let source_str = match &line.source {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 815,
          "content": "                LineSource::AI { .. } => \"AI\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 816,
          "content": "                LineSource::Original => \"Orig\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 817,
          "content": "                LineSource::Human => \"Human\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 818,
          "content": "                _ => \"Other\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 819,
          "content": "            };",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 820,
          "content": "            println!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 821,
          "content": "                \"  Line {}: {} - '{}'\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 822,
          "content": "                line.line_number, source_str, line.content",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 823,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 824,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 825,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 826,
          "content": "        // All lines should be AI (including the duplicate \"}\")",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 827,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 828,
          "content": "            result.summary.human_lines, 0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 829,
          "content": "            \"No human lines - all are in AI output\"",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 830,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 831,
          "content": "        // The closing brace \"}\" appears twice but both should be AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 832,
          "content": "        let closing_braces: Vec<_> = result.lines.iter().filter(|l| l.content == \"}\").collect();",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 833,
          "content": "        assert_eq!(closing_braces.len(), 2, \"Should have 2 closing braces\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 834,
          "content": "        for brace in closing_braces {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 835,
          "content": "            assert!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 836,
          "content": "                matches!(brace.source, LineSource::AI { .. }),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 837,
          "content": "                \"Closing brace at line {} should be AI, got {:?}\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 838,
          "content": "                brace.line_number,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 839,
          "content": "                brace.source",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 840,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 841,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 842,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 843,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 844,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 845,
          "content": "    fn test_common_patterns_attributed_to_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 846,
          "content": "        // Test that common patterns like empty lines, closing braces, and doc comments",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 847,
          "content": "        // are properly attributed to AI when they appear in AI output",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 848,
          "content": "        let original = \"\";",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 849,
          "content": "        let mut history = FileEditHistory::new(\"test.rs\", Some(original));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 850,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 851,
          "content": "        // AI generates code with common patterns",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 852,
          "content": "        let ai_output = r#\"/// A test function",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 853,
          "content": "#[test]",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 854,
          "content": "fn test() {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 855,
          "content": "    assert!(true);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 856,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 857,
          "content": "\"#;",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 858,
          "content": "        history.add_edit(AIEdit::new(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 859,
          "content": "            \"Generate test\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 860,
          "content": "            0,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 861,
          "content": "            \"Write\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 862,
          "content": "            original,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 863,
          "content": "            ai_output,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 864,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 865,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 866,
          "content": "        let result = ThreeWayAnalyzer::analyze_with_diff(&history, ai_output);",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 867,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 868,
          "content": "        // All lines should be AI",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 869,
          "content": "        assert_eq!(result.summary.ai_lines, 5, \"All 5 lines should be AI\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 870,
          "content": "        assert_eq!(result.summary.human_lines, 0, \"No human lines\");",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 871,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 872,
          "content": "        // Check each line individually",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 873,
          "content": "        for line in &result.lines {",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 874,
          "content": "            assert!(",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 875,
          "content": "                matches!(line.source, LineSource::AI { .. }),",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 876,
          "content": "                \"Line '{}' should be AI, got {:?}\",",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 877,
          "content": "                line.content,",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 878,
          "content": "                line.source",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 879,
          "content": "            );",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 880,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 881,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 882,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "23192156-da16-4046-989d-ae6dff98349c"
          },
          "edit_id": "23192156-da16-4046-989d-ae6dff98349c",
          "prompt_index": 35,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 882,
        "ai_lines": 882,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/storage/notes.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use git2::{Oid, Repository, Signature};",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use crate::core::attribution::AIAttribution;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "/// Notes reference used for AI attribution storage",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "pub const NOTES_REF: &str = \"refs/notes/ai-blame\";",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Git notes storage for AI attribution data",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub struct NotesStore<'a> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    repo: &'a Repository,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "impl<'a> NotesStore<'a> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub fn new(repo: &'a Repository) -> Result<Self> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "        Ok(Self { repo })",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    /// Store attribution data as a git note on a commit",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub fn store_attribution(&self, commit_oid: Oid, attribution: &AIAttribution) -> Result<Oid> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        let json = serde_json::to_string_pretty(attribution)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "            .context(\"Failed to serialize attribution to JSON\")?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        let note_oid = self",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "            .repo",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "            .note(&sig, &sig, Some(NOTES_REF), commit_oid, &json, true)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            .context(\"Failed to create git note\")?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        Ok(note_oid)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Fetch attribution data from a git note",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    pub fn fetch_attribution(&self, commit_oid: Oid) -> Result<Option<AIAttribution>> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        match self.repo.find_note(Some(NOTES_REF), commit_oid) {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "            Ok(note) => {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "                if let Some(message) = note.message() {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "                    let attribution: AIAttribution = serde_json::from_str(message)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "                        .context(\"Failed to parse attribution JSON\")?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "                    Ok(Some(attribution))",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "                } else {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "                    Ok(None)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "                }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            Err(e) if e.code() == git2::ErrorCode::NotFound => Ok(None),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "            Err(e) => Err(e).context(\"Failed to read git note\"),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Check if a commit has AI attribution",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    pub fn has_attribution(&self, commit_oid: Oid) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        self.repo.find_note(Some(NOTES_REF), commit_oid).is_ok()",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    /// Remove attribution from a commit",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    pub fn remove_attribution(&self, commit_oid: Oid) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        self.repo",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            .note_delete(commit_oid, Some(NOTES_REF), &sig, &sig)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            .context(\"Failed to delete git note\")?;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    /// Get default signature from git config",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    fn get_signature(&self) -> Result<Signature<'static>> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "        if let Ok(sig) = self.repo.signature() {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            return Ok(Signature::now(",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "                sig.name().unwrap_or(\"ai-blame\"),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "                sig.email().unwrap_or(\"ai-blame@local\"),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "            )?);",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        Ok(Signature::now(\"ai-blame\", \"ai-blame@local\")?)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    /// List all commits with AI attribution",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    pub fn list_attributed_commits(&self) -> Result<Vec<Oid>> {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "        let mut commits = Vec::new();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        if let Ok(notes) = self.repo.notes(Some(NOTES_REF)) {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "            for (_, commit_oid) in notes.flatten() {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "                commits.push(commit_oid);",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        Ok(commits)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    use crate::capture::snapshot::{",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        AttributionSummary, FileAttributionResult, LineAttribution, LineSource,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    use crate::core::attribution::{ModelInfo, PromptInfo, SessionMetadata};",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    use tempfile::TempDir;",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    fn create_test_repo() -> (TempDir, Repository) {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        let dir = TempDir::new().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "        {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "            let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "            let tree_id = {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "                let mut index = repo.index().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                index.write_tree().unwrap()",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "            };",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "            let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            repo.commit(Some(\"HEAD\"), &sig, &sig, \"Initial commit\", &tree, &[])",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "                .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        (dir, repo)",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    fn test_store_and_fetch_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                session_id: \"test-session\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "            prompts: vec![PromptInfo {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "                index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "                text: \"Test prompt\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "                lines: vec![LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "                    line_number: 1,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "                    content: \"fn test() {}\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "                    source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "                        edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "                    edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "                    prompt_index: Some(0),",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "                    confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "                }],",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "                    total_lines: 1,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "                    ai_lines: 1,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                    ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "                    human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "                    original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        let fetched = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        assert_eq!(fetched.version, 2);",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        assert_eq!(fetched.session.session_id, \"test-session\");",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        assert_eq!(fetched.files.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "        assert_eq!(fetched.prompts.len(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    fn test_fetch_nonexistent_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        let result = store.fetch_attribution(head.id()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        assert!(result.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed"
          },
          "edit_id": "48266582-6ef5-4386-8591-c7317adf20ed",
          "prompt_index": 37,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 182,
        "ai_lines": 182,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/lib.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "pub mod capture;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "pub mod cli;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "pub mod core;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "pub mod privacy;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "pub mod storage;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "pub mod utils;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "pub use core::attribution::*;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "pub use core::blame::AIBlamer;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub use storage::notes::NotesStore;",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub use storage::trailers::{TrailerGenerator, TrailerParser};",
          "source": {
            "type": "AI",
            "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef"
          },
          "edit_id": "0a6b7db8-aa41-4799-82f3-5646a5a74bef",
          "prompt_index": 7,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 11,
        "ai_lines": 11,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    }
  ]
}