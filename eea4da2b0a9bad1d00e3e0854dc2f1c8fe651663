{
  "version": 3,
  "session": {
    "session_id": "0ae16258-4608-4bf9-8220-c82df53950fa",
    "model": {
      "id": "claude-opus-4-5-20251101",
      "provider": "anthropic"
    },
    "started_at": "2026-02-02T03:07:23.744751+00:00",
    "prompt_count": 44,
    "used_plan_mode": false,
    "subagent_count": 0
  },
  "prompts": [
    {
      "index": 0,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:07:23.745156+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 1,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:07:29.050122+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 2,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:07:40.290047+00:00",
      "affected_files": [
        "src/storage/notes.rs"
      ]
    },
    {
      "index": 3,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:07:54.099655+00:00",
      "affected_files": [
        "src/cli/copy.rs"
      ]
    },
    {
      "index": 4,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:07:59.135750+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 5,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:03.247908+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 6,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:07.260802+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 7,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:19.189648+00:00",
      "affected_files": [
        "src/cli/setup.rs"
      ]
    },
    {
      "index": 8,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:24.348022+00:00",
      "affected_files": [
        "src/cli/setup.rs"
      ]
    },
    {
      "index": 9,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:39.935823+00:00",
      "affected_files": [
        "docs/src/appendix/faq.md"
      ]
    },
    {
      "index": 10,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:45.751169+00:00",
      "affected_files": [
        "docs/src/appendix/faq.md"
      ]
    },
    {
      "index": 11,
      "text": "\"Implement the following plan:\\n\\n# Rebase Support Implementation Plan\\n\\n## Summary\\n\\nThree focused improvements to address the git notes + rebase limitation:\\n\\n| Priority | Feature | Impact | Complexity |\\n|----------|---------|--------|------------|\\n| 1 | Post-rewrite hook | Automatic note preservation | Low |\\n| 2 | `copy-notes` command | Manual recovery option | Medium |\\n| 3 | Doctor orphan check | Visibility into problems | Low |\\n\\n---\\n\\n## 1. Post-Rewrite Hook (Priority 1)\\n\\n**Goal**: Automatically preserve notes during `git rebase` and `git commit --amend`.\\n\\nGit's `post-rewrite` hook receives old→new SHA mappings on stdin. We use native `git notes copy` to move notes.\\n\\n### Files to Modify\\n\\n**`src/cli/mod.rs`** - Add `install_post_rewrite_hook()` after line 350, following the exact pattern of `install_pre_push_hook()`:\\n\\n```rust\\nfn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {\\n    let hook_path = hooks_dir.join(\\\"post-rewrite\\\");\\n\\n    if hook_path.exists() {\\n        let content = fs::read_to_string(&hook_path)?;\\n        if content.contains(WHOGITIT_MARKER_START) || content.contains(\\\"whogitit\\\") {\\n            println!(\\\"✓ whogitit post-rewrite hook already installed.\\\");\\n            return Ok(());\\n        }\\n        // Append to existing hook\\n        let whogitit_section = format!(\\n            \\\"\\\\n\\\\n{}\\\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\\\ncopied=0\\\\nwhile read -r old_sha new_sha extra; do\\\\n  [[ -z \\\\\\\"$old_sha\\\\\\\" || -z \\\\\\\"$new_sha\\\\\\\" ]] && continue\\\\n  if git notes --ref=whogitit show \\\\\\\"$old_sha\\\\\\\" &>/dev/null; then\\\\n    git notes --ref=whogitit copy \\\\\\\"$old_sha\\\\\\\" \\\\\\\"$new_sha\\\\\\\" 2>/dev/null && copied=$((copied + 1))\\\\n  fi\\\\ndone\\\\n[[ $copied -gt 0 ]] && echo \\\\\\\"whogitit: Preserved attribution for $copied commit(s)\\\\\\\"\\\\n{}\\\\n\\\",\\n            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END\\n        );\\n        let new_content = format!(\\\"{}{}\\\", content.trim_end(",
      "timestamp": "2026-02-02T03:08:55.783185+00:00",
      "affected_files": [
        "docs/src/appendix/troubleshooting.md"
      ]
    },
    {
      "index": 12,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:02.662909+00:00",
      "affected_files": [
        "docs/src/SUMMARY.md"
      ]
    },
    {
      "index": 13,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:05.728990+00:00",
      "affected_files": [
        "docs/src/guide/cli-commands.md"
      ]
    },
    {
      "index": 14,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:08.260870+00:00",
      "affected_files": [
        "docs/src/guide/cli-commands.md"
      ]
    },
    {
      "index": 15,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:23.779436+00:00",
      "affected_files": [
        "docs/src/guide/commands/copy-notes.md"
      ]
    },
    {
      "index": 16,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:32.385442+00:00",
      "affected_files": [
        "docs/src/guide/commands/init.md"
      ]
    },
    {
      "index": 17,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:35.953985+00:00",
      "affected_files": [
        "docs/src/guide/commands/init.md"
      ]
    },
    {
      "index": 18,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:44.673912+00:00",
      "affected_files": [
        "docs/src/guide/commands/doctor.md"
      ]
    },
    {
      "index": 19,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:48.305203+00:00",
      "affected_files": [
        "docs/src/guide/commands/doctor.md"
      ]
    },
    {
      "index": 20,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:16:54.512113+00:00",
      "affected_files": [
        "docs/src/reference/hooks.md"
      ]
    },
    {
      "index": 21,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:00.742200+00:00",
      "affected_files": [
        "docs/src/reference/hooks.md"
      ]
    },
    {
      "index": 22,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:02.411379+00:00",
      "affected_files": [
        "docs/src/reference/hooks.md"
      ]
    },
    {
      "index": 23,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:15.803528+00:00",
      "affected_files": [
        "docs/src/reference/git-notes.md"
      ]
    },
    {
      "index": 24,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:21.728358+00:00",
      "affected_files": [
        "docs/src/usage/git-integration.md"
      ]
    },
    {
      "index": 25,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:26.104982+00:00",
      "affected_files": [
        "README.md"
      ]
    },
    {
      "index": 26,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:29.771745+00:00",
      "affected_files": [
        "README.md"
      ]
    },
    {
      "index": 27,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:34.356806+00:00",
      "affected_files": [
        "CLAUDE.md"
      ]
    },
    {
      "index": 28,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:40.497483+00:00",
      "affected_files": [
        "CLAUDE.md"
      ]
    },
    {
      "index": 29,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:46.889469+00:00",
      "affected_files": [
        "docs/src/getting-started/quick-start.md"
      ]
    },
    {
      "index": 30,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:48.080554+00:00",
      "affected_files": [
        "docs/src/getting-started/quick-start.md"
      ]
    },
    {
      "index": 31,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:49.419940+00:00",
      "affected_files": [
        "docs/src/getting-started/quick-start.md"
      ]
    },
    {
      "index": 32,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:50.388067+00:00",
      "affected_files": [
        "docs/src/getting-started/quick-start.md"
      ]
    },
    {
      "index": 33,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:51.504031+00:00",
      "affected_files": [
        "docs/src/getting-started/quick-start.md"
      ]
    },
    {
      "index": 34,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:17:58.151757+00:00",
      "affected_files": [
        "docs/src/guide/cli-commands.md"
      ]
    },
    {
      "index": 35,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:18:19.963013+00:00",
      "affected_files": [
        "docs/src/workflows/team-collaboration.md"
      ]
    },
    {
      "index": 36,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:18:33.532040+00:00",
      "affected_files": [
        "docs/src/reference/architecture.md"
      ]
    },
    {
      "index": 37,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:18:39.099914+00:00",
      "affected_files": [
        "docs/src/reference/architecture.md"
      ]
    },
    {
      "index": 38,
      "text": "\"Do a sweep through the entire sets of documentation to sure everything is included, everything is accurate, and everything is up to date without any inaccuracies\"",
      "timestamp": "2026-02-02T03:19:27.615708+00:00",
      "affected_files": [
        "docs/src/getting-started/installation.md"
      ]
    },
    {
      "index": 39,
      "text": "\"Are there any additional tests that we should add for full package coverage (not just for the new rebase handling - although that too - but generally can we add any and all missing tests?)\"",
      "timestamp": "2026-02-02T03:22:17.422841+00:00",
      "affected_files": [
        "src/storage/notes.rs"
      ]
    },
    {
      "index": 40,
      "text": "\"Are there any additional tests that we should add for full package coverage (not just for the new rebase handling - although that too - but generally can we add any and all missing tests?)\"",
      "timestamp": "2026-02-02T03:22:32.726238+00:00",
      "affected_files": [
        "src/cli/copy.rs"
      ]
    },
    {
      "index": 41,
      "text": "\"Are there any additional tests that we should add for full package coverage (not just for the new rebase handling - although that too - but generally can we add any and all missing tests?)\"",
      "timestamp": "2026-02-02T03:22:49.033131+00:00",
      "affected_files": [
        "src/cli/setup.rs"
      ]
    },
    {
      "index": 42,
      "text": "\"Are there any additional tests that we should add for full package coverage (not just for the new rebase handling - although that too - but generally can we add any and all missing tests?)\"",
      "timestamp": "2026-02-02T03:23:21.721726+00:00",
      "affected_files": [
        "src/cli/mod.rs"
      ]
    },
    {
      "index": 43,
      "text": "\"Are there any additional tests that we should add for full package coverage (not just for the new rebase handling - although that too - but generally can we add any and all missing tests?)\"",
      "timestamp": "2026-02-02T03:23:43.868912+00:00",
      "affected_files": [
        "tests/integration_test.rs"
      ]
    }
  ],
  "files": [
    {
      "path": "src/cli/setup.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Setup and doctor commands for whogitit configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "//!",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "//! The `setup` command handles one-time global configuration:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "//! - Installing the capture hook script to ~/.claude/hooks/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "//! - Configuring Claude Code settings.json with hook configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "//!",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "//! The `doctor` command verifies the configuration is correct.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use std::fs;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "use std::path::PathBuf;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "use serde_json::{json, Value};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "#[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "use std::os::unix::fs::PermissionsExt;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "/// The embedded capture hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "pub const CAPTURE_HOOK_SCRIPT: &str = include_str!(\"../../hooks/whogitit-capture.sh\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "/// Get the Claude configuration directory path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "///",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "/// Returns None if home directory cannot be determined (e.g., in containerized environments).",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "pub fn claude_config_dir() -> Option<PathBuf> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    dirs::home_dir().map(|h| h.join(\".claude\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "/// Get the Claude configuration directory path, or error if unavailable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "pub fn claude_config_dir_required() -> Result<PathBuf> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    claude_config_dir().ok_or_else(|| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        anyhow::anyhow!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "            \"Could not determine home directory. Set HOME environment variable or run with --help for alternatives.\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        )",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "/// Get the Claude hooks directory path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "pub fn claude_hooks_dir() -> Option<PathBuf> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    claude_config_dir().map(|c| c.join(\"hooks\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "/// Get the Claude settings.json path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "pub fn claude_settings_path() -> Option<PathBuf> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    claude_config_dir().map(|c| c.join(\"settings.json\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "/// Get the capture hook script path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "pub fn capture_hook_path() -> Option<PathBuf> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    claude_hooks_dir().map(|h| h.join(\"whogitit-capture.sh\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "/// The hook configuration that needs to be in settings.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "fn hook_configuration() -> Value {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "        \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "                \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "                \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "                    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "                        \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "                        \"command\": \"WHOGITIT_HOOK_PHASE=pre ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "                ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "        ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        \"PostToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "                \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "                \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "                    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "                        \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "                        \"command\": \"WHOGITIT_HOOK_PHASE=post ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "                ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "/// Check if whogitit hooks are already configured in a settings value",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "fn has_whogitit_hooks(settings: &Value) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    if let Some(hooks) = settings.get(\"hooks\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        // Check PreToolUse for whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        if let Some(pre_hooks) = hooks.get(\"PreToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "            if let Some(arr) = pre_hooks.as_array() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "                for entry in arr {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "                    if let Some(inner_hooks) = entry.get(\"hooks\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "                        if let Some(inner_arr) = inner_hooks.as_array() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                            for hook in inner_arr {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "                                if let Some(cmd) = hook.get(\"command\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                                    if let Some(cmd_str) = cmd.as_str() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                                        if cmd_str.contains(\"whogitit\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                                            return true;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "                                        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "                                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "                                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "                            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "                        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "/// Merge whogitit hooks into existing settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "fn merge_hooks_into_settings(mut settings: Value) -> Value {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    let hook_config = hook_configuration();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    // Ensure hooks object exists",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    if settings.get(\"hooks\").is_none() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        settings[\"hooks\"] = json!({});",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    let hooks = settings[\"hooks\"].as_object_mut().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    // Merge PreToolUse",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    if let Some(pre_hooks) = hook_config.get(\"PreToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        if hooks.contains_key(\"PreToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "            // Append to existing array",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "            if let Some(existing) = hooks.get_mut(\"PreToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "                if let Some(arr) = existing.as_array_mut() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "                    if let Some(new_hooks) = pre_hooks.as_array() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "                        arr.extend(new_hooks.iter().cloned());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "            hooks.insert(\"PreToolUse\".to_string(), pre_hooks.clone());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "    // Merge PostToolUse",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    if let Some(post_hooks) = hook_config.get(\"PostToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        if hooks.contains_key(\"PostToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "            // Append to existing array",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "            if let Some(existing) = hooks.get_mut(\"PostToolUse\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "                if let Some(arr) = existing.as_array_mut() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "                    if let Some(new_hooks) = post_hooks.as_array() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "                        arr.extend(new_hooks.iter().cloned());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "            hooks.insert(\"PostToolUse\".to_string(), post_hooks.clone());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "/// Result of checking setup status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "#[derive(Debug, Clone)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "pub struct SetupStatus {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    pub hook_script_installed: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "    pub hook_script_executable: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    pub settings_configured: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    pub claude_dir_exists: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "impl SetupStatus {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    /// Check if global setup is complete",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    pub fn is_complete(&self) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "        self.hook_script_installed && self.hook_script_executable && self.settings_configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "/// Check the current setup status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "pub fn check_setup_status() -> SetupStatus {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    let claude_dir = match claude_config_dir() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        Some(dir) => dir,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            return SetupStatus {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "                hook_script_installed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "                hook_script_executable: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "                settings_configured: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "                claude_dir_exists: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "    let hook_path = claude_dir.join(\"hooks\").join(\"whogitit-capture.sh\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    let settings_path = claude_dir.join(\"settings.json\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    let claude_dir_exists = claude_dir.exists();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    let hook_script_installed = hook_path.exists();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    let hook_script_executable = if hook_script_installed {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        #[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            fs::metadata(&hook_path)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "                .map(|m| m.permissions().mode() & 0o111 != 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "                .unwrap_or(false)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        #[cfg(not(unix))]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "            true // Windows doesn't need execute permission",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "    let settings_configured = if settings_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "        fs::read_to_string(&settings_path)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "            .ok()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "            .and_then(|content| serde_json::from_str::<Value>(&content).ok())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "            .map(|settings| has_whogitit_hooks(&settings))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "            .unwrap_or(false)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    SetupStatus {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        hook_script_installed,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        hook_script_executable,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        settings_configured,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        claude_dir_exists,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "/// Install the capture hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "fn install_hook_script() -> Result<bool> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "    let hooks_dir =",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        claude_hooks_dir().ok_or_else(|| anyhow::anyhow!(\"Could not determine home directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "    let hook_path = hooks_dir.join(\"whogitit-capture.sh\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    // Create hooks directory if needed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    if !hooks_dir.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        fs::create_dir_all(&hooks_dir).context(\"Failed to create ~/.claude/hooks directory\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    // Check if already installed with same content",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        let existing = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        if existing == CAPTURE_HOOK_SCRIPT {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "            return Ok(false); // Already up to date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "    // Write the hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "    fs::write(&hook_path, CAPTURE_HOOK_SCRIPT).context(\"Failed to write capture hook script\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    // Make executable on Unix",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "    #[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "        let mut perms = fs::metadata(&hook_path)?.permissions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        perms.set_mode(0o755);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        fs::set_permissions(&hook_path, perms)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "    Ok(true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "/// Configure Claude Code settings.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "fn configure_settings() -> Result<bool> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    let claude_dir =",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        claude_config_dir().ok_or_else(|| anyhow::anyhow!(\"Could not determine home directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    let settings_path = claude_dir.join(\"settings.json\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    // Create .claude directory if needed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "    if !claude_dir.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        fs::create_dir_all(&claude_dir).context(\"Failed to create ~/.claude directory\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    // Load existing settings or create new",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    let settings: Value = if settings_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "        let content = fs::read_to_string(&settings_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "        serde_json::from_str(&content).unwrap_or_else(|_| json!({}))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        json!({})",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    // Check if already configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    if has_whogitit_hooks(&settings) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        return Ok(false); // Already configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "    // Backup existing settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "    if settings_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        let backup_path = claude_dir.join(\"settings.json.backup\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        fs::copy(&settings_path, &backup_path).context(\"Failed to backup settings.json\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    // Merge and write new settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    let new_settings = merge_hooks_into_settings(settings);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    let formatted = serde_json::to_string_pretty(&new_settings)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "    fs::write(&settings_path, formatted).context(\"Failed to write settings.json\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "    Ok(true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "/// Run the setup command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "pub fn run_setup() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "    println!(\"Setting up whogitit for Claude Code...\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "    // Install hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "    match install_hook_script() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "        Ok(true) => println!(\"  Installed capture hook to ~/.claude/hooks/whogitit-capture.sh\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        Ok(false) => println!(\"  Capture hook already installed and up to date.\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "        Err(e) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "            return Err(e.context(\"Failed to install capture hook\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    // Configure settings.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "    match configure_settings() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "        Ok(true) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "            println!(\"  Configured Claude Code hooks in ~/.claude/settings.json\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "            println!(\"    (Previous settings backed up to settings.json.backup)\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "        Ok(false) => println!(\"  Claude Code hooks already configured.\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "        Err(e) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "            return Err(e.context(\"Failed to configure Claude Code settings\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    println!(\"\\nGlobal setup complete!\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "    println!(\"\\nNext steps:\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "    println!(\"  1. Run 'whogitit init' in each repository you want to track\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "    println!(\"  2. Use Claude Code normally - AI attribution will be captured automatically\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "    println!(\"\\nRun 'whogitit doctor' to verify your configuration at any time.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "/// Result of a single doctor check",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "#[derive(Debug)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "pub struct DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "    pub name: &'static str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "    pub passed: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "    pub message: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "    pub fix_hint: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "/// Run the doctor command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "pub fn run_doctor() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "    println!(\"Checking whogitit configuration...\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "    let mut checks: Vec<DoctorCheck> = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "    let mut all_passed = true;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "    // Check 1: whogitit binary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "    checks.push(check_binary());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "    // Check 2: Capture hook installed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "    checks.push(check_hook_installed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "    // Check 3: Capture hook executable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "    checks.push(check_hook_executable());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "    // Check 4: Claude settings configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    checks.push(check_settings_configured());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    // Check 5: Required tools (jq)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "    checks.push(check_required_tools());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    // Check 6: Git repo (if in one)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "    if let Some(repo_check) = check_git_repo() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "        checks.push(repo_check);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "    // Check 7: Orphaned notes (if in a git repo with notes)",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "    if let Some(notes_check) = check_orphaned_notes() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "        checks.push(notes_check);",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "    // Display results",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "    for check in &checks {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        let status = if check.passed { \"[OK]\" } else { \"[FAIL]\" };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "        println!(\"{} {}: {}\", status, check.name, check.message);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        if !check.passed {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "            all_passed = false;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "            if let Some(hint) = &check.fix_hint {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "                println!(\"   Fix: {}\", hint);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "    if all_passed {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "        println!(\"All checks passed! whogitit is properly configured.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "        println!(\"Some checks failed. Run 'whogitit setup' to fix configuration issues.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "fn check_binary() -> DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "    // The binary is obviously available if we're running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "    DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "        name: \"whogitit binary\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "        passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "        message: \"Installed and running\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "        fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "fn check_hook_installed() -> DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "    let hook_path = match capture_hook_path() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "        Some(p) => p,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "            return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "                name: \"Capture hook\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "                message: \"Cannot determine home directory\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "                fix_hint: Some(\"Set HOME environment variable\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "        // Also check if it's the current version",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "        let is_current = fs::read_to_string(&hook_path)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "            .map(|content| content == CAPTURE_HOOK_SCRIPT)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "            .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "        if is_current {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "            DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "                name: \"Capture hook\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "                passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "                message: format!(\"Installed at {}\", hook_path.display()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "                fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "            DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "                name: \"Capture hook\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "                message: \"Installed but outdated\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "                fix_hint: Some(\"Run 'whogitit setup' to update\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "            name: \"Capture hook\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "            message: \"Not installed\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "            fix_hint: Some(\"Run 'whogitit setup' to install\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "fn check_hook_executable() -> DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "    let hook_path = match capture_hook_path() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "        Some(p) => p,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "            return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "                name: \"Hook permissions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "                message: \"Cannot determine home directory\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "                fix_hint: Some(\"Set HOME environment variable\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "    if !hook_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "        return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "            name: \"Hook permissions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "            message: \"Hook not installed\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "            fix_hint: Some(\"Run 'whogitit setup'\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "    #[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "        let executable = fs::metadata(&hook_path)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "            .map(|m| m.permissions().mode() & 0o111 != 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "            .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "        if executable {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "            DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "                name: \"Hook permissions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "                passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "                message: \"Executable\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "                fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "            DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "                name: \"Hook permissions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "                message: \"Not executable\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "                fix_hint: Some(format!(\"Run 'chmod +x {}'\", hook_path.display())),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "    #[cfg(not(unix))]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "            name: \"Hook permissions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "            passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "            message: \"OK (Windows)\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "            fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "fn check_settings_configured() -> DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "    let settings_path = match claude_settings_path() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "        Some(p) => p,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "            return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "                name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "                message: \"Cannot determine home directory\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "                fix_hint: Some(\"Set HOME environment variable\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "    if !settings_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "        return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "            name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "            message: \"settings.json not found\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "            fix_hint: Some(\"Run 'whogitit setup' to configure\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "    let content = match fs::read_to_string(&settings_path) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "        Ok(c) => c,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "        Err(_) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "            return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "                name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "                message: \"Cannot read settings.json\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "                fix_hint: Some(\"Check file permissions\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "    let settings: Value = match serde_json::from_str(&content) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "        Ok(v) => v,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "        Err(_) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "            return DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "                name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "                passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "                message: \"Invalid JSON in settings.json\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "                fix_hint: Some(\"Check settings.json syntax\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "    if has_whogitit_hooks(&settings) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "            name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "            passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "            message: \"Hooks configured\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "            fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "            name: \"Claude Code settings\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "            message: \"whogitit hooks not configured\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "            fix_hint: Some(\"Run 'whogitit setup' to configure\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "fn check_required_tools() -> DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "    // Check for jq which is required by the hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "    let jq_available = std::process::Command::new(\"jq\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "        .arg(\"--version\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "        .output()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "        .map(|o| o.status.success())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "        .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "    if jq_available {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "            name: \"Required tools (jq)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "            passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "            message: \"Available\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "            fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "        DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "            name: \"Required tools (jq)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "            message: \"jq not found\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "            fix_hint: Some(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "                \"Install jq: brew install jq (macOS) or apt install jq (Linux)\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "            ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "fn check_orphaned_notes() -> Option<DoctorCheck> {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "    let repo = git2::Repository::discover(\".\").ok()?;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "    let store = crate::storage::notes::NotesStore::new(&repo).ok()?;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "    let all_notes = store.list_attributed_commits().ok()?;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "    if all_notes.is_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "        return None;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "    let mut orphaned = 0;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "    for oid in &all_notes {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "        if repo.find_commit(*oid).is_err() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "            orphaned += 1;",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "    Some(DoctorCheck {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "        name: \"Attribution notes\",",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "        passed: orphaned == 0,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "        message: if orphaned == 0 {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "            format!(\"{} notes, all valid\", all_notes.len())",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "            format!(",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "                \"{}/{} notes orphaned (commits deleted)\",",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "                orphaned,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "                all_notes.len()",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "            )",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "        },",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "        fix_hint: if orphaned > 0 {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "            Some(\"Run 'git notes --ref=whogitit prune' to clean up\".to_string())",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 622,
          "content": "            None",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 623,
          "content": "        },",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 624,
          "content": "    })",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 625,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 626,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 627,
          "content": "fn check_git_repo() -> Option<DoctorCheck> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 628,
          "content": "    // Only check if we're in a git repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 629,
          "content": "    let repo = git2::Repository::discover(\".\").ok()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 630,
          "content": "    let repo_root = repo.workdir()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 631,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 632,
          "content": "    let hooks_dir = repo_root.join(\".git/hooks\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 633,
          "content": "    let post_commit = hooks_dir.join(\"post-commit\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 634,
          "content": "    let pre_push = hooks_dir.join(\"pre-push\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 635,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 636,
          "content": "    let post_commit_ok = post_commit.exists()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 637,
          "content": "        && fs::read_to_string(&post_commit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 638,
          "content": "            .map(|c| c.contains(\"whogitit\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 639,
          "content": "            .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 640,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 641,
          "content": "    let pre_push_ok = pre_push.exists()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 642,
          "content": "        && fs::read_to_string(&pre_push)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 643,
          "content": "            .map(|c| c.contains(\"whogitit\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 644,
          "content": "            .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 645,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 646,
          "content": "    if post_commit_ok && pre_push_ok {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 647,
          "content": "        Some(DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 648,
          "content": "            name: \"Repository hooks\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 649,
          "content": "            passed: true,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 650,
          "content": "            message: \"Initialized in current repo\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 651,
          "content": "            fix_hint: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 652,
          "content": "        })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 653,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 654,
          "content": "        Some(DoctorCheck {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 655,
          "content": "            name: \"Repository hooks\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 656,
          "content": "            passed: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 657,
          "content": "            message: \"Not initialized in current repo\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 658,
          "content": "            fix_hint: Some(\"Run 'whogitit init' in this repository\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 659,
          "content": "        })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 660,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 661,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 662,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 663,
          "content": "#[cfg(test)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 664,
          "content": "mod tests {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 665,
          "content": "    use super::*;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 666,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 667,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 668,
          "content": "    fn test_has_whogitit_hooks_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 669,
          "content": "        let settings = json!({});",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 670,
          "content": "        assert!(!has_whogitit_hooks(&settings));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 671,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 672,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 673,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 674,
          "content": "    fn test_has_whogitit_hooks_other_hooks() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 675,
          "content": "        let settings = json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 676,
          "content": "            \"hooks\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 677,
          "content": "                \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 678,
          "content": "                    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 679,
          "content": "                        \"matcher\": \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 680,
          "content": "                        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 681,
          "content": "                            {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 682,
          "content": "                                \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 683,
          "content": "                                \"command\": \"some-other-hook\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 684,
          "content": "                            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 685,
          "content": "                        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 686,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 687,
          "content": "                ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 688,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 689,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 690,
          "content": "        assert!(!has_whogitit_hooks(&settings));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 691,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 692,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 693,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 694,
          "content": "    fn test_has_whogitit_hooks_configured() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 695,
          "content": "        let settings = json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 696,
          "content": "            \"hooks\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 697,
          "content": "                \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 698,
          "content": "                    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 699,
          "content": "                        \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 700,
          "content": "                        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 701,
          "content": "                            {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 702,
          "content": "                                \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 703,
          "content": "                                \"command\": \"WHOGITIT_HOOK_PHASE=pre ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 704,
          "content": "                            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 705,
          "content": "                        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 706,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 707,
          "content": "                ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 708,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 709,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 710,
          "content": "        assert!(has_whogitit_hooks(&settings));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 711,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 712,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 713,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 714,
          "content": "    fn test_merge_hooks_empty_settings() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 715,
          "content": "        let settings = json!({});",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 716,
          "content": "        let merged = merge_hooks_into_settings(settings);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 717,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 718,
          "content": "        assert!(merged.get(\"hooks\").is_some());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 719,
          "content": "        assert!(merged[\"hooks\"].get(\"PreToolUse\").is_some());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 720,
          "content": "        assert!(merged[\"hooks\"].get(\"PostToolUse\").is_some());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 721,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 722,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 723,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 724,
          "content": "    fn test_merge_hooks_preserves_existing() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 725,
          "content": "        let settings = json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 726,
          "content": "            \"other_setting\": \"value\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 727,
          "content": "            \"hooks\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 728,
          "content": "                \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 729,
          "content": "                    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 730,
          "content": "                        \"matcher\": \"Read\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 731,
          "content": "                        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 732,
          "content": "                            {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 733,
          "content": "                                \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 734,
          "content": "                                \"command\": \"existing-hook\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 735,
          "content": "                            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 736,
          "content": "                        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 737,
          "content": "                    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 738,
          "content": "                ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 739,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 740,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 741,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 742,
          "content": "        let merged = merge_hooks_into_settings(settings);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 743,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 744,
          "content": "        // Original setting preserved",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 745,
          "content": "        assert_eq!(merged[\"other_setting\"], \"value\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 746,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 747,
          "content": "        // Existing hook preserved",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 748,
          "content": "        let pre_hooks = merged[\"hooks\"][\"PreToolUse\"].as_array().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 749,
          "content": "        assert!(pre_hooks.len() >= 2); // Original + new",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 750,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 751,
          "content": "        // Has both old and new hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 752,
          "content": "        let has_existing = pre_hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 753,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 754,
          "content": "            .any(|h| h[\"hooks\"][0][\"command\"].as_str() == Some(\"existing-hook\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 755,
          "content": "        let has_whogitit = pre_hooks.iter().any(|h| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 756,
          "content": "            h[\"hooks\"][0][\"command\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 757,
          "content": "                .as_str()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 758,
          "content": "                .unwrap_or(\"\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 759,
          "content": "                .contains(\"whogitit\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 760,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 761,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 762,
          "content": "        assert!(has_existing, \"Should preserve existing hook\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 763,
          "content": "        assert!(has_whogitit, \"Should add whogitit hook\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 764,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 765,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 766,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 767,
          "content": "    fn test_hook_configuration_structure() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 768,
          "content": "        let config = hook_configuration();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 769,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 770,
          "content": "        // Check PreToolUse structure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 771,
          "content": "        let pre = &config[\"PreToolUse\"][0];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 772,
          "content": "        assert_eq!(pre[\"matcher\"], \"Edit|Write|Bash\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 773,
          "content": "        assert!(pre[\"hooks\"][0][\"command\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 774,
          "content": "            .as_str()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 775,
          "content": "            .unwrap()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 776,
          "content": "            .contains(\"WHOGITIT_HOOK_PHASE=pre\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 777,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 778,
          "content": "        // Check PostToolUse structure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 779,
          "content": "        let post = &config[\"PostToolUse\"][0];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 780,
          "content": "        assert_eq!(post[\"matcher\"], \"Edit|Write|Bash\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 781,
          "content": "        assert!(post[\"hooks\"][0][\"command\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 782,
          "content": "            .as_str()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 783,
          "content": "            .unwrap()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 784,
          "content": "            .contains(\"WHOGITIT_HOOK_PHASE=post\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 785,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 786,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 787,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 788,
          "content": "    fn test_doctor_check_structure() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 789,
          "content": "        let check = DoctorCheck {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 790,
          "content": "            name: \"Test check\",",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 791,
          "content": "            passed: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 792,
          "content": "            message: \"Test passed\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 793,
          "content": "            fix_hint: None,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 794,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 795,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 796,
          "content": "        assert_eq!(check.name, \"Test check\");",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 797,
          "content": "        assert!(check.passed);",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 798,
          "content": "        assert!(check.fix_hint.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 799,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 800,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 801,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 802,
          "content": "    fn test_doctor_check_with_fix_hint() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 803,
          "content": "        let check = DoctorCheck {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 804,
          "content": "            name: \"Failing check\",",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 805,
          "content": "            passed: false,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 806,
          "content": "            message: \"Something is wrong\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 807,
          "content": "            fix_hint: Some(\"Run this command to fix\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 808,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 809,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 810,
          "content": "        assert!(!check.passed);",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 811,
          "content": "        assert!(check.fix_hint.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 812,
          "content": "        assert_eq!(",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 813,
          "content": "            check.fix_hint.unwrap(),",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 814,
          "content": "            \"Run this command to fix\".to_string()",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 815,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 816,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 817,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 818,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 819,
          "content": "    fn test_setup_status_is_complete() {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 820,
          "content": "        let complete = SetupStatus {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 821,
          "content": "            hook_script_installed: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 822,
          "content": "            hook_script_executable: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 823,
          "content": "            settings_configured: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 824,
          "content": "            claude_dir_exists: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 825,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 826,
          "content": "        assert!(complete.is_complete());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 827,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 828,
          "content": "        let incomplete1 = SetupStatus {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 829,
          "content": "            hook_script_installed: false,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 830,
          "content": "            hook_script_executable: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 831,
          "content": "            settings_configured: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 832,
          "content": "            claude_dir_exists: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 833,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 834,
          "content": "        assert!(!incomplete1.is_complete());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 835,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 836,
          "content": "        let incomplete2 = SetupStatus {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 837,
          "content": "            hook_script_installed: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 838,
          "content": "            hook_script_executable: false,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 839,
          "content": "            settings_configured: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 840,
          "content": "            claude_dir_exists: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 841,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 842,
          "content": "        assert!(!incomplete2.is_complete());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 843,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 844,
          "content": "        let incomplete3 = SetupStatus {",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 845,
          "content": "            hook_script_installed: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 846,
          "content": "            hook_script_executable: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 847,
          "content": "            settings_configured: false,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 848,
          "content": "            claude_dir_exists: true,",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 849,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 850,
          "content": "        assert!(!incomplete3.is_complete());",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 851,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58"
          },
          "edit_id": "8f9fb325-025f-4d74-a0d6-d263359a1b58",
          "prompt_index": 41,
          "confidence": 1.0
        },
        {
          "line_number": 852,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 852,
        "ai_lines": 107,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 745,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/guide/cli-commands.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# CLI Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "whogitit provides a comprehensive CLI for viewing and managing AI attribution data.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Command Overview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "### Core Attribution Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "| Command | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "|---------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "| [`blame`](./commands/blame.md) | Show AI attribution for each line of a file |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "| [`show`](./commands/show.md) | View attribution summary for a commit |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "| [`prompt`](./commands/prompt.md) | View the prompt that generated specific lines |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "| [`summary`](./commands/summary.md) | Generate summary for a commit range (PRs) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "| [`status`](./commands/status.md) | Check pending attribution changes |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "### Developer Integration Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "| Command | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "|---------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "| [`annotations`](./commands/annotations.md) | Generate GitHub Checks API annotations |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "| [`pager`](./commands/pager.md) | Annotate git diff output with AI markers |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "### Data Management Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "| Command | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "|---------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "| [`export`](./commands/export.md) | Export attribution data as JSON/CSV |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "| [`retention`](./commands/retention.md) | Manage data retention policies |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "| [`audit`](./commands/audit.md) | View the audit log |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "| [`clear`](./commands/clear.md) | Discard pending changes without committing |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "### Setup Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "| Command | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "|---------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "| [`setup`](./commands/setup.md) | Configure Claude Code integration (one-time) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "| [`doctor`](./commands/doctor.md) | Verify whogitit configuration |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "| [`init`](./commands/init.md) | Initialize whogitit in a repository |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "| [`copy-notes`](./commands/copy-notes.md) | Copy attribution between commits |",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "### Privacy Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "| Command | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "|---------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "| [`redact-test`](./commands/redact-test.md) | Test redaction patterns against text/files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "## Quick Reference",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "### Viewing Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "# See AI attribution for a file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "whogitit blame src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "# Show only AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "whogitit blame src/main.rs --ai-only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "# View commit summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "# Find prompt that generated a line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "whogitit prompt src/main.rs:42",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "# Summarize a PR",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "whogitit summary --base main --format markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "### Developer Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "# Generate GitHub Checks annotations for CI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "whogitit annotations --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "# Use as git pager for AI-annotated diffs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "git config --global core.pager \"whogitit pager\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "git diff | whogitit pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "# Create git aliases",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "git config --global alias.ai-diff '!git diff | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "### Managing Data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "# Check pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "whogitit status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "# Clear pending without committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "whogitit clear",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "# Export all attribution data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "whogitit export -o attribution.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "# Preview retention policy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "whogitit retention preview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "### Setup Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "# One-time global setup (configures Claude Code)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "# Verify all configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "# Initialize repository hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "# Initialize even if global setup incomplete",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "whogitit init --force",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "# Copy attribution (after cherry-pick or manual rebase recovery)",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "whogitit copy-notes <old-sha> <new-sha>",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "whogitit copy-notes <old-sha> <new-sha> --dry-run",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "### Privacy Testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "# Test redaction patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "whogitit redact-test --text \"api_key=secret123\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "# List available patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "whogitit redact-test --list-patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "# Show what would be redacted",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "whogitit redact-test --file .env --matches-only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "## Global Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "All commands support these options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "| Option | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "| `--help` | Show help for any command |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "| `--version` | Show version information |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "## Output Formats",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "Many commands support multiple output formats:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "| Format | Flag | Use Case |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "|--------|------|----------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "| Pretty | (default) | Human-readable terminal output |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "| JSON | `--format json` | Machine parsing, scripts |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "| Markdown | `--format markdown` | Documentation, PR comments |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "| CSV | `--format csv` | Spreadsheets, data analysis |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "## Exit Codes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "| Code | Meaning |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "|------|---------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "| 0 | Success |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "| 1 | General error |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "| 2 | Invalid arguments |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "## Next Steps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "Explore each command in detail:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "### Core Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "- [blame](./commands/blame.md) - Line-level attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "- [show](./commands/show.md) - Commit summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "- [prompt](./commands/prompt.md) - Prompt lookup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "- [summary](./commands/summary.md) - PR summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "### Developer Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "- [annotations](./commands/annotations.md) - GitHub Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "- [pager](./commands/pager.md) - Git diff annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "### Data & Privacy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "- [export](./commands/export.md) - Data export",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "- [retention](./commands/retention.md) - Data retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "- [audit](./commands/audit.md) - Audit log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "- [redact-test](./commands/redact-test.md) - Privacy testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "### Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "- [setup](./commands/setup.md) - Global configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "- [doctor](./commands/doctor.md) - Configuration check",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "- [init](./commands/init.md) - Repository setup",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "- [copy-notes](./commands/copy-notes.md) - Copy attribution between commits",
          "source": {
            "type": "AI",
            "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779"
          },
          "edit_id": "bdc39ecf-4649-4b3e-9c66-39725aeeb779",
          "prompt_index": 34,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 184,
        "ai_lines": 7,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 177,
        "unknown_lines": 0
      }
    },
    {
      "path": "README.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Track AI-generated code at line-level granularity. Know exactly which lines were written by AI, which were modified by humans, and what prompts generated them.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Features",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "- **Line-level attribution** - Track whether each line is AI-generated, human-modified, or original",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "- **Prompt preservation** - Store the prompts that generated code alongside commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "- **Three-way diff analysis** - Accurate attribution even when you edit AI code before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "- **Git-native storage** - Uses git notes that travel with your repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "- **Claude Code integration** - Automatic capture via hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "- **GitHub Action** - PR comments showing AI attribution summaries with prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "- **Privacy protection** - Automatic redaction of API keys, passwords, and sensitive data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "- **Data retention policies** - Configurable age limits and auto-purge for compliance",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "- **Audit logging** - Track deletions, exports, and configuration changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "- **Export capabilities** - Bulk export attribution data as JSON or CSV",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "## Installation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "### Quick Install (Recommended)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "**macOS / Linux:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "curl -sSL https://github.com/dotsetlabs/whogitit/releases/latest/download/install.sh | sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "**Windows (PowerShell):**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "```powershell",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "irm https://github.com/dotsetlabs/whogitit/releases/latest/download/install.ps1 | iex",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "### Via Cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "cargo install whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "### From Source",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "git clone https://github.com/dotsetlabs/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "cd whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "cargo install --path .",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "## Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "### 1. One-time global setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "Run this once to configure Claude Code integration:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "This automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "- Installs the capture hook to `~/.claude/hooks/`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "- Configures Claude Code's `settings.json` with the required hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "- No manual file copying or JSON editing needed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "### 2. Initialize each repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "This installs git hooks that:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "- Attach attribution data to commits (post-commit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "- Push git notes with your commits (pre-push)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "- Preserve notes during rebase/amend (post-rewrite)",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "- Configure git to fetch notes automatically",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "### 3. Verify your setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "This checks all configuration and shows any issues.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "### Manual setup (alternative)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "If you prefer manual configuration, see [detailed installation docs](docs/src/getting-started/installation.md).",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "### Push notes with commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "Git notes are pushed automatically on `git push` after `whogitit init`. To push manually:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "## CLI Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "### `whogitit blame <file>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "Show AI attribution for each line:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "$ whogitit blame src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": " LINE   │ COMMIT  │ AUTHOR     │ SRC │ CODE",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "─────────────────────────────────────────────────────────────────────────────────────",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    1   │ a1b2c3d │ Greg King  │  ─  │ use std::io;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    2   │ d4e5f6g │ Greg King  │  ●  │ use anyhow::Result;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    3   │ d4e5f6g │ Greg King  │  ●  │ use serde::{Deserialize, Serialize};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    4   │ d4e5f6g │ Greg King  │  ◐  │ use chrono::Utc;  // modified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    5   │ h8i9j0k │ Greg King  │  +  │ // Added by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "─────────────────────────────────────────────────────────────────────────────────────",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "Legend: ● AI (2) ◐ AI-modified (1) + Human (1) ─ Original (1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "AI involvement: 60% (3 of 5 lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "- `--revision <ref>` - Blame at a specific revision",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "- `--format json` - JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "- `--ai-only` - Show only AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "- `--human-only` - Show only human-written lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "### `whogitit show <commit>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "View attribution summary for a commit:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "$ whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "Commit: d4e5f6g",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "Model: claude-opus-4-5-20251101",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "Started: 2026-01-30T14:23:17Z",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "Prompts used:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "  #0: \"Add error handling with anyhow...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "  #1: \"Implement the serialize trait...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "Files with AI changes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "  src/auth.rs (25 AI, 3 modified, 2 human) - 45 total lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "  src/main.rs (10 AI, 5 original) - 15 total lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "Summary:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "  35 AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "  3 AI lines modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "  2 human-added lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "  5 original/unchanged lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "### `whogitit prompt <file:line>`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "View the prompt that generated specific lines:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "$ whogitit prompt src/main.rs:42",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "╔════════════════════════════════════════════════════════════════════╗",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "║  PROMPT #2 in session 7f3a-4b2c-9d1e...                            ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "║  Model: claude-opus-4-5-20251101 | 2026-01-30T14:23:17Z            ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "╠════════════════════════════════════════════════════════════════════╣",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "║  Add JWT token generation with 24-hour expiration. Use the         ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "║  jsonwebtoken crate. The function should take a user_id and        ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "║  return a Result<String>.                                          ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "╚════════════════════════════════════════════════════════════════════╝",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "Files affected by this prompt:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "  - src/auth.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "  - src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "### `whogitit summary`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "Generate attribution summary for a commit range (useful for PRs):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "whogitit summary --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "whogitit summary --base main --format markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "whogitit summary --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "### `whogitit status`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "Check pending attribution changes (before commit):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "$ whogitit status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "Pending AI attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "  Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "  Files: 3",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "  Lines: 45",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "Run 'git commit' to finalize attribution.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "### `whogitit clear`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "Discard pending changes without committing:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "whogitit clear",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "### `whogitit export`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "Export attribution data for multiple commits:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "whogitit export                           # JSON to stdout",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "whogitit export --format csv -o data.csv  # CSV to file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "whogitit export --since 2026-01-01        # Filter by date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "whogitit export --full-prompts            # Include full prompt text",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "- `--format json|csv` - Output format (default: json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "- `--since <date>` - Only commits after date (YYYY-MM-DD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "- `--until <date>` - Only commits before date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "- `-o, --output <file>` - Output file (default: stdout)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "- `--full-prompts` - Include full prompt text (default: truncated)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "### `whogitit retention`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "Manage data retention policies:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "whogitit retention config   # Show current retention settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "whogitit retention preview  # Preview what would be deleted",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "whogitit retention apply    # Dry-run deletion",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "whogitit retention apply --execute  # Actually delete old data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "### `whogitit audit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "View the audit log (tracks deletions, exports, config changes):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "whogitit audit                    # Show last 50 events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "whogitit audit --limit 100        # Show more events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "whogitit audit --since 2026-01-01 # Filter by date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "whogitit audit --event-type delete # Filter by type",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "whogitit audit --json             # JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "### `whogitit redact-test`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "Test redaction patterns against text or files:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "whogitit redact-test --text \"text with api_key=secret123\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "whogitit redact-test --file config.txt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "whogitit redact-test --list-patterns  # Show available patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "whogitit redact-test --text \"...\" --matches-only  # Show matches without redacting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "whogitit redact-test --text \"...\" --audit  # Show audit trail",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "### `whogitit annotations`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "Generate annotations for GitHub Checks API (used by CI):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "whogitit annotations --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "whogitit annotations --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "whogitit annotations --consolidate file    # One annotation per file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "whogitit annotations --consolidate lines   # Granular line annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "whogitit annotations --max-annotations 50  # GitHub API limit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "- `--base <commit>` - Base commit (exclusive)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "- `--head <commit>` - Head commit (default: HEAD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "- `--format github-checks|json` - Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "- `--consolidate auto|file|lines` - Consolidation mode (default: auto)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "- `--consolidate-threshold <0.0-1.0>` - AI coverage threshold for auto mode (default: 0.7)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "- `--min-lines <n>` - Minimum AI lines for annotation (default: 1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "- `--max-annotations <n>` - Maximum annotations (default: 50)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "- `--ai-only` - Only annotate pure AI lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "### `whogitit copy-notes`",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "Copy attribution between commits (useful after cherry-pick):",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "whogitit copy-notes <source-sha> <target-sha>",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "whogitit copy-notes abc123 def456 --dry-run",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "Note: For rebase and amend, the post-rewrite hook automatically preserves notes. Use `copy-notes` for cherry-pick or manual recovery.",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1"
          },
          "edit_id": "578c7b1e-ecfa-4b1d-aa33-5b24f51da2b1",
          "prompt_index": 26,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "### `whogitit pager`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "Annotate git diff output with AI attribution (use as git pager):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "# Configure as git pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "git config --global core.pager \"whogitit pager\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "# Or use with aliases",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "git config --global alias.ai-diff '!git diff | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "git diff | whogitit pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "# Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "whogitit pager --verbose     # Show model, timestamps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "whogitit pager --no-color    # Disable colors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "whogitit pager --no-pager    # Output directly to stdout",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "See [Git Integration](docs/src/usage/git-integration.md) for more details.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "## Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "Create `.whogitit.toml` in your repository root to configure privacy and retention:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "# Enable audit logging for compliance",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "audit_log = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "# Disable specific builtin patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "disabled_patterns = [\"EMAIL\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "# Additional custom redaction patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "[[privacy.custom_patterns]]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "name = \"INTERNAL_ID\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "pattern = \"INTERNAL-\\\\d+\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "description = \"Internal tracking IDs\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "[retention]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "# Delete attribution older than 365 days",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "max_age_days = 365",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "# Keep at least 100 commits regardless of age",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "min_commits = 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "# Never delete attribution for these refs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "retain_refs = [\"refs/heads/main\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "# Auto-purge on commit (default: false)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "auto_purge = false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "## GitHub Action",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "Add AI attribution summaries to pull requests automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "### Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "Create `.github/workflows/ai-attribution.yml`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "```yaml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "name: AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "on:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "  pull_request:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "    types: [opened, synchronize, reopened]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "permissions:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "  contents: read",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "  pull-requests: write",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "jobs:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "  analyze:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "    runs-on: ubuntu-latest",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    steps:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "      - uses: actions/checkout@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "          fetch-depth: 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "          ref: ${{ github.event.pull_request.head.sha }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "      - name: Fetch git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "        run: git fetch origin refs/notes/whogitit:refs/notes/whogitit || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        continue-on-error: true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "      - name: Setup Rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "        uses: dtolnay/rust-toolchain@stable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "      - name: Cache cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        uses: actions/cache@v4",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "        with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "          path: |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "            ~/.cargo/bin/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "            ~/.cargo/registry/index/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "            ~/.cargo/registry/cache/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "            ~/.cargo/git/db/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "            target/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "          key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "      - name: Build whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "        run: cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "      # ... analysis and comment posting steps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "      # See .github/workflows/ai-attribution.yml for full implementation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "### Example PR Comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "The action posts a comment like this:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "---",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "## 🤖🤖 AI Attribution Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "This PR adds **+200** lines with AI attribution across **3** files.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "### Additions Breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "| Metric | Lines | % of Additions |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "|--------|------:|--------------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "| 🟢 AI-generated | +145 | 72.5% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "| 🟡 AI-modified by human | +12 | 6.0% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "| 🔵 Human-written | +43 | 21.5% |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "| **Total additions** | **+200** | **100%** |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "**AI involvement: 78.5%** of additions are AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "### Files Changed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "| File | +Added | AI | Human | AI % | Status |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "|------|-------:|---:|------:|-----:|--------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "| `src/auth.rs` | +80 | 72 | 8 | 90% | New |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "| `src/main.rs` | +45 | 32 | 13 | 71% | Modified |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "| `src/jwt.rs` | +75 | 53 | 22 | 71% | New |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "### Commits with AI Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "| Commit | Message | AI | Modified | Human | Files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "|--------|---------|---:|--------:|------:|------:|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "| `abc1234` | Add user authentication | 72 | 3 | 5 | 2 |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "| `def5678` | Implement JWT tokens | 85 | 9 | 26 | 2 |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "### Prompts Used (2)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "**Prompt 1** (src/auth.rs, src/main.rs)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "<details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "<summary>Add user authentication with bcrypt password hashing...</summary>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "Add user authentication with bcrypt password hashing. Create a User struct",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "with email and password_hash fields. Implement register and login functions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "that return Result types.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "</details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "**Prompt 2** (src/jwt.rs)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "<details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "<summary>Implement JWT token generation with 24-hour expiration...</summary>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "Implement JWT token generation with 24-hour expiration. Use the jsonwebtoken",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "crate. The function should take a user_id and return a Result<String>.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "</details>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "---",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "## How It Works",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "### Three-Way Diff Analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "whogitit captures complete file snapshots during editing, enabling accurate attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "1. **Original** - Content before any AI edits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "2. **AI Snapshots** - Content after each AI edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "3. **Final** - Content at commit time",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "This allows tracking even when you modify AI-generated code before committing.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "### Line Attribution Types",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "| Source | Symbol | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "|--------|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "| AI | `●` | Generated by AI, unchanged |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "| AIModified | `◐` | Generated by AI, then edited by human |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "| Human | `+` | Added by human after AI edits |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "| Original | `─` | Existed before AI session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "| Unknown | `?` | Could not determine source |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "### Data Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "Claude Code (Edit/Write tools)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "         ├─► PreToolUse: Save file state",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "         ├─► PostToolUse: Capture change + prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "         ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "Pending Buffer (.whogitit-pending.json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "         ▼ git commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "Three-Way Analysis → Git Notes (refs/notes/whogitit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "## Storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "Attribution is stored in git notes (`refs/notes/whogitit`), which:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "- Travel with repository when pushed/fetched",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "- Don't clutter commit history",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "- Can be inspected with standard git commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "# View raw attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "git notes --ref=whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "# List all attributed commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "git notes --ref=whogitit list",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "## Privacy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "Prompts are automatically scanned and redacted for:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "- API keys (`api_key`, `apikey`, `secret`, `token`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "- AWS credentials (`AKIA...`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "- Private keys (`-----BEGIN.*PRIVATE KEY-----`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "- Bearer tokens",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "- GitHub tokens (`ghp_`, `gho_`, `ghs_`, `ghr_`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "- Email addresses",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "- Passwords",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "Sensitive data is replaced with `[REDACTED]` before storage.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "## License",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "MIT",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 519,
        "ai_lines": 12,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 507,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/guide/commands/init.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Initialize whogitit in a git repository.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "whogitit init [OPTIONS]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "## Description",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "The `init` command sets up whogitit in the current git repository by installing git hooks and configuring note fetching.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "This command should be run once per repository after the global `setup` command has been run.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "## Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "| Option | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "| `--force` | Skip global setup check and proceed anyway |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "## What It Does",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "1. **Installs post-commit hook** (`.git/hooks/post-commit`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "   - Finalizes AI attribution after each commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "   - Attaches attribution data as git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "2. **Installs pre-push hook** (`.git/hooks/pre-push`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "   - Automatically pushes git notes with regular pushes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "   - Ensures attribution travels with your code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "3. **Installs post-rewrite hook** (`.git/hooks/post-rewrite`)",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "   - Preserves attribution during `git rebase`",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "   - Preserves attribution during `git commit --amend`",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "   - Automatically copies notes from old to new commit SHAs",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "4. **Configures git fetch**",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "   - Adds fetch refspec for `refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "   - Notes are automatically fetched on `git fetch`/`git pull`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "## Examples",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "### Standard initialization",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "### Force initialization",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "Skip the global setup check (useful in CI or when you know what you're doing):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "whogitit init --force",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "## Prerequisites",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "Before running `init`, you should:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "1. Run `whogitit setup` (one-time global setup)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "2. Be in a git repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "If global setup hasn't been run, `init` will warn you and suggest running `setup` first. Use `--force` to bypass this check.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "## Hook Details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "### post-commit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "The post-commit hook:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "- Runs `whogitit post-commit` after each commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "- Processes the pending buffer (`.whogitit-pending.json`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "- Creates git notes with attribution data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "- Clears the pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "### pre-push hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "The pre-push hook:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "- Runs before each push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "- Pushes `refs/notes/whogitit` to the remote",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "- Ensures attribution notes travel with commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "### post-rewrite hook",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "The post-rewrite hook:",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "- Runs after `git rebase` and `git commit --amend`",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "- Receives old→new SHA mappings on stdin",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "- Copies attribution notes to the new commits",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "- Reports how many notes were preserved",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380"
          },
          "edit_id": "af6da2aa-968b-4853-b6c9-a968d91a8380",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "## Idempotency",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "The `init` command is idempotent - running it multiple times is safe. It will:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "- Update hooks if they exist",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "- Add the fetch refspec if not already present",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "- Not duplicate any configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "### \"Not in a git repository\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "Ensure you're in a directory with a `.git` folder:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "git status  # Should show repository status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "### \"Global setup not complete\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "Run the global setup first:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "Or use `--force` if you want to skip the check.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "### Hooks not running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "Check hook permissions:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "ls -la .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "chmod +x .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "- [setup](./setup.md) - Global setup (run before init)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "- [doctor](./doctor.md) - Diagnose configuration issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "- [Hook System](../../reference/hooks.md) - Technical hook details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 134,
        "ai_lines": 14,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 120,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/reference/architecture.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Architecture",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "This document describes the internal architecture of whogitit.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## System Overview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "┌─────────────────────────────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "│                           Claude Code Session                            │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "│                                                                          │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "│    User Prompt ──► Claude ──► Edit/Write Tool ──► File Modified          │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "│                                     │                                    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "└─────────────────────────────────────┼────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "                                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "                    ┌─────────────────┴─────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "                    │                                   │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "                    ▼                                   ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "            ┌──────────────┐                    ┌──────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "            │ PreToolUse   │                    │ PostToolUse  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "            │    Hook      │                    │    Hook      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "            └──────┬───────┘                    └──────┬───────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "                   │                                   │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "                   │ Save \"before\"                     │ Save \"after\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "                   │ snapshot                          │ + prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "                   │                                   │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "                   ▼                                   ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "            ┌─────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "            │              Pending Buffer                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            │         (.whogitit-pending.json)                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "            │                                                  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "            │  • File snapshots (before/after each edit)      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "            │  • Session metadata                              │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "            │  • Prompts from transcript                       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "            └─────────────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "                                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "                                      │ git commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "                                      ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "            ┌─────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "            │              Post-Commit Hook                    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "            │                                                  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "            │  1. Read pending buffer                          │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "            │  2. Read committed file content                  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "            │  3. Three-way diff analysis                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "            │  4. Generate AIAttribution                       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            │  5. Store as git note                            │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            │  6. Clear pending buffer                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "            └─────────────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "                                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "                                      ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "            ┌─────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "            │                 Git Notes                        │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "            │         (refs/notes/whogitit)                    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "            │                                                  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "            │  Commit A ──► AIAttribution JSON                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "            │  Commit B ──► AIAttribution JSON                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            │  Commit C ──► AIAttribution JSON                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "            └─────────────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "## Module Structure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "src/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "├── capture/           # Hook handlers and pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "│   ├── hook.rs        # CaptureHook - PreToolUse/PostToolUse handling",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "│   ├── pending.rs     # PendingBuffer - temporary storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "│   ├── snapshot.rs    # Data structures for file snapshots",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "│   ├── threeway.rs    # Three-way diff algorithm",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "│   └── diff.rs        # Diff utilities",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "├── core/              # Attribution data models",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "│   ├── attribution.rs # AIAttribution, PromptInfo, SessionMetadata",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "│   └── blame.rs       # AIBlamer - combines git blame with notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "├── storage/           # Persistence layer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "│   ├── notes.rs       # NotesStore - git notes read/write",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "│   ├── trailers.rs    # Git trailer generation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "│   └── audit.rs       # AuditLog, AuditEvent",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "├── privacy/           # Data protection",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "│   ├── redaction.rs   # Redactor - pattern-based redaction",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "│   └── config.rs      # Configuration loading",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "├── cli/               # Command implementations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "│   ├── blame.rs       # whogitit blame",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "│   ├── show.rs        # whogitit show",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "│   ├── prompt.rs      # whogitit prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "│   ├── summary.rs     # whogitit summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "│   ├── export.rs      # whogitit export",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "│   ├── retention.rs   # whogitit retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "│   ├── audit.rs       # whogitit audit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "│   ├── redact.rs      # whogitit redact-test",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "│   ├── copy.rs        # whogitit copy-notes",
          "source": {
            "type": "AI",
            "edit_id": "9b70d306-2582-4594-b043-110e2d5d3803"
          },
          "edit_id": "9b70d306-2582-4594-b043-110e2d5d3803",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "│   └── output.rs      # Output formatting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "├── lib.rs             # Library exports",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "└── main.rs            # CLI entry point",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "## Core Components",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "### CaptureHook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "Handles Claude Code hook events:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "pub struct CaptureHook {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    repo_root: PathBuf,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    pending_store: PendingStore,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "impl CaptureHook {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    pub fn handle_pre_tool_use(&self, input: &HookInput) -> Result<()>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    pub fn handle_post_tool_use(&self, input: &HookInput) -> Result<()>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "- **PreToolUse**: Saves file content before AI edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "- **PostToolUse**: Saves file content after AI edit, extracts prompt from transcript",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "### PendingBuffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "Accumulates changes during a session:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "pub struct PendingBuffer {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    pub schema_version: u8,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    pub session: SessionMetadata,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "    pub files: HashMap<String, FileEditHistory>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "    pub prompts: Vec<PromptInfo>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "Stored as JSON in `.whogitit-pending.json`.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "### ThreeWayAnalyzer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "Core attribution algorithm:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "pub struct ThreeWayAnalyzer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "impl ThreeWayAnalyzer {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    pub fn analyze(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        original: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "        ai_snapshots: &[ContentSnapshot],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        final_content: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    ) -> Vec<LineAttribution>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "Compares:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "1. Original content (before AI session)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "2. AI snapshots (after each AI edit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "3. Final content (at commit time)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "Produces per-line attribution.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "### AIAttribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "Final attribution data structure:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "pub struct AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    pub schema_version: u8,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    pub session: SessionMetadata,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    pub prompts: Vec<PromptInfo>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    pub files: Vec<FileAttribution>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "pub struct FileAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    pub path: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    pub lines: Vec<LineAttribution>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "pub struct LineAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    pub line_number: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    pub source: LineSource,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "    pub prompt_index: Option<u32>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "### NotesStore",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "Git notes persistence:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "pub struct NotesStore<'repo> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    repo: &'repo Repository,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "impl NotesStore {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    pub fn store_attribution(&self, commit: Oid, attr: &AIAttribution) -> Result<()>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    pub fn fetch_attribution(&self, commit: Oid) -> Result<Option<AIAttribution>>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    pub fn copy_attribution(&self, from: Oid, to: Oid) -> Result<()>;",
          "source": {
            "type": "AI",
            "edit_id": "9b70d306-2582-4594-b043-110e2d5d3803"
          },
          "edit_id": "9b70d306-2582-4594-b043-110e2d5d3803",
          "prompt_index": 37,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    pub fn list_attributed_commits(&self) -> Result<Vec<Oid>>;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "### Redactor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "Privacy protection:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "```rust",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "pub struct Redactor {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "    patterns: Vec<CompiledPattern>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "impl Redactor {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    pub fn redact(&self, text: &str) -> String;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "    pub fn redact_with_audit(&self, text: &str) -> RedactionResult;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "## Data Flow Details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "### 1. Capture Phase",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "Claude Code Edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "       ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "┌─────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "│           whogitit-capture.sh           │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "│                                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "│  • Reads hook JSON from stdin           │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "│  • Determines hook phase (pre/post)     │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "│  • Extracts file path and tool name     │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "│  • Calls whogitit capture --stdin       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "└─────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "       ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "┌─────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "│           CaptureHook                    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "│                                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "│  Pre: Read current file → save snapshot │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "│  Post: Read file → save snapshot        │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "│        Read transcript → extract prompt │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "│        Update pending buffer            │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "└─────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "### 2. Commit Phase",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "git commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "       ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "┌─────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "│         post-commit hook                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "│                                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "│  Calls: whogitit post-commit            │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "└─────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "       ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "┌─────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "│         CaptureHook                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "│                                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "│  1. Load pending buffer                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "│  2. Get commit info (SHA, files)        │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "│  3. For each file:                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "│     a. Get committed content            │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "│     b. Get original + AI snapshots      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "│     c. Run ThreeWayAnalyzer             │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "│  4. Build AIAttribution                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "│  5. Redact prompts                      │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "│  6. Store as git note                   │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "│  7. Clear pending buffer                │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "└─────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "### 3. Query Phase",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "whogitit blame file.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "       ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "┌─────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "│           AIBlamer                       │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "│                                         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "│  1. Run git blame on file               │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "│  2. For each blamed commit:             │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "│     a. Fetch AIAttribution from note    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "│     b. Look up line attribution         │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "│  3. Merge git blame + AI attribution    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "│  4. Return enriched blame               │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "└─────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "## Three-Way Diff Algorithm",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "The three-way diff is the core of accurate attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "Original (O)     AI Edit (A)      Final (F)       Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "============     ===========      =========       ===========",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "line 1           line 1           line 1          Original (in O, unchanged)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "line 2           NEW LINE         NEW LINE        AI (in A, not in O, unchanged in F)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "                 line 2           MODIFIED        AIModified (in A, modified in F)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "line 3           line 3           MY LINE         Human (not in O or A, in F)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "                                  line 3          Original (in O, unchanged)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "Algorithm steps:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "1. **Diff O→A**: Find lines added by AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "2. **Diff A→F**: Find lines modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "3. **Diff O→F**: Find lines added by human (not via AI)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "4. **Classify each line in F**:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "   - In O and unchanged → Original",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "   - Added in A, unchanged in F → AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "   - Added in A, modified in F → AIModified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "   - Not in O or A → Human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "- [Data Formats](./data-formats.md) - JSON schemas",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "- [Git Notes Storage](./git-notes.md) - Notes implementation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "- [Hook System](./hooks.md) - Hook details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 319,
        "ai_lines": 2,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 317,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/SUMMARY.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "[Introduction](./introduction.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "# Getting Started",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "- [Installation](./getting-started/installation.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "- [Quick Start](./getting-started/quick-start.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "- [Core Concepts](./getting-started/concepts.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "# User Guide",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "- [CLI Commands](./guide/cli-commands.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "  - [blame](./guide/commands/blame.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "  - [show](./guide/commands/show.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "  - [prompt](./guide/commands/prompt.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "  - [summary](./guide/commands/summary.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "  - [status](./guide/commands/status.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "  - [annotations](./guide/commands/annotations.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "  - [pager](./guide/commands/pager.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "  - [export](./guide/commands/export.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "  - [retention](./guide/commands/retention.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "  - [audit](./guide/commands/audit.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "  - [clear](./guide/commands/clear.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "  - [setup](./guide/commands/setup.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "  - [doctor](./guide/commands/doctor.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "  - [init](./guide/commands/init.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "  - [copy-notes](./guide/commands/copy-notes.md)",
          "source": {
            "type": "AI",
            "edit_id": "16f1b348-b9b7-43fd-998f-0b8ff8f6a8b5"
          },
          "edit_id": "16f1b348-b9b7-43fd-998f-0b8ff8f6a8b5",
          "prompt_index": 12,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "  - [redact-test](./guide/commands/redact-test.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "- [Configuration](./guide/configuration.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "- [Privacy & Redaction](./guide/privacy.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "# Workflows",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "- [Daily Development](./workflows/daily-development.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "- [Code Review](./workflows/code-review.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "- [CI/CD Integration](./workflows/ci-cd.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "- [Team Collaboration](./workflows/team-collaboration.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "# Reference",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "- [Architecture](./reference/architecture.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "- [Data Formats](./reference/data-formats.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "- [Git Notes Storage](./reference/git-notes.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "- [Hook System](./reference/hooks.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "# Appendix",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "- [Troubleshooting](./appendix/troubleshooting.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "- [FAQ](./appendix/faq.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 50,
        "ai_lines": 1,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 49,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/getting-started/installation.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Installation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "## Prerequisites",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "- **Git** (2.25 or later)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "- **jq** - JSON processor used by capture hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "  - macOS: `brew install jq`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "  - Linux: `apt install jq` or `dnf install jq`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "- **Claude Code** - For automatic AI attribution capture",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "## Quick Install (Recommended)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "**macOS / Linux:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "curl -sSL https://github.com/dotsetlabs/whogitit/releases/latest/download/install.sh | sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "**Windows (PowerShell):**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "```powershell",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "irm https://github.com/dotsetlabs/whogitit/releases/latest/download/install.ps1 | iex",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "This downloads the latest pre-built binary and installs it to `~/.cargo/bin`.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "## Install via Cargo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "If you have Rust installed:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "cargo install whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "## Install from Source",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "For development or to build from the latest code:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "**Prerequisites:** [Rust](https://rustup.rs/) 1.70 or later",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "# Clone the repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "git clone https://github.com/dotsetlabs/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "cd whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "# Install to ~/.cargo/bin",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "cargo install --path .",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "## Verify Installation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "whogitit --version",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "You should see output like:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "whogitit 0.1.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "## Quick Setup (Recommended)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "The easiest way to set up whogitit is with the automated setup command:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "### 1. Run global setup (once)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "This automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "- Installs the capture hook script to `~/.claude/hooks/`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "- Configures Claude Code's `~/.claude/settings.json` with required hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "- Creates a backup of your existing settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "### 2. Initialize your repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "This installs git hooks for the repository:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "- `post-commit` - Attaches attribution data to commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "- `pre-push` - Automatically pushes git notes with your code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "- `post-rewrite` - Preserves notes during rebase and amend",
          "source": {
            "type": "AI",
            "edit_id": "345d99a0-f407-4b61-a4d9-3dfda3b15c5c"
          },
          "edit_id": "345d99a0-f407-4b61-a4d9-3dfda3b15c5c",
          "prompt_index": 38,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "### 3. Verify setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "This checks all configuration and shows any issues:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "[OK] whogitit binary: Installed and running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "[OK] Capture hook: Installed at ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "[OK] Hook permissions: Executable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "[OK] Claude Code settings: Hooks configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "[OK] Required tools (jq): Available",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "[OK] Repository hooks: Initialized in current repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "All checks passed! whogitit is properly configured.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "## Manual Setup (Alternative)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "If you prefer manual configuration or need to customize the setup:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "### 1. Copy the hook script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "mkdir -p ~/.claude/hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "cp hooks/whogitit-capture.sh ~/.claude/hooks/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "chmod +x ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "### 2. Configure Claude Code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "Add the following to `~/.claude/settings.json`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "  \"hooks\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "      {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "          {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "            \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            \"command\": \"WHOGITIT_HOOK_PHASE=pre ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "          }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "      }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    \"PostToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "      {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "        \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "          {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "            \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "            \"command\": \"WHOGITIT_HOOK_PHASE=post ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "          }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "      }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "  }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "> **Note**: The hook captures Edit, Write, and Bash tool uses. Bash commands that modify files (like `sed`, `echo >`, etc.) are also tracked.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "### 3. Initialize a Repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "In each repository where you want to track AI attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "## Verify Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "After setup, you can verify everything is working:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "# Run the doctor command for comprehensive checks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "# Or check manually:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "# Check that hooks are installed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "ls -la .git/hooks/post-commit .git/hooks/pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "# Check git notes configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "git config --get-all remote.origin.fetch | grep whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "## Next Steps",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "- Continue to [Quick Start](./quick-start.md) to see whogitit in action",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "- Learn about [Core Concepts](./concepts.md) to understand how attribution works",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 181,
        "ai_lines": 1,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 180,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/guide/commands/copy-notes.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# copy-notes",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Copy AI attribution from one commit to another.",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Usage",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "whogitit copy-notes <SOURCE> <TARGET> [OPTIONS]",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "## Description",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "The `copy-notes` command copies attribution data from a source commit to a target commit. This is useful for:",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "- Recovering attribution after cherry-pick operations",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "- Manually fixing attribution after complex rebases",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "- Copying attribution when the post-rewrite hook wasn't installed",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "## Arguments",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "| Argument | Description |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "|----------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "| `SOURCE` | Source commit SHA (the commit with attribution) |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "| `TARGET` | Target commit SHA (the commit to copy attribution to) |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "## Options",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "| Option | Description |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "|--------|-------------|",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "| `--dry-run` | Show what would be copied without actually copying |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "## Examples",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "### Copy attribution after cherry-pick",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "Cherry-pick doesn't automatically transfer attribution:",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "# Cherry-pick a commit",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "git cherry-pick abc123",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "# Copy the attribution to the new commit",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "whogitit copy-notes abc123 HEAD",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "### Preview before copying",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "whogitit copy-notes abc123 def456 --dry-run",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "# Would copy attribution: abc123 -> def456",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "### Batch copy after rebase",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "If you rebased without the post-rewrite hook installed:",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "# Save old commits before rebase",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "git log --format='%H' main..HEAD > /tmp/old-commits.txt",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "# After rebase, save new commits",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "git log --format='%H' main..HEAD > /tmp/new-commits.txt",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "# Copy notes for each pair",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "paste /tmp/old-commits.txt /tmp/new-commits.txt | while read old new; do",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "  whogitit copy-notes \"$old\" \"$new\"",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "done",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "## Automatic Preservation",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "For most rebase and amend operations, you don't need this command. The post-rewrite hook (installed by `whogitit init`) automatically preserves attribution during:",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "- `git rebase`",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "- `git commit --amend`",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "Use `copy-notes` only for:",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "- Cherry-pick operations (not covered by post-rewrite hook)",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "- Repositories where post-rewrite hook wasn't installed",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "- Manual recovery scenarios",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "## Exit Codes",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "| Code | Meaning |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "|------|---------|",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "| 0 | Success (or source has no attribution) |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "| 1 | Error (invalid commit, repository issues) |",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "## See Also",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "- [init](./init.md) - Install hooks including post-rewrite",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "- [Git Notes Storage](../../reference/git-notes.md) - How attribution is stored",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "- [Troubleshooting](../../appendix/troubleshooting.md) - Common issues",
          "source": {
            "type": "AI",
            "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1"
          },
          "edit_id": "1f8d01aa-a724-4b2c-bd98-09e5bbded5d1",
          "prompt_index": 15,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 93,
        "ai_lines": 93,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/reference/git-notes.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Git Notes Storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "whogitit stores attribution data using git's built-in notes feature. This page explains how notes work and how whogitit uses them.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## What Are Git Notes?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "Git notes are metadata attached to commits without modifying the commits themselves. They're stored in a separate ref namespace and can be pushed/fetched independently.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "Key characteristics:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "- **Non-invasive**: Don't modify commit SHAs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "- **Portable**: Can be shared via push/fetch",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "- **Flexible**: Any data can be attached",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "- **Native**: Built into git, no external dependencies",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "## whogitit's Notes Ref",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "Attribution is stored under `refs/notes/whogitit`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "# View notes ref",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "git show-ref | grep whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "# abc123def456... refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "# List all notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "git notes --ref=whogitit list",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "# abc123... def456...   (note hash, commit hash)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "# ghi789... jkl012...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "## Viewing Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "### Raw Note Content",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "# View note for HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "git notes --ref=whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "# View note for specific commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "git notes --ref=whogitit show abc123",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "# Pretty-print JSON",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "git notes --ref=whogitit show HEAD | jq .",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "### Using whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "# Formatted view",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "# JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "whogitit show --format json HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "## How Notes Are Created",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "### Automatic (Post-Commit Hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "The post-commit hook creates notes automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "# In .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "whogitit post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "This:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "1. Reads the pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "2. Analyzes changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "3. Creates the note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "### Manual (Advanced)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "# Add a note manually",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "git notes --ref=whogitit add -m '{\"schema_version\":2,...}' abc123",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "# Edit existing note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "git notes --ref=whogitit edit abc123",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "# Remove a note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "git notes --ref=whogitit remove abc123",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "# Copy a note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "git notes --ref=whogitit copy abc123 def456",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "## Pushing Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "Notes must be pushed separately from branches:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "### Automatic (Pre-Push Hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "After `whogitit init`, notes are pushed automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "git push  # Triggers pre-push hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "# Hook runs: git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "### Manual",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "### Force Push (Caution)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "If notes diverge:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "git push origin refs/notes/whogitit --force",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "## Fetching Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "### Automatic Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "`whogitit init` configures automatic fetching:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "# Check configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "git config --get-all remote.origin.fetch | grep notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "# +refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "With this config, `git fetch` includes notes.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "### Manual",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "# Fetch notes explicitly",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "# Fetch all notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "git fetch origin 'refs/notes/*:refs/notes/*'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "## Notes and Rebasing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "When rebasing, commits get new SHAs. The post-rewrite hook (installed by `whogitit init`) automatically preserves notes.",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "### Automatic Preservation (Recommended)",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "Run `whogitit init` to install the post-rewrite hook:",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "whogitit init",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "After this, notes are automatically preserved during:",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "- `git rebase`",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "- `git commit --amend`",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "You'll see a message like:",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "whogitit: Preserved attribution for 3 commit(s)",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "### Manual Copy (Cherry-pick or Recovery)",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "For cherry-pick (not covered by post-rewrite hook) or manual recovery:",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "# Using whogitit command",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "whogitit copy-notes <old-sha> <new-sha>",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "# Or using git directly",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "git notes --ref=whogitit copy <old-sha> <new-sha>",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "### Batch Recovery",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "If you rebased without the hook installed:",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "# Before rebase, save commits",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "git log --format='%H' main..HEAD > /tmp/old-commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "# After rebase",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "git log --format='%H' main..HEAD > /tmp/new-commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "# Copy notes",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "paste /tmp/old-commits /tmp/new-commits | while read old new; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "  whogitit copy-notes \"$old\" \"$new\"",
          "source": {
            "type": "AI",
            "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d"
          },
          "edit_id": "fe2be497-2cf4-48e6-8fd0-a84f7c32721d",
          "prompt_index": 23,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "## Notes and Merge/Squash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "### Merge Commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "Merge commits don't automatically get notes. The individual commits retain their notes.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "### Squash Merging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "Squash creates a new commit, losing individual notes. Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "1. Use regular merge to preserve notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "2. Manually create a summary note for the squash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "3. Accept that the PR comment serves as record",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "## Storage Details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "### Notes Tree Structure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "refs/notes/whogitit/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "├── ab/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "│   ├── c123...  → note for commit abc123...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "│   └── d456...  → note for commit abd456...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "├── cd/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "│   └── e789...  → note for commit cde789...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "Notes are stored as blobs in the git object database.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "### Note Size",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "Each note is a JSON blob. Typical sizes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "- Small commit (1 file, 20 lines): ~500 bytes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "- Medium commit (5 files, 100 lines): ~2-5 KB",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "- Large commit (20 files, 500 lines): ~10-20 KB",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "### Storage Efficiency",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "Git compresses notes like any other objects. Similar notes compress well together.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "## Garbage Collection",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "Notes are git objects and subject to garbage collection:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "# Notes blobs without refs will be collected",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "git gc",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "# Prune unreferenced notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "git gc --prune=now",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "Notes attached to existing commits are protected.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "## Backup and Recovery",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "### Backup Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "# Clone just the notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "git clone --bare <repo> --single-branch --branch refs/notes/whogitit notes-backup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "# Or export",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "whogitit export --full-prompts -o backup.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "### Restore Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "# Push notes from backup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "cd notes-backup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "git push <repo> refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "### Notes Not Showing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "# Check if notes exist locally",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "git notes --ref=whogitit list",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "# If empty, fetch",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "# Check remote",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "git ls-remote origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "### Notes Diverged",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "# See what's different",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "git log refs/notes/whogitit..origin/refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "# Pull remote (may need merge)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "git fetch origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "git update-ref refs/notes/whogitit FETCH_HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "### Corrupted Note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "# Remove and recreate",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "git notes --ref=whogitit remove <commit>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "# Pending buffer is gone, so attribution is lost for that commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "- [Architecture](./architecture.md) - System design",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "- [Data Formats](./data-formats.md) - JSON schemas",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "- [Troubleshooting](../appendix/troubleshooting.md) - Common issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 301,
        "ai_lines": 31,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 270,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/copy.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Copy attribution notes between commits",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use clap::Args;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use git2::Repository;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Copy AI attribution from one commit to another",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub struct CopyNotesArgs {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// Source commit SHA (before rewrite)",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub source: String,",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// Target commit SHA (after rewrite)",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    pub target: String,",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    /// Show what would be copied without copying",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    #[arg(long)]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub dry_run: bool,",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "pub fn run(args: CopyNotesArgs) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    let source_oid = repo.revparse_single(&args.source)?.peel_to_commit()?.id();",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    let target_oid = repo.revparse_single(&args.target)?.peel_to_commit()?.id();",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    let store = NotesStore::new(&repo)?;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    if !store.has_attribution(source_oid) {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        println!(\"Source commit {} has no attribution.\", &args.source);",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        return Ok(());",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    let source_short = &args.source[..8.min(args.source.len())];",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    let target_short = &args.target[..8.min(args.target.len())];",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    if args.dry_run {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        println!(",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "            \"Would copy attribution: {} -> {}\",",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "            source_short, target_short",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        return Ok(());",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    store.copy_attribution(source_oid, target_oid)?;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    println!(\"Copied attribution: {} -> {}\", source_short, target_short);",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    fn test_copy_notes_args_structure() {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "        let args = CopyNotesArgs {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "            source: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            target: \"def456\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            dry_run: false,",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "        assert_eq!(args.source, \"abc123\");",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "        assert_eq!(args.target, \"def456\");",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        assert!(!args.dry_run);",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    fn test_copy_notes_args_dry_run() {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        let args = CopyNotesArgs {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            source: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "            target: \"def456\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "            dry_run: true,",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "        assert!(args.dry_run);",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    fn test_short_sha_truncation() {",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        // Test that short SHAs are handled correctly",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        let short = \"abc\";",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        let result = &short[..8.min(short.len())];",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        assert_eq!(result, \"abc\");",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        let long = \"abc123def456789\";",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        let result = &long[..8.min(long.len())];",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        assert_eq!(result, \"abc123de\");",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "        let exact = \"12345678\";",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "        let result = &exact[..8.min(exact.len())];",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "        assert_eq!(result, \"12345678\");",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40"
          },
          "edit_id": "ad4b3e69-424f-4786-82cc-ab10a177bb40",
          "prompt_index": 40,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 95,
        "ai_lines": 95,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 0,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/reference/hooks.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Hook System",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "whogitit uses two hook systems: Claude Code hooks for capturing changes, and git hooks for processing commits.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Overview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "┌─────────────────────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "│                      Claude Code Hooks                          │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "│                                                                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "│  PreToolUse (Edit|Write|Bash)  ──►  Save \"before\" state        │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "│  PostToolUse (Edit|Write|Bash) ──►  Save \"after\" state + prompt│",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "└─────────────────────────────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "                              │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "                              ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "                    .whogitit-pending.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "                              │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "                              ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "┌─────────────────────────────────────────────────────────────────┐",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "│                        Git Hooks                                │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "│                                                                 │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "│  post-commit   ──►  Analyze pending buffer, create attribution │",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "│  pre-push      ──►  Push notes alongside code                  │",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "│  post-rewrite  ──►  Preserve notes during rebase/amend         │",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "└─────────────────────────────────────────────────────────────────┘",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "## Claude Code Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "### Automatic Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "The easiest way to configure Claude Code hooks is using the setup command:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "This automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "- Installs the capture script to `~/.claude/hooks/whogitit-capture.sh`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "- Configures `~/.claude/settings.json` with the required hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "- The capture script is embedded in the whogitit binary, so no source files are needed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "### Manual Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "If you prefer manual configuration, add to `~/.claude/settings.json`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "  \"hooks\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    \"PreToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "      {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "        \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "          {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "            \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            \"command\": \"WHOGITIT_HOOK_PHASE=pre ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "          }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "      }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    \"PostToolUse\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "      {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        \"matcher\": \"Edit|Write|Bash\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "        \"hooks\": [",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "          {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "            \"type\": \"command\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            \"command\": \"WHOGITIT_HOOK_PHASE=post ~/.claude/hooks/whogitit-capture.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "          }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "      }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    ]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "  }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "### Matched Tools",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "| Tool | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "|------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "| `Edit` | Modifies existing files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "| `Write` | Creates or overwrites files |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "| `Bash` | Shell commands (may modify files) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "### Hook Input",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "Hooks receive JSON on stdin:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "  \"tool_name\": \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "  \"tool_input\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    \"file_path\": \"/path/to/file.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    \"old_string\": \"original text\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    \"new_string\": \"replacement text\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "  },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "  \"transcript_path\": \"/tmp/claude-transcript-xyz.jsonl\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "### Capture Script",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "The capture script (`hooks/whogitit-capture.sh`) handles:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "1. **Parsing hook input** - Extracts tool name, file path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "2. **Phase routing** - PreToolUse vs PostToolUse",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "3. **File tracking** - Edit/Write: single file, Bash: all modified files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "4. **Prompt extraction** - Reads transcript JSONL",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "5. **Calling whogitit** - `whogitit capture --stdin`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "### PreToolUse Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "1. Hook receives JSON with tool_name and file_path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "2. If Edit/Write: save current file content as \"before\" snapshot",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "3. If Bash: snapshot all dirty files in repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "### PostToolUse Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "1. Hook receives JSON with tool_name, file_path, transcript_path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "2. If Edit/Write: save file content as \"after\" snapshot",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "3. If Bash: compare file states, detect which changed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "4. Read transcript to extract user prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "5. Update pending buffer with edit and prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "### Environment Variables",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "| Variable | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "|----------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "| `WHOGITIT_HOOK_PHASE` | `pre` or `post` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "| `WHOGITIT_BIN` | Path to whogitit binary |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "| `WHOGITIT_DEBUG` | Enable debug logging |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "### Debug Logging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "# Enable debug mode",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "export WHOGITIT_DEBUG=1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "# Logs go to",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "/tmp/whogitit-hook-debug.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "/tmp/whogitit-hook-errors.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "## Git Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "### post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "Created by `whogitit init` in `.git/hooks/post-commit`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "# whogitit post-commit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "if command -v whogitit &> /dev/null; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    whogitit post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "elif [[ -x \"$HOME/.cargo/bin/whogitit\" ]]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    \"$HOME/.cargo/bin/whogitit\" post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "This hook:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "1. Runs after every commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "2. Processes the pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "3. Creates git note with attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "4. Clears pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "### pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "Created by `whogitit init` in `.git/hooks/pre-push`:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "# whogitit pre-push hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "# Prevent recursion",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "[[ \"$WHOGITIT_PUSHING_NOTES\" == \"1\" ]] && exit 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "remote=\"$1\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "# Only push notes if they exist",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "if git notes --ref=whogitit list &>/dev/null; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    WHOGITIT_PUSHING_NOTES=1 git push \"$remote\" refs/notes/whogitit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "This hook:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "1. Runs before every push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "2. Pushes notes to the same remote",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "3. Handles errors gracefully",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "### post-rewrite",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "Created by `whogitit init` in `.git/hooks/post-rewrite`:",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "#!/bin/bash",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "# whogitit post-rewrite hook",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "# Preserves AI attribution notes during rebase/amend",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "copied=0",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "while read -r old_sha new_sha extra; do",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "  [[ -z \"$old_sha\" || -z \"$new_sha\" ]] && continue",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "  if git notes --ref=whogitit show \"$old_sha\" &>/dev/null; then",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    git notes --ref=whogitit copy \"$old_sha\" \"$new_sha\" 2>/dev/null && copied=$((copied + 1))",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "  fi",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "done",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "[[ $copied -gt 0 ]] && echo \"whogitit: Preserved attribution for $copied commit(s)\"",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "This hook:",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "1. Runs after `git rebase` and `git commit --amend`",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "2. Receives old→new SHA mappings on stdin",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "3. Copies notes from old commits to new commits",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "4. Reports how many notes were preserved",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "## Installing Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "### Automatic",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "Installs all three git hooks (post-commit, pre-push, post-rewrite) and configures notes fetching.",
          "source": {
            "type": "AI",
            "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476"
          },
          "edit_id": "0f4f3ac1-c689-4f9c-9f82-3c650e681476",
          "prompt_index": 22,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "### Manual Git Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "# post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "cat > .git/hooks/post-commit << 'EOF'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "whogitit post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "EOF",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "chmod +x .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "# pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "cat > .git/hooks/pre-push << 'EOF'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "[[ \"$WHOGITIT_PUSHING_NOTES\" == \"1\" ]] && exit 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "git push \"$1\" refs/notes/whogitit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "EOF",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "chmod +x .git/hooks/pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "### Manual Claude Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "The recommended method is `whogitit setup`, which extracts the embedded capture script.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "For manual installation from source:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "mkdir -p ~/.claude/hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "cp /path/to/whogitit/hooks/whogitit-capture.sh ~/.claude/hooks/",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "chmod +x ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "Then edit `~/.claude/settings.json` as shown above.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "## Coexistence with Other Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "### Appending to Existing Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "`whogitit init` detects existing hooks and appends:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "# Existing hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "run-tests.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "# whogitit appends:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "# whogitit post-commit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "if command -v whogitit &> /dev/null; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    whogitit post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "### Hook Managers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "If using a hook manager (husky, pre-commit, etc.), add whogitit commands:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "**Husky:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "# .husky/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "#!/bin/sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": ". \"$(dirname \"$0\")/_/husky.sh\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "# Your hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "npm test",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "# whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "whogitit post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "**pre-commit:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "```yaml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "# .pre-commit-config.yaml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "repos:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "  - repo: local",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    hooks:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "      - id: whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "        name: whogitit attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "        entry: whogitit post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "        language: system",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "        stages: [post-commit]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "        always_run: true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "### Run Doctor First",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "The doctor command checks all hook configuration automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "### Hooks Not Running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "# Check Claude hooks config",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "cat ~/.claude/settings.json | jq '.hooks'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "# Check git hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "ls -la .git/hooks/post-commit .git/hooks/pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "# Verify executability",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "file .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "# Should say \"executable\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "### No Attribution Being Captured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "# Run doctor for quick diagnosis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "# Or check manually:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "# Check if whogitit is in PATH",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "which whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "# Check capture hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "ls -la ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "# Check debug logs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "cat /tmp/whogitit-hook-debug.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "cat /tmp/whogitit-hook-errors.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "### Notes Not Pushing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "# Check pre-push hook exists",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "cat .git/hooks/pre-push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "# Manual push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "# Check remote",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "git ls-remote origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "- [Installation](../getting-started/installation.md) - Setup instructions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "- [Architecture](./architecture.md) - System design",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "- [Troubleshooting](../appendix/troubleshooting.md) - Common issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 372,
        "ai_lines": 30,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 342,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/storage/notes.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use git2::{Oid, Repository, Signature};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use crate::core::attribution::AIAttribution;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "/// Notes reference used for AI attribution storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "pub const NOTES_REF: &str = \"refs/notes/whogitit\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Git notes storage for AI attribution data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub struct NotesStore<'a> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    repo: &'a Repository,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "impl<'a> NotesStore<'a> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub fn new(repo: &'a Repository) -> Result<Self> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "        Ok(Self { repo })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    /// Store attribution data as a git note on a commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub fn store_attribution(&self, commit_oid: Oid, attribution: &AIAttribution) -> Result<Oid> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        let json = serde_json::to_string_pretty(attribution)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "            .context(\"Failed to serialize attribution to JSON\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        let note_oid = self",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "            .repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "            .note(&sig, &sig, Some(NOTES_REF), commit_oid, &json, true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            .context(\"Failed to create git note\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        Ok(note_oid)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Fetch attribution data from a git note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    pub fn fetch_attribution(&self, commit_oid: Oid) -> Result<Option<AIAttribution>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        match self.repo.find_note(Some(NOTES_REF), commit_oid) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "            Ok(note) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "                if let Some(message) = note.message() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "                    let attribution: AIAttribution = serde_json::from_str(message)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "                        .context(\"Failed to parse attribution JSON\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "                    Ok(Some(attribution))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "                } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "                    Ok(None)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            Err(e) if e.code() == git2::ErrorCode::NotFound => Ok(None),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "            Err(e) => Err(e).context(\"Failed to read git note\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Check if a commit has AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    pub fn has_attribution(&self, commit_oid: Oid) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        self.repo.find_note(Some(NOTES_REF), commit_oid).is_ok()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    /// Remove attribution from a commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    pub fn remove_attribution(&self, commit_oid: Oid) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        self.repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            .note_delete(commit_oid, Some(NOTES_REF), &sig, &sig)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            .context(\"Failed to delete git note\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    /// Copy attribution from one commit to another",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    pub fn copy_attribution(&self, from_oid: Oid, to_oid: Oid) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "        let note = self",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            .repo",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "            .find_note(Some(NOTES_REF), from_oid)",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "            .context(\"Source commit has no attribution note\")?;",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "        let message = note",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "            .message()",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "            .ok_or_else(|| anyhow::anyhow!(\"Note has no content\"))?;",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "        self.repo",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "            .note(&sig, &sig, Some(NOTES_REF), to_oid, message, false)",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "            .context(\"Failed to copy note to target commit\")?;",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    /// Get default signature from git config",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    fn get_signature(&self) -> Result<Signature<'static>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        if let Ok(sig) = self.repo.signature() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "            return Ok(Signature::now(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                sig.name().unwrap_or(\"whogitit\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "                sig.email().unwrap_or(\"whogitit@local\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "            )?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        Ok(Signature::now(\"whogitit\", \"whogitit@local\")?)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    /// List all commits with AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    pub fn list_attributed_commits(&self) -> Result<Vec<Oid>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        let mut commits = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        if let Ok(notes) = self.repo.notes(Some(NOTES_REF)) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            for (_, commit_oid) in notes.flatten() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "                commits.push(commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "        Ok(commits)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "#[cfg(test)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "mod tests {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    use super::*;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    use crate::capture::snapshot::{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        AttributionSummary, FileAttributionResult, LineAttribution, LineSource,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    use crate::core::attribution::{ModelInfo, PromptInfo, SessionMetadata};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    use tempfile::TempDir;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    fn create_test_repo() -> (TempDir, Repository) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        let dir = TempDir::new().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            let tree_id = {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "                let mut index = repo.index().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                index.write_tree().unwrap()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "            let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            repo.commit(Some(\"HEAD\"), &sig, &sig, \"Initial commit\", &tree, &[])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "                .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "        (dir, repo)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    fn test_store_and_fetch_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "            version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "                session_id: \"test-session\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            prompts: vec![PromptInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "                index: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "                text: \"Test prompt\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "                timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "                affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "                lines: vec![LineAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "                    line_number: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "                    content: \"fn test() {}\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "                    source: LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "                        edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "                    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "                    edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "                    prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "                    confidence: 1.0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "                }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "                    total_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "                    ai_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "                    ai_modified_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "                    human_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "                    original_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        let fetched = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        assert_eq!(fetched.version, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        assert_eq!(fetched.session.session_id, \"test-session\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "        assert_eq!(fetched.files.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "        assert_eq!(fetched.prompts.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    fn test_fetch_nonexistent_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        let result = store.fetch_attribution(head.id()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        assert!(result.is_none());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "    fn test_has_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        // Before storing - should return false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        assert!(!store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        // Store attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        let attribution = create_minimal_attribution(\"test-has\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "        // After storing - should return true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "    fn test_remove_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        // Store attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        let attribution = create_minimal_attribution(\"test-remove\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        // Remove attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        store.remove_attribution(head.id()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "        // After removal - should not have attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        assert!(!store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        assert!(store.fetch_attribution(head.id()).unwrap().is_none());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    fn test_list_attributed_commits_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        // No commits with attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        let commits = store.list_attributed_commits().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        assert!(commits.is_empty());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "    fn test_list_attributed_commits() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        // Get first commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        let first_commit = head.id();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        // Create another commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        std::fs::write(dir.path().join(\"test.txt\"), \"test content\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        let mut index = repo.index().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "        index.add_path(std::path::Path::new(\"test.txt\")).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "        index.write().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "        let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        let second_commit = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "            .commit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "                Some(\"HEAD\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "                &sig,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "                &sig,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "                \"Second commit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "                &tree,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "                &[&repo.find_commit(first_commit).unwrap()],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "            )",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "            .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        // Store attribution on both commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        let attr1 = create_minimal_attribution(\"session-1\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        let attr2 = create_minimal_attribution(\"session-2\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        store.store_attribution(first_commit, &attr1).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "        store.store_attribution(second_commit, &attr2).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "        // List should return both commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        let commits = store.list_attributed_commits().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "        assert_eq!(commits.len(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "        assert!(commits.contains(&first_commit));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "        assert!(commits.contains(&second_commit));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "    fn test_update_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "        // Store initial attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "        let attr1 = create_minimal_attribution(\"session-v1\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        store.store_attribution(head.id(), &attr1).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "        let fetched1 = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "        assert_eq!(fetched1.session.session_id, \"session-v1\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "        // Update with new attribution (overwrite mode)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "        let attr2 = create_minimal_attribution(\"session-v2\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "        store.store_attribution(head.id(), &attr2).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "        let fetched2 = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "        assert_eq!(fetched2.session.session_id, \"session-v2\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    fn test_notes_ref_constant() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "        assert_eq!(NOTES_REF, \"refs/notes/whogitit\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "    fn test_copy_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "        // Get first commit",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "        let first_commit = repo.head().unwrap().peel_to_commit().unwrap().id();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        // Create a second commit",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "        let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "        std::fs::write(dir.path().join(\"test.txt\"), \"test content\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "        let mut index = repo.index().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "        index.add_path(std::path::Path::new(\"test.txt\")).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "        index.write().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "        let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "        let second_commit = repo",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "            .commit(",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "                Some(\"HEAD\"),",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "                &sig,",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "                &sig,",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "                \"Second commit\",",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "                &tree,",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "                &[&repo.find_commit(first_commit).unwrap()],",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            )",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "            .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "        // Store attribution on first commit",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "        let attribution = create_minimal_attribution(\"copy-test\");",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "        store.store_attribution(first_commit, &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "        assert!(store.has_attribution(first_commit));",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        assert!(!store.has_attribution(second_commit));",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        // Copy attribution to second commit",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "        store.copy_attribution(first_commit, second_commit).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "        // Verify both commits now have attribution",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "        assert!(store.has_attribution(first_commit));",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "        assert!(store.has_attribution(second_commit));",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "        // Verify content is identical",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "        let original = store.fetch_attribution(first_commit).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "        let copied = store.fetch_attribution(second_commit).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        assert_eq!(original.session.session_id, copied.session.session_id);",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "    fn test_copy_attribution_source_not_found() {",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap().id();",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "        // Try to copy from a commit without attribution",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "        let result = store.copy_attribution(head, head);",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "        assert!(result",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "            .unwrap_err()",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "            .to_string()",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "            .contains(\"no attribution note\"));",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e"
          },
          "edit_id": "f21a027a-eb46-4105-9146-7e148281fe4e",
          "prompt_index": 39,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "    // Helper function to create minimal attribution for tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "    fn create_minimal_attribution(session_id: &str) -> AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "        AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "            version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "                session_id: session_id.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "                model: ModelInfo::claude(\"test-model\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "                prompt_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "            prompts: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "            files: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 399,
        "ai_lines": 82,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 317,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/guide/commands/doctor.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Check whogitit configuration and diagnose issues.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "## Description",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "The `doctor` command performs a comprehensive check of your whogitit configuration. It verifies that all components are properly installed and configured, and provides hints for fixing any issues found.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "## What It Checks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "| Check | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "|-------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "| whogitit binary | Confirms the binary is installed and running |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "| Capture hook | Verifies hook script exists at `~/.claude/hooks/whogitit-capture.sh` |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "| Hook permissions | Confirms the hook script is executable |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "| Claude Code settings | Checks that `~/.claude/settings.json` has whogitit hooks configured |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "| Required tools | Verifies `jq` is installed (required by capture hook) |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "| Repository hooks | If in a git repo, checks that post-commit and pre-push hooks are installed |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "| Attribution notes | If notes exist, checks for orphaned notes (attached to deleted commits) |",
          "source": {
            "type": "AI",
            "edit_id": "a21749bf-fcac-4d5f-ba49-173be8f40c60"
          },
          "edit_id": "a21749bf-fcac-4d5f-ba49-173be8f40c60",
          "prompt_index": 19,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "## Example Output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "### All Checks Passing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "Checking whogitit configuration...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "[OK] whogitit binary: Installed and running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "[OK] Capture hook: Installed at /Users/you/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "[OK] Hook permissions: Executable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "[OK] Claude Code settings: Hooks configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "[OK] Required tools (jq): Available",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "[OK] Repository hooks: Initialized in current repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "[OK] Attribution notes: 42 notes, all valid",
          "source": {
            "type": "AI",
            "edit_id": "a21749bf-fcac-4d5f-ba49-173be8f40c60"
          },
          "edit_id": "a21749bf-fcac-4d5f-ba49-173be8f40c60",
          "prompt_index": 19,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "All checks passed! whogitit is properly configured.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "### With Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "Checking whogitit configuration...",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "[OK] whogitit binary: Installed and running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "[FAIL] Capture hook: Not installed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "   Fix: Run 'whogitit setup' to install",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "[FAIL] Hook permissions: Hook not installed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "   Fix: Run 'whogitit setup'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "[FAIL] Claude Code settings: whogitit hooks not configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "   Fix: Run 'whogitit setup' to configure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "[OK] Required tools (jq): Available",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "[FAIL] Repository hooks: Not initialized in current repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "   Fix: Run 'whogitit init' in this repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "Some checks failed. Run 'whogitit setup' to fix configuration issues.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "## Fixing Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "Most issues can be fixed automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "1. **Global configuration issues** (hook, settings):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "   whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "2. **Repository-specific issues** (git hooks):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "   whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "3. **Missing jq**:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "   - macOS: `brew install jq`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "   - Ubuntu/Debian: `apt install jq`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "   - Fedora: `dnf install jq`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "## When to Run Doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "Run `whogitit doctor` when:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "- After initial installation to verify setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "- When attribution isn't being captured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "- After upgrading whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "- When debugging issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "## Exit Codes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "| Code | Meaning |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "|------|---------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "| 0 | All checks passed or completed with warnings |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "- [setup](./setup.md) - Configure Claude Code integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "- [Troubleshooting](../../appendix/troubleshooting.md) - Common issues and solutions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 100,
        "ai_lines": 2,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 98,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/appendix/troubleshooting.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Common issues and their solutions.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "> **Tip:** Run `whogitit doctor` first to diagnose most configuration issues automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "## Installation Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "### `whogitit` command not found",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "bash: whogitit: command not found",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "1. **Check if installed:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "   ls ~/.cargo/bin/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "2. **Add cargo bin to PATH:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "   # Add to ~/.bashrc or ~/.zshrc",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "   export PATH=\"$HOME/.cargo/bin:$PATH\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "   # Reload",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "   source ~/.bashrc",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "3. **Reinstall:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "   cargo install --path /path/to/whogitit --force",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "### Build fails",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "error[E0433]: failed to resolve: could not find `xyz` in `abc`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "1. **Update Rust:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "   rustup update stable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "2. **Clean and rebuild:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "   cargo clean",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "   cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "3. **Check dependencies:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "   cargo update",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "## Capture Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "### No attribution data after commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "- `whogitit status` shows \"No pending AI attribution\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "- `whogitit show HEAD` shows no attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "**Quick Fix:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "Run the doctor command to diagnose:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "If doctor shows issues, run setup to fix them:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "**Manual Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "1. **Check Claude hooks are configured:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "   cat ~/.claude/settings.json | jq '.hooks'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "   Should show PreToolUse and PostToolUse entries.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "2. **Check capture script exists:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "   ls -la ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "3. **Check capture script is executable:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "   chmod +x ~/.claude/hooks/whogitit-capture.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "4. **Check debug logs:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "   cat /tmp/whogitit-hook-debug.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "   cat /tmp/whogitit-hook-errors.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "5. **Verify whogitit binary path:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "   # In capture script, check WHOGITIT_BIN",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "   which whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "### Pending buffer not updating",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "- Making edits with Claude but `whogitit status` shows old data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "1. **Check you're in a git repo:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "   git rev-parse --show-toplevel",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "2. **Check pending file location:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "   ls -la .whogitit-pending.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "3. **Clear stale data and try again:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "   whogitit clear",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "### Only some files tracked",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "- Some AI edits are tracked, others aren't",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "1. **Check tool matcher in settings.json:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "   ```json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "   \"matcher\": \"Edit|Write|Bash\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "   Make sure all relevant tools are included.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "2. **For Bash commands:** The hook tracks file changes. Ensure the files exist before the command.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "## Git Hooks Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "### post-commit hook not running",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "- Commits work but no attribution is created",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "1. **Check hook exists:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "   ls -la .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "2. **Check hook is executable:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "   chmod +x .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "3. **Check hook content:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "   cat .git/hooks/post-commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "   Should contain `whogitit post-commit`.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "4. **Reinstall hooks:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "   whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "### pre-push hook failing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "error: failed to push some refs to 'origin'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "1. **Push notes manually:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "   git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "2. **Check for notes divergence:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "   git fetch origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "   git log refs/notes/whogitit..FETCH_HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "3. **Force push notes (caution):**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "   git push origin refs/notes/whogitit --force",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "## Notes Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "### Notes not visible after clone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "- Cloned repo, but `whogitit blame` shows no AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "1. **Fetch notes:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "   git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "2. **Verify notes exist on remote:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "   git ls-remote origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "3. **Configure auto-fetch:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "   git config --add remote.origin.fetch '+refs/notes/whogitit:refs/notes/whogitit'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "### Notes missing after rebase",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "- After rebasing, attribution data is gone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "**Cause:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "Git notes are attached to specific commit SHAs. Rebase creates new SHAs.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "1. **Install the post-rewrite hook (recommended):**",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "   whogitit init",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "   This installs a `post-rewrite` hook that automatically preserves attribution during rebase and amend operations. Run this once per repository.",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "2. **Manually copy notes after the fact:**",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "   whogitit copy-notes <old-sha> <new-sha>",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "3. **For cherry-pick (not covered by hook):**",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "   ```bash",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "   whogitit copy-notes <original-sha> <cherry-picked-sha>",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "   ```",
          "source": {
            "type": "AI",
            "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d"
          },
          "edit_id": "64ded6d7-acf4-4a47-994f-a5c74b422c2d",
          "prompt_index": 11,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "### Corrupt note data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "Error: invalid JSON in note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "1. **View raw note:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "   git notes --ref=whogitit show <commit> | cat",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "2. **Remove corrupt note:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "   git notes --ref=whogitit remove <commit>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "3. **Recreate if pending buffer exists:** Not possible after buffer is cleared.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "## Output Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "### JSON parse errors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "Error: expected value at line 1 column 1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "1. **Check for empty output:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "   whogitit show HEAD 2>&1 | head -1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "2. **Verify note exists:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "   git notes --ref=whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "### Blame shows all \"Unknown\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "- `whogitit blame` shows `?` for all lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "**Cause:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "- File not in any commit with attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "- Attribution data doesn't include this file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "1. **Check if file has attribution:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "   whogitit show HEAD | grep -i \"filename\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "2. **Check commit history:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "   git log --oneline -- <file>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "## Performance Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "### Slow blame on large files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "- `whogitit blame` takes long time on large files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "1. **Use `--revision` to limit scope:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "   whogitit blame --revision HEAD~10 <file>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "2. **Use JSON output for scripting:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "   whogitit blame --format json <file>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "### Large pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "**Symptoms:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "- `.whogitit-pending.json` is very large",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "**Solutions:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "1. **Commit more frequently:** Pending buffer grows with each edit.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "2. **Clear and restart:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "   whogitit clear",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "## Getting Help",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "### Run Doctor First",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "The doctor command checks all configuration automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "It verifies:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "- whogitit binary is installed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "- Capture hook is installed and executable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "- Claude Code settings are configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "- Required tools (jq) are available",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "- Repository hooks are installed (if in a git repo)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "If any checks fail, it provides fix hints.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "### Debug Mode",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "Enable verbose logging:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "# For capture hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "export WHOGITIT_DEBUG=1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "# Then use Claude Code, check:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "cat /tmp/whogitit-hook-debug.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "### Reporting Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "When reporting issues, include:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "1. **whogitit version:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "   whogitit --version",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "2. **OS and shell:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "   uname -a",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "   echo $SHELL",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "3. **Relevant logs:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "   cat /tmp/whogitit-hook-debug.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "   cat /tmp/whogitit-hook-errors.log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "4. **Steps to reproduce**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "Report at: https://github.com/dotsetlabs/whogitit/issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "- [Installation](../getting-started/installation.md) - Setup guide",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "- [Hook System](../reference/hooks.md) - Hook details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "- [FAQ](./faq.md) - Common questions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 414,
        "ai_lines": 10,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 404,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/workflows/team-collaboration.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Team Collaboration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Best practices for using whogitit across a development team.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Setting Up for Teams",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "### 1. Repository Configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "Add whogitit configuration to your repository:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "# .whogitit.toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "enabled = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "audit_log = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "# Add organization-specific patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "[[privacy.custom_patterns]]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "name = \"INTERNAL_API_KEY\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "pattern = \"company-api-[a-f0-9]{32}\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "[retention]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "max_age_days = 365",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "retain_refs = [\"refs/heads/main\", \"refs/heads/develop\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "min_commits = 500",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "Commit this file so all team members use the same settings.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "### 2. Documentation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "Add setup instructions to your project README or CONTRIBUTING.md:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "## AI Attribution Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "This project uses whogitit to track AI-generated code.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "### Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "1. Install whogitit: `cargo install --git https://github.com/dotsetlabs/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "2. Initialize: `whogitit init`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "3. Configure Claude Code hooks (see [installation docs])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "### Pushing Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "Attribution notes are automatically pushed with `git push`.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "To manually push: `git push origin refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "### 3. CI Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "Add the GitHub Action to automatically comment on PRs. See [CI/CD Integration](./ci-cd.md).",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "## Fetching Team Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "When cloning or fetching:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "# Clone with notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "git clone --config remote.origin.fetch='+refs/notes/*:refs/notes/*' <repo-url>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "# Or fetch notes manually",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "git fetch origin 'refs/notes/*:refs/notes/*'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "After `whogitit init`, this is configured automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "## Team Policies",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "### AI Disclosure Policy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "Define when AI attribution is required:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "## AI Code Policy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "1. **All AI-assisted code must be attributed**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "   - whogitit must be initialized in your local repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "   - Push git notes with every PR",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "2. **Review requirements by AI percentage**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "   - <25% AI: Standard review",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "   - 25-75% AI: Two reviewers required",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "   - >75% AI: Security review required",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "3. **Sensitive areas require human code**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "   - Authentication/authorization",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "   - Payment processing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "   - PII handling",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "### Commit Message Guidelines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "Encourage including AI context in commit messages:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "## Commit Messages",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "For AI-assisted commits, optionally include:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "feat: Add email validation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "Prompts used:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "- \"Add email validation using regex\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "- \"Add test cases for edge cases\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "Human modifications:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "- Improved regex pattern",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "- Added international domain support",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "### Code Review Standards",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "Define review expectations:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "## Reviewing AI Code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "When reviewing PRs with AI attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "1. Check the AI Attribution Summary comment",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "2. Focus extra attention on `●` (pure AI) lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "3. Verify `◐` (modified) lines make sense",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "4. Ensure tests cover AI-generated logic",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "5. Check for common AI pitfalls:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "   - Hallucinated APIs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "   - Security vulnerabilities",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "   - Non-idiomatic patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "## Metrics and Reporting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "### Weekly AI Usage Report",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "Generate team-wide metrics:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "# weekly-report.sh",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "echo \"# AI Usage Report - Week of $(date +%Y-%m-%d)\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "echo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "# Fetch latest",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "git fetch --all",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "# Get stats for the week",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "whogitit export \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "  --since \"$(date -d '7 days ago' +%Y-%m-%d)\" \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "  --format json \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "  -o /tmp/weekly.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "# Summarize",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "jq '{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "  total_commits: .summary.total_commits,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "  ai_lines: .summary.total_ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "  human_lines: .summary.total_human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "  ai_percentage: ((.summary.total_ai_lines + .summary.total_ai_modified_lines) * 100 /",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    (.summary.total_ai_lines + .summary.total_ai_modified_lines + .summary.total_human_lines))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "}' /tmp/weekly.json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "### Dashboard Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "Export data for dashboards:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "# Export for Grafana/DataDog",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "whogitit export --format json | \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "  jq -c '.commits[] | {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    timestamp: .committed_at,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    ai_lines: .ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "    human_lines: .human_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "  }' | \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "  while read line; do",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    curl -X POST \"https://metrics.example.com/ingest\" -d \"$line\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "  done",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "## Handling Edge Cases",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "### Contributor Without whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "If a contributor doesn't have whogitit set up:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "# Their commits will have no attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "# This is visible in PR summaries as \"commits without attribution\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "# After merging, you can optionally add a note:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "git notes --ref=whogitit add -m '{\"schema_version\":2,\"session\":{\"session_id\":\"unknown\"},\"prompts\":[],\"files\":[]}' <commit>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "### Rebasing and Attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "With `whogitit init`, the post-rewrite hook automatically preserves attribution during rebase:",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "# Ensure hooks are installed",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "whogitit init",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "# Rebase as normal - notes are preserved automatically",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "git rebase main",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "# Output: whogitit: Preserved attribution for 3 commit(s)",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "For cherry-pick (not covered by the hook):",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "whogitit copy-notes <original-sha> <cherry-picked-sha>",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6"
          },
          "edit_id": "d2b5c3c4-de10-4b5a-8fe7-2d6824d949f6",
          "prompt_index": 35,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "### Squash Merging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "Squash merging creates new commits without notes. Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "1. **Merge commits instead**: Preserves individual commit notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "2. **Generate summary**: Add a note to the squash commit summarizing attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "3. **Accept loss**: For small PRs, the PR comment serves as record",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "## Security Considerations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "### Redaction Review",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "Periodically review what's being redacted:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "whogitit audit --event-type redaction --limit 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "Ensure sensitive patterns are being caught.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "### Access Control",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "Git notes can contain prompts. Consider:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "- Are prompts themselves sensitive?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "- Should notes be in a separate repo?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "- Do you need fine-grained access control?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "### Audit Trail",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "For compliance, enable audit logging:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "audit_log = true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "And periodically archive:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "cp .whogitit/audit.log \"audit-backup-$(date +%Y%m%d).log\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "## Training and Onboarding",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "### New Developer Checklist",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "## AI Attribution Setup Checklist",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "- [ ] Install whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "- [ ] Run `whogitit init` in each project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "- [ ] Configure Claude Code hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "- [ ] Make a test commit and verify `whogitit blame`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "- [ ] Review team AI policies",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "### Common Issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "Document solutions to common problems:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "```markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "**No attribution data after commit**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "- Check `whogitit status` before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "- Verify hooks are installed: `ls .git/hooks/post-commit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "- Check Claude Code hooks in `~/.claude/settings.json`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "**Notes not pushing**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "- Manually push: `git push origin refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "- Check pre-push hook: `cat .git/hooks/pre-push`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "**Missing attribution on clone**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "- Fetch notes: `git fetch origin refs/notes/whogitit:refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "- [CI/CD Integration](./ci-cd.md) - Automated PR comments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "- [Code Review](./code-review.md) - Review practices",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "- [Configuration](../guide/configuration.md) - Team-wide settings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 296,
        "ai_lines": 12,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 284,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/getting-started/quick-start.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Quick Start",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "This guide will get you tracking AI-generated code in under 5 minutes.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## 1. Install whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "# Install whogitit (if not already done)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "cargo install --path /path/to/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "## 2. Run Global Setup (once)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "whogitit setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "This configures Claude Code integration automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "## 3. Initialize Your Repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "cd your-project",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "whogitit init",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "## 4. Verify Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "whogitit doctor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "You should see all checks passing.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "## 5. Write Some Code with Claude",
          "source": {
            "type": "AI",
            "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3"
          },
          "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3",
          "prompt_index": 33,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "Use Claude Code to make changes to your project. For example:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "> Add a function that validates email addresses",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "Claude will edit or create files. whogitit automatically captures:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "- The file content before the edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "- The file content after the edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "- The prompt you used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "## 6. Check Pending Attribution",
          "source": {
            "type": "AI",
            "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3"
          },
          "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3",
          "prompt_index": 33,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "Before committing, see what whogitit has captured:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "whogitit status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "Output:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "Pending AI attribution:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "  Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "  Files: 2",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "  Edits: 3",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "  Lines: 45",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "Run 'git commit' to finalize attribution.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "## 7. Commit Your Changes",
          "source": {
            "type": "AI",
            "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3"
          },
          "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3",
          "prompt_index": 33,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "Commit as normal:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "git add .",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "git commit -m \"Add email validation\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "The post-commit hook automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "1. Analyzes the pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "2. Performs three-way diff analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "3. Attaches attribution data as a git note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "## 8. View Attribution",
          "source": {
            "type": "AI",
            "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3"
          },
          "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3",
          "prompt_index": 33,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "### See AI attribution for a file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "whogitit blame src/validation.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "Output:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": " LINE   │ COMMIT  │ AUTHOR     │ SRC │ CODE",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "─────────────────────────────────────────────────────────────────────────────────────",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    1   │ a1b2c3d │ Greg King  │  ●  │ use regex::Regex;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    2   │ a1b2c3d │ Greg King  │  ●  │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    3   │ a1b2c3d │ Greg King  │  ●  │ pub fn validate_email(email: &str) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    4   │ a1b2c3d │ Greg King  │  ◐  │     let pattern = r\"^[a-zA-Z0-9._%+-]+@\";  // simplified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    5   │ a1b2c3d │ Greg King  │  ●  │     let re = Regex::new(pattern).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    6   │ a1b2c3d │ Greg King  │  ●  │     re.is_match(email)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    7   │ a1b2c3d │ Greg King  │  ●  │ }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "─────────────────────────────────────────────────────────────────────────────────────",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "Legend: ● AI (6) ◐ AI-modified (1)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "AI involvement: 100% (7 of 7 lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "### See the commit summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "whogitit show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "Output:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "Commit: a1b2c3d",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "Session: 7f3a-4b2c-9d1e-8a7b",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "Model: claude-opus-4-5-20251101",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "Started: 2026-01-30T14:23:17Z",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "Prompts used:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "  #0: \"Add a function that validates email addresses...\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "Files with AI changes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "  src/validation.rs (6 AI, 1 modified) - 7 total lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "Summary:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "  6 AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "  1 AI line modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "### Find the prompt that generated a line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "whogitit prompt src/validation.rs:3",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "Output:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "╔════════════════════════════════════════════════════════════════════╗",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "║  PROMPT #0 in session 7f3a-4b2c-9d1e...                            ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "║  Model: claude-opus-4-5-20251101 | 2026-01-30T14:23:17Z            ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "╠════════════════════════════════════════════════════════════════════╣",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "║  Add a function that validates email addresses                      ║",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "╚════════════════════════════════════════════════════════════════════╝",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "Files affected by this prompt:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "  - src/validation.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "## 9. Push with Attribution",
          "source": {
            "type": "AI",
            "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3"
          },
          "edit_id": "2c60baac-4925-4f55-a29f-5d212c606ed3",
          "prompt_index": 33,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "When you push, git notes are automatically included:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "git push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "The pre-push hook handles `git push origin refs/notes/whogitit` automatically.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "## What's Next?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "- Learn about [Core Concepts](./concepts.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "- Explore all [CLI Commands](../guide/cli-commands.md)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "- Set up [CI/CD Integration](../workflows/ci-cd.md) for PR comments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "- Configure [Privacy & Redaction](../guide/privacy.md) rules",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 167,
        "ai_lines": 5,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 162,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/usage/git-integration.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# Git Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "whogitit provides deep integration with git to surface AI attribution data directly in your terminal workflow.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## AI-Annotated Diff Pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "The `pager` command reads git diff output from stdin and annotates it with AI attribution markers.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "### Quick Setup",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "Configure git to use whogitit as the diff pager:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "# Option 1: Replace the default pager for all git output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "git config --global core.pager \"whogitit pager\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "# Option 2: Create an alias for AI-annotated diffs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "git config --global alias.ai-diff '!git diff | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "git config --global alias.ai-show '!git show | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "### Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "With the pager configured, run any git diff command:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "git diff HEAD~1           # Annotated diff",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "git diff main..feature    # Compare branches with attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "git show abc123           # Show commit with AI markers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "### Output Format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "Added lines are annotated with AI attribution markers:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "```diff",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "diff --git a/src/main.rs b/src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "@@ -40,4 +45,8 @@ impl Server {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "● +    fn handle_error(e: Error) -> Result<()> {  # AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "● +        log::error!(\"Failed: {}\", e);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "● +        retry_with_backoff(|| reconnect())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "● +    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "+ +    // Added manual timeout check  # AI-mod",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "**Markers:**",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "- `●` (green) - AI-generated line, unchanged",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "- `◐` (yellow) - AI-generated line, modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "- No marker - Human-written or original lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "### Options",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "whogitit pager [OPTIONS]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "Options:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "  --no-color     Disable colored output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "  -v, --verbose  Show detailed attribution (edit ID, similarity %)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "  --no-pager     Output directly to stdout instead of through pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "### Examples",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "# View diff with verbose attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "git diff | whogitit pager --verbose",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "# Pipe to less manually",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "git diff | whogitit pager --no-pager | less -R",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "# Combine with git log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "git log -p | whogitit pager",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "## Git Aliases",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "Here are some useful git aliases for working with whogitit:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "# AI-aware diff commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "git config --global alias.ai-diff '!git diff | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "git config --global alias.ai-show '!git show \"$@\" | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "git config --global alias.ai-log '!git log -p \"$@\" | whogitit pager --no-pager'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "# Quick blame with AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "git config --global alias.ai-blame '!whogitit blame'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "# Show AI summary for branch",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "git config --global alias.ai-summary '!whogitit summary --base main'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "## Fetching Attribution Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "whogitit stores attribution data in git notes. To ensure notes are fetched:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "# One-time setup: Configure automatic note fetching",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "git config --global --add remote.origin.fetch '+refs/notes/whogitit:refs/notes/whogitit'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "# Or fetch notes manually",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "The `whogitit init` command automatically configures this for your repository.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "## Pushing Attribution Notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "Notes are automatically pushed when you run `git push` if you've run `whogitit init`. Otherwise:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "# Push notes manually",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "## Integration with Git Hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "whogitit installs three hooks via `whogitit init`:",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "1. **post-commit**: Automatically attaches attribution to commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "2. **pre-push**: Automatically pushes notes with regular pushes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "3. **post-rewrite**: Preserves attribution during rebase and amend",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "These hooks are idempotent and can be safely re-run.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "## Rebase Support",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "Attribution is automatically preserved during rebase and amend operations via the post-rewrite hook. For cherry-pick, use:",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "whogitit copy-notes <original-sha> <cherry-picked-sha>",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366"
          },
          "edit_id": "eb87c575-7cae-4887-8f86-d8996d84c366",
          "prompt_index": 24,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "### Pager not showing annotations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "1. Check if attribution data exists:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "   whogitit blame <file>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "2. Ensure notes are fetched:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "   git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "3. Verify whogitit is in PATH:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "   ```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "   which whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "   ```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "### Colors not working",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "If colors don't appear in your pager, try:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "# Use -R flag with less",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "git diff | whogitit pager --no-pager | less -R",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "# Or disable colors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "git diff | whogitit pager --no-color",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "### Notes not pushing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "Check if the pre-push hook is installed:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "cat .git/hooks/pre-push | grep whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "If not, run `whogitit init` again.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 172,
        "ai_lines": 10,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 162,
        "unknown_lines": 0
      }
    },
    {
      "path": "docs/src/appendix/faq.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# FAQ",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "Frequently asked questions about whogitit.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## General",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "### What is whogitit?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "whogitit is a tool that tracks AI-generated code at the line level. It tells you which lines were written by AI, which were modified by humans, and what prompts generated them.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "### Why track AI-generated code?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "- **Transparency**: Know exactly what percentage of your codebase was AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "- **Code Review**: Identify AI-generated sections that may need extra scrutiny",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "- **Compliance**: Meet organizational requirements for AI usage disclosure",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "- **Learning**: Understand how AI suggestions were modified by humans",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "- **Debugging**: When something breaks, know if AI wrote it and what prompt was used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "### Does whogitit work with ChatGPT/Copilot/other AI tools?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "Currently, whogitit is designed for Claude Code integration. It uses Claude Code's hook system to capture changes. Support for other tools may be added in the future.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "### Is whogitit open source?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "Yes. whogitit is available at https://github.com/dotsetlabs/whogitit under the MIT license.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "## Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "### Do I need to do anything special when coding?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "No. Once set up, whogitit works automatically:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "1. You use Claude Code normally",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "2. Hooks capture your changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "3. You commit normally",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "4. Attribution is attached to the commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "### What happens if I modify AI-generated code?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "whogitit tracks this! Lines modified by humans after AI generation are marked as `AIModified` (◐) rather than `AI` (●). This shows that a human reviewed and changed the code.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "### Can I use whogitit without Claude Code?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "The capture system is designed for Claude Code hooks. Without Claude Code, you can still:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "- View attribution from commits made by others",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "- Manually add attribution (advanced)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "- Use the CLI tools for analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "### Does whogitit slow down my workflow?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "The overhead is minimal:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "- Hooks run in milliseconds",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "- Post-commit analysis is fast (typically <1 second)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "- No impact on normal git operations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "## Privacy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "### Are my prompts stored publicly?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "Prompts are stored in git notes, which are pushed with your repository. If your repo is public, prompts are visible. However:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "- Sensitive data is automatically redacted",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "- You can add custom redaction patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "- You can disable prompt storage entirely",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "### What gets redacted automatically?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "- API keys and secrets",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "- AWS credentials",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "- Private keys",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "- Bearer tokens",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "- GitHub tokens",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "- Email addresses",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "- Passwords",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "- Credit card numbers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "- Social Security Numbers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "### Can I disable redaction?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "Yes, but it's not recommended:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "# .whogitit.toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "[privacy]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "enabled = false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "### Can I add custom redaction patterns?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "Yes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "```toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "[[privacy.custom_patterns]]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "name = \"MY_SECRET\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "pattern = \"my-secret-[a-f0-9]{32}\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "description = \"My custom secrets\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "## Data Storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "### Where is attribution data stored?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "Attribution is stored as git notes under `refs/notes/whogitit`. This is a standard git feature - notes are stored in the git object database.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "### Does attribution increase repository size?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "Slightly. Each attributed commit adds a small JSON blob (typically 1-10 KB). For most projects, this is negligible.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "### What happens if I delete a branch?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "Git notes are attached to commits, not branches. If commits are garbage-collected, their notes go too. If commits are still reachable, notes remain.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "### Can I delete attribution data?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "Yes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "# Single commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "git notes --ref=whogitit remove <commit>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "# Using retention policy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "whogitit retention apply --execute",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "## Git Operations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "### Does attribution survive rebasing?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "Yes! Run `whogitit init` to install the post-rewrite hook that automatically preserves notes during rebase and amend operations.",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "For cherry-pick, manually copy: `whogitit copy-notes <old> <new>`",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "### Does attribution survive squash merging?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "No. Squash creates a new commit. The individual commit notes are not combined. Consider using regular merge to preserve notes.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "### Can I cherry-pick commits with attribution?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "Cherry-pick creates new commits. Attribution doesn't automatically transfer. Use the `copy-notes` command:",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "```bash",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "whogitit copy-notes <original-sha> <cherry-picked-sha>",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "```",
          "source": {
            "type": "AI",
            "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a"
          },
          "edit_id": "61afab6e-2930-4e9e-89ea-41c46dfb708a",
          "prompt_index": 10,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "### How do I share attribution with my team?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "Attribution is stored in git notes, which are pushed/fetched:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "# Push",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "git push origin refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "# Fetch (configured automatically by `whogitit init`)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "## Troubleshooting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "### Why is there no attribution after my commit?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "Common causes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "1. Claude Code hooks not configured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "2. `whogitit init` not run in the repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "3. Capture script not executable",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "4. Edits made outside Claude Code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "See [Troubleshooting](./troubleshooting.md) for details.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "### Why are some lines marked \"Unknown\"?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "This happens when:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "- The file wasn't included in the AI session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "- Attribution data is corrupted or missing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "- The line existed before whogitit was set up",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "### Why don't I see attribution after cloning?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "Git notes need to be fetched separately:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "git fetch origin refs/notes/whogitit:refs/notes/whogitit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "### Can I fix incorrect attribution?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "Attribution can be edited (it's just JSON in git notes):",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "git notes --ref=whogitit edit <commit>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "But be careful - manual edits can cause inconsistencies.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "## Advanced",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "### Can I use whogitit in CI/CD?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "Yes! See [CI/CD Integration](../workflows/ci-cd.md). Common uses:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "- Add attribution summaries to PR comments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "- Enforce review policies based on AI percentage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "- Export metrics for dashboards",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "### Can I query attribution programmatically?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "Yes:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "# JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "whogitit blame --format json file.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "whogitit show --format json HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "whogitit summary --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "# Export",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "whogitit export --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "### Can I integrate with other tools?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "whogitit outputs standard JSON. Integrate with:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "- Dashboards (Grafana, DataDog)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "- Code quality tools",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "- Custom scripts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "- Slack/Teams notifications",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "### How do I contribute to whogitit?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "See the repository at https://github.com/dotsetlabs/whogitit:",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "- Report issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "- Submit pull requests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "- Improve documentation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "## See Also",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "- [Troubleshooting](./troubleshooting.md) - Problem solutions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "- [Core Concepts](../getting-started/concepts.md) - How it works",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "- [Architecture](../reference/architecture.md) - Technical details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 234,
        "ai_lines": 8,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 226,
        "unknown_lines": 0
      }
    },
    {
      "path": "CLAUDE.md",
      "lines": [
        {
          "line_number": 1,
          "content": "# CLAUDE.md",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "## Build & Test Commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "# Build",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "cargo build",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "cargo build --release",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "# Run all tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "cargo test --verbose",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "# Run only unit tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "cargo test --lib",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "# Run only integration tests",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "cargo test --test '*'",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "# Run a single test by name",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "cargo test test_full_workflow -- --nocapture",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "# Lint and format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "cargo fmt --all -- --check",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "cargo clippy --all-targets --all-features -- -D warnings",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "# Security audit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "cargo audit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "## CLI Usage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "```bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "# Run locally during development",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "cargo run -- <command>",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "# Setup and configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "cargo run -- setup              # One-time global setup (Claude Code integration)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "cargo run -- doctor             # Verify configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "cargo run -- init               # Initialize repository hooks",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "# Core attribution commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "cargo run -- blame src/main.rs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "cargo run -- blame src/main.rs --ai-only",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "cargo run -- show HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "cargo run -- show HEAD --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "cargo run -- prompt src/main.rs:42",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "cargo run -- summary --base main --format markdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "# Status and utility commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "cargo run -- status             # Show pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "cargo run -- clear              # Discard pending changes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "# Data export and management",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "cargo run -- export --format json",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "cargo run -- export --since 2024-01-01 --until 2024-12-31",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "cargo run -- retention preview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "cargo run -- retention apply --execute",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "cargo run -- audit --limit 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "# Developer integration (GitHub, git)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "cargo run -- annotations --base main --head HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "cargo run -- pager              # Read diff from stdin",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "# Privacy testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "cargo run -- redact-test --text \"api_key=secret\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "cargo run -- redact-test --list-patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d"
          },
          "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "# Copy attribution (after cherry-pick or recovery)",
          "source": {
            "type": "AI",
            "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d"
          },
          "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "cargo run -- copy-notes <old-sha> <new-sha>",
          "source": {
            "type": "AI",
            "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d"
          },
          "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "cargo run -- copy-notes abc123 def456 --dry-run",
          "source": {
            "type": "AI",
            "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d"
          },
          "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "## Architecture Overview",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "whogitit tracks AI-generated code at line-level granularity using a dual-hook capture system and three-way diff analysis.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "### Data Flow",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "Claude Code Session (Edit/Write tools)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    ├─► PreToolUse Hook: saves file state before edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    ├─► PostToolUse Hook: captures change + prompt from transcript",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "Pending Buffer (.whogitit-pending.json)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    │   - Full content snapshots (original → AI edit 1 → AI edit 2 → ...)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "    │   - Session metadata, prompts, file histories",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    ▼ (git commit triggers post-commit hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "Three-Way Analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    │   - Compares: original → AI snapshots → final committed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    │   - Attributes each line: AI / AIModified / Human / Original",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    │",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    ▼",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "Git Notes (refs/notes/whogitit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    - AIAttribution JSON per commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    - Prompts (redacted), line-level attribution, summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "```",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "### Key Modules",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "- **capture/**: Hook handlers and pending buffer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "  - `hook.rs`: CaptureHook - handles PreToolUse/PostToolUse from Claude Code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "  - `pending.rs`: PendingBuffer - stores snapshots until commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "  - `threeway.rs`: ThreeWayAnalyzer - core attribution algorithm",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "  - `snapshot.rs`: Data structures (ContentSnapshot, AIEdit, FileEditHistory, LineAttribution)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "  - `diff.rs`: Diff utilities",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "- **core/**: Attribution data models and blame engine",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "  - `attribution.rs`: AIAttribution, PromptInfo, SessionMetadata, ModelInfo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "  - `blame.rs`: AIBlamer - combines git blame with AI notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "- **storage/**: Git notes persistence",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "  - `notes.rs`: NotesStore - read/write attribution to `refs/notes/whogitit`",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "  - `trailers.rs`: TrailerGenerator - git trailers from attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "  - `audit.rs`: AuditLog, AuditEvent - compliance event logging",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "- **cli/**: Command implementations",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "  - `blame.rs`, `show.rs`, `prompt.rs`, `summary.rs` - core attribution commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "  - `annotations.rs`: GitHub Checks API annotation generation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "  - `pager.rs`: Git diff pager with AI attribution markers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "  - `export.rs`: Bulk attribution export (JSON/CSV)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "  - `setup.rs`: Global setup, doctor, and init commands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "  - `retention.rs`: Data retention policy management",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "  - `audit.rs`: Audit log viewing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "  - `redact.rs`: Redaction pattern testing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "  - `copy.rs`: Copy attribution between commits",
          "source": {
            "type": "AI",
            "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d"
          },
          "edit_id": "1bf72e71-f0cb-44e6-93d4-7637816ba90d",
          "prompt_index": 28,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "  - `output.rs`: Formatting (Pretty, JSON, Markdown)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "- **privacy/**: Sensitive data protection",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "  - `redaction.rs`: Redactor - regex patterns for API keys, emails, passwords, etc.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "  - `config.rs`: WhogititConfig, PrivacyConfig, RetentionConfig - `.whogitit.toml` parsing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "### Line Attribution Types",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "| Source | Symbol | Description |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "|--------|--------|-------------|",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "| AI | `●` | Generated by AI, unchanged |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "| AIModified | `◐` | Generated by AI, then edited by human |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "| Human | `+` | Added by human after AI edits |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "| Original | `─` | Existed before AI session |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "| Unknown | `?` | Could not determine source |",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "### Data Formats",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "**Pending Buffer** (`.whogitit-pending.json`): Version 2 format with full content snapshots per file, edit history chain, and session metadata.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "**Git Notes** (`refs/notes/whogitit`): AIAttribution JSON with schema version 2, containing session info, prompts array, and per-file line-level attribution results.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "## Code Style",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "- Rust 2021 edition",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "- Max line width: 100 characters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "- 4-space indentation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "- Run `cargo fmt` before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "## Hook Integration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "The shell hook at `hooks/whogitit-capture.sh` (installed to `~/.claude/hooks/`) reads the `transcript_path` JSONL file provided by Claude Code to extract user prompts. It uses `jq -s` (slurp mode) since the transcript is JSON Lines format, not a JSON array.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 163,
        "ai_lines": 5,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 158,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/mod.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "pub mod annotations;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "pub mod audit;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "pub mod blame;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "pub mod copy;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "pub mod export;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "pub mod output;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "pub mod pager;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "pub mod prompt;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "pub mod redact;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub mod retention;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub mod setup;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "pub mod show;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "pub mod summary;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "use std::fs;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "use clap::{Parser, Subcommand};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "#[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "use std::os::unix::fs::PermissionsExt;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "use crate::capture::hook;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "/// AI-aware git blame tool for tracking AI-generated code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "#[derive(Debug, Parser)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "#[command(name = \"whogitit\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "#[command(author, version, about, long_about = None)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "pub struct Cli {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    #[command(subcommand)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    pub command: Commands,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "#[derive(Debug, Subcommand)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "pub enum Commands {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    /// Show AI attribution for each line of a file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "    Blame(blame::BlameArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    /// View the prompt that generated specific lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    Prompt(prompt::PromptArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    /// Show AI attribution summary for a commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    Show(show::ShowArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    /// Generate summary for a range of commits (useful for PRs)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    Summary(summary::SummaryArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    /// Generate annotations for GitHub Checks API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    Annotations(annotations::AnnotationsArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Annotate git diff output with AI attribution (for use as git pager)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    Pager(pager::PagerArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    /// Test redaction patterns against text or files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    RedactTest(redact::RedactArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    /// Export attribution data for multiple commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    Export(export::ExportArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    /// Manage data retention policies",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    Retention(retention::RetentionArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    /// View the audit log",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    Audit(audit::AuditArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    /// Capture a file change (called by Claude Code hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    Capture(CaptureArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    /// Finalize attribution after a commit (post-commit hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    PostCommit,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    /// Show pending changes status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    Status,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    /// Clear pending changes without committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    Clear,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    /// Initialize whogitit in a git repository (installs post-commit hook)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    Init(InitArgs),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    /// Set up whogitit globally (install capture hook and configure Claude Code)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    Setup,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    /// Check whogitit configuration and diagnose issues",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    Doctor,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    /// Copy AI attribution from one commit to another",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    CopyNotes(copy::CopyNotesArgs),",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "/// Init command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "pub struct InitArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    /// Skip global setup check",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    pub force: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "/// Capture command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "pub struct CaptureArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    /// Read hook input from stdin",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    pub stdin: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    /// File path (if not using stdin)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    pub file: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    /// Tool name",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    pub tool: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    /// Prompt text",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    pub prompt: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "/// Run the CLI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "pub fn run() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    let cli = Cli::parse();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    match cli.command {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        Commands::Blame(args) => blame::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        Commands::Prompt(args) => prompt::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        Commands::Show(args) => show::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        Commands::Summary(args) => summary::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        Commands::Annotations(args) => annotations::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        Commands::Pager(args) => pager::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        Commands::RedactTest(args) => redact::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "        Commands::Export(args) => export::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        Commands::Retention(args) => retention::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        Commands::Audit(args) => audit::run(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        Commands::Capture(args) => run_capture(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "        Commands::PostCommit => run_post_commit(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        Commands::Status => run_status(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "        Commands::Clear => run_clear(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "        Commands::Init(args) => run_init(args),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "        Commands::Setup => setup::run_setup(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "        Commands::Doctor => setup::run_doctor(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "        Commands::CopyNotes(args) => copy::run(args),",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "fn run_capture(args: CaptureArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    if args.stdin {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        hook::run_capture_hook()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        anyhow::bail!(\"Capture requires --stdin flag for hook input\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "fn run_post_commit() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "    hook::run_post_commit_hook()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "fn run_status() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    let repo = git2::Repository::discover(\".\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    let hook_handler = crate::capture::CaptureHook::new(repo_root)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    let status = hook_handler.status()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    if status.has_pending {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        println!(\"Pending AI attribution:\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "            \"  Session: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "            status.session_id.as_deref().unwrap_or(\"unknown\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        println!(\"  Files: {}\", status.file_count);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        println!(\"  Edits: {}\", status.edit_count);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "        println!(\"  Lines: {}\", status.line_count);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        if !status.age.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "            println!(\"  Age: {}\", status.age);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        if status.is_stale {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "            println!(\"\\n⚠️  Warning: This pending buffer is stale (> 24 hours old).\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            println!(\"   Run 'whogitit clear' if these changes are no longer relevant.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "            println!(\"\\nRun 'git commit' to finalize attribution.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        println!(\"No pending AI attribution.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "fn run_clear() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    let repo = git2::Repository::discover(\".\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    let hook_handler = crate::capture::CaptureHook::new(repo_root)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    hook_handler.clear_pending()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    println!(\"Cleared pending AI attribution.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "fn run_init(args: InitArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    // Check global setup status first (unless --force is used)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "    let status = setup::check_setup_status();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "    if !status.is_complete() && !args.force {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        println!(\"Global setup incomplete:\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        if !status.hook_script_installed {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "            println!(\"  - Capture hook not installed\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "        if !status.hook_script_executable {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "            println!(\"  - Capture hook not executable\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        if !status.settings_configured {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            println!(\"  - Claude Code hooks not configured\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "        println!(\"Run 'whogitit setup' first to configure Claude Code integration.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "        println!(\"Then run 'whogitit init' again to initialize this repository.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        println!(\"Or run 'whogitit init --force' to skip this check and proceed anyway.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    if !status.is_complete() && args.force {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        println!(\"Warning: Global setup is incomplete. Proceeding with --force.\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    let hooks_dir = repo_root.join(\".git/hooks\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    fs::create_dir_all(&hooks_dir).context(\"Failed to create hooks directory\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    // Install post-commit hook (attaches attribution to commits)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "    install_post_commit_hook(&hooks_dir)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    // Install pre-push hook (auto-pushes notes with regular git push)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    install_pre_push_hook(&hooks_dir)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "    // Install post-rewrite hook (preserves notes during rebase/amend)",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    install_post_rewrite_hook(&hooks_dir)?;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "    // Configure git to auto-fetch notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "    configure_git_fetch(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "    println!(\"\\nRepository initialized! AI attribution will be tracked for commits in this repo.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "    println!(\"Notes will be automatically pushed with 'git push' and fetched with 'git fetch'.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "    if !status.is_complete() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        println!(\"\\nReminder: Run 'whogitit setup' to complete Claude Code integration.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "/// Marker comment to identify whogitit hook sections",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "const WHOGITIT_MARKER_START: &str = \"# >>> whogitit hook start >>>\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "const WHOGITIT_MARKER_END: &str = \"# <<< whogitit hook end <<<\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "fn install_post_commit_hook(hooks_dir: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    let hook_path = hooks_dir.join(\"post-commit\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        let content = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        // Check for marker-based or legacy whogitit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        if content.contains(WHOGITIT_MARKER_START) || content.contains(\"whogitit post-commit\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "            println!(\"✓ whogitit post-commit hook already installed.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "            return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "        // Append to existing hook with markers for idempotency",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        let whogitit_section = format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            \"\\n\\n{}\\n# whogitit post-commit hook - Attaches AI attribution notes\\nif command -v whogitit &> /dev/null; then\\n    whogitit post-commit 2>/dev/null || true\\nfi\\n{}\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "            WHOGITIT_MARKER_START,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "            WHOGITIT_MARKER_END",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        let new_content = format!(\"{}{}\", content.trim_end(), whogitit_section);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "        fs::write(&hook_path, new_content)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        println!(\"✓ Added whogitit to existing post-commit hook.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        let hook_content = format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "            r#\"#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "{}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "# whogitit post-commit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "# Attaches AI attribution notes to the commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "if command -v whogitit &> /dev/null; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "    whogitit post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "elif [[ -x \"$HOME/.cargo/bin/whogitit\" ]]; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "    \"$HOME/.cargo/bin/whogitit\" post-commit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "{}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "\"#,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        fs::write(&hook_path, hook_content)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "        make_executable(&hook_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "        println!(\"✓ Installed whogitit post-commit hook.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "fn install_pre_push_hook(hooks_dir: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "    let hook_path = hooks_dir.join(\"pre-push\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "        let content = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "        // Check for marker-based or legacy whogitit hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "        if content.contains(WHOGITIT_MARKER_START) || content.contains(\"WHOGITIT_PUSHING_NOTES\") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "            println!(\"✓ whogitit pre-push hook already installed.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "            return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "        // Append to existing hook with markers for idempotency",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "        let whogitit_section = format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "            \"\\n\\n{}\\n# whogitit pre-push hook - automatically push notes\\n# Skip if already pushing notes (prevent recursion)\\n[[ \\\"$WHOGITIT_PUSHING_NOTES\\\" == \\\"1\\\" ]] && exit 0\\nremote=\\\"$1\\\"\\nif git notes --ref=whogitit list &>/dev/null; then\\n    WHOGITIT_PUSHING_NOTES=1 git push \\\"$remote\\\" refs/notes/whogitit 2>/dev/null || true\\nfi\\n{}\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "            WHOGITIT_MARKER_START,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            WHOGITIT_MARKER_END",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        let new_content = format!(\"{}{}\", content.trim_end(), whogitit_section);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "        fs::write(&hook_path, new_content)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "        println!(\"✓ Added whogitit to existing pre-push hook.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "        let hook_content = format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            r#\"#!/bin/bash",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "{}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "# whogitit pre-push hook",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "# Automatically pushes whogitit notes alongside regular pushes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "# Prevent recursion - skip if we're already pushing notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "[[ \"$WHOGITIT_PUSHING_NOTES\" == \"1\" ]] && exit 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "remote=\"$1\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "# Only push notes if they exist",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "if git notes --ref=whogitit list &>/dev/null; then",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "    WHOGITIT_PUSHING_NOTES=1 git push \"$remote\" refs/notes/whogitit 2>/dev/null || true",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "fi",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "{}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "\"#,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        fs::write(&hook_path, hook_content)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "        make_executable(&hook_path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        println!(\"✓ Installed whogitit pre-push hook.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "fn install_post_rewrite_hook(hooks_dir: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "    let hook_path = hooks_dir.join(\"post-rewrite\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "    if hook_path.exists() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        let content = fs::read_to_string(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        // Check for marker-based or legacy whogitit hook",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "        if content.contains(WHOGITIT_MARKER_START) || content.contains(\"whogitit\") {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "            println!(\"✓ whogitit post-rewrite hook already installed.\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "            return Ok(());",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        // Append to existing hook with markers for idempotency",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "        let whogitit_section = format!(",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "            \"\\n\\n{}\\n# whogitit post-rewrite hook - preserve notes during rebase/amend\\ncopied=0\\nwhile read -r old_sha new_sha extra; do\\n  [[ -z \\\"$old_sha\\\" || -z \\\"$new_sha\\\" ]] && continue\\n  if git notes --ref=whogitit show \\\"$old_sha\\\" &>/dev/null; then\\n    git notes --ref=whogitit copy \\\"$old_sha\\\" \\\"$new_sha\\\" 2>/dev/null && copied=$((copied + 1))\\n  fi\\ndone\\n[[ $copied -gt 0 ]] && echo \\\"whogitit: Preserved attribution for $copied commit(s)\\\"\\n{}\\n\",",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "            WHOGITIT_MARKER_START,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "            WHOGITIT_MARKER_END",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "        let new_content = format!(\"{}{}\", content.trim_end(), whogitit_section);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "        fs::write(&hook_path, new_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        println!(\"✓ Added whogitit to existing post-rewrite hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "    } else {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "        let hook_content = format!(",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "            r#\"#!/bin/bash",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "{}",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "# whogitit post-rewrite hook",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "# Preserves AI attribution notes during rebase/amend",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "copied=0",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "while read -r old_sha new_sha extra; do",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "  [[ -z \"$old_sha\" || -z \"$new_sha\" ]] && continue",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "  if git notes --ref=whogitit show \"$old_sha\" &>/dev/null; then",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "    git notes --ref=whogitit copy \"$old_sha\" \"$new_sha\" 2>/dev/null && copied=$((copied + 1))",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "  fi",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "done",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "[[ $copied -gt 0 ]] && echo \"whogitit: Preserved attribution for $copied commit(s)\"",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "{}",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "\"#,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "            WHOGITIT_MARKER_START, WHOGITIT_MARKER_END",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "        );",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        fs::write(&hook_path, hook_content)?;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "        make_executable(&hook_path)?;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "        println!(\"✓ Installed whogitit post-rewrite hook.\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "    Ok(())",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "/// Make a file executable (Unix only - no-op on Windows)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "#[cfg(unix)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "fn make_executable(path: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "    let mut perms = fs::metadata(path)?.permissions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "    perms.set_mode(0o755);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "    fs::set_permissions(path, perms)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "/// Make a file executable (no-op on Windows - scripts are executable by default)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "#[cfg(not(unix))]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "fn make_executable(_path: &std::path::Path) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "    // On Windows, scripts don't need execute permission",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "/// Configure git to automatically fetch whogitit notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "fn configure_git_fetch(repo: &git2::Repository) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "    let mut config = repo.config().context(\"Failed to open git config\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "    let fetch_refspec = \"+refs/notes/whogitit:refs/notes/whogitit\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "    let fetch_configured = config",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "        .get_string(\"remote.origin.fetch\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "        .map(|v| v.contains(\"whogitit\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "        .unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "    if !fetch_configured {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "        config",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "            .set_multivar(\"remote.origin.fetch\", \"^$\", fetch_refspec)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "            .or_else(|_| config.set_str(\"remote.origin.fetch\", fetch_refspec))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "            .context(\"Failed to configure fetch refspec\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "        println!(\"✓ Configured git to fetch whogitit notes automatically.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "        println!(\"✓ Git already configured to fetch whogitit notes.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "    use tempfile::TempDir;",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "    fn create_test_hooks_dir() -> TempDir {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "        TempDir::new().unwrap()",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "    fn test_whogitit_markers() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "        assert!(WHOGITIT_MARKER_START.contains(\"whogitit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "        assert!(WHOGITIT_MARKER_END.contains(\"whogitit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "        assert!(WHOGITIT_MARKER_START.contains(\">>>\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "        assert!(WHOGITIT_MARKER_END.contains(\"<<<\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "    fn test_install_post_commit_hook_new() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "        install_post_commit_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "        let hook_path = dir.path().join(\"post-commit\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "        assert!(hook_path.exists());",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_START));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_END));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "        assert!(content.contains(\"whogitit post-commit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "        assert!(content.starts_with(\"#!/bin/bash\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "    fn test_install_post_commit_hook_idempotent() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "        // Install twice",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "        install_post_commit_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "        install_post_commit_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "        let hook_path = dir.path().join(\"post-commit\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "        // Should only have one marker section",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "        let marker_count = content.matches(WHOGITIT_MARKER_START).count();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "        assert_eq!(marker_count, 1);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "    fn test_install_post_commit_hook_append_to_existing() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "        let hook_path = dir.path().join(\"post-commit\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "        // Create existing hook",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "        fs::write(&hook_path, \"#!/bin/bash\\necho 'existing hook'\\n\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "        install_post_commit_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "        assert!(content.contains(\"existing hook\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_START));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "        assert!(content.contains(\"whogitit post-commit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "    fn test_install_pre_push_hook_new() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "        install_pre_push_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "        let hook_path = dir.path().join(\"pre-push\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "        assert!(hook_path.exists());",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_START));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "        assert!(content.contains(\"WHOGITIT_PUSHING_NOTES\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "        assert!(content.contains(\"refs/notes/whogitit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "    fn test_install_pre_push_hook_idempotent() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "        install_pre_push_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "        install_pre_push_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "        let hook_path = dir.path().join(\"pre-push\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "        let marker_count = content.matches(WHOGITIT_MARKER_START).count();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "        assert_eq!(marker_count, 1);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "    fn test_install_post_rewrite_hook_new() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "        install_post_rewrite_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "        let hook_path = dir.path().join(\"post-rewrite\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "        assert!(hook_path.exists());",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_START));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "        assert!(content.contains(\"git notes --ref=whogitit copy\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "        assert!(content.contains(\"Preserved attribution\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "    fn test_install_post_rewrite_hook_idempotent() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "        install_post_rewrite_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "        install_post_rewrite_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "        let hook_path = dir.path().join(\"post-rewrite\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "        let marker_count = content.matches(WHOGITIT_MARKER_START).count();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "        assert_eq!(marker_count, 1);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "    fn test_install_post_rewrite_hook_append_to_existing() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "        let dir = create_test_hooks_dir();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "        let hook_path = dir.path().join(\"post-rewrite\");",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "        // Create existing hook",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "        fs::write(&hook_path, \"#!/bin/bash\\necho 'existing rewrite hook'\\n\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "        install_post_rewrite_hook(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "        let content = fs::read_to_string(&hook_path).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "        assert!(content.contains(\"existing rewrite hook\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "        assert!(content.contains(WHOGITIT_MARKER_START));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "        assert!(content.contains(\"git notes --ref=whogitit copy\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "    fn test_init_args_default() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "        let args = InitArgs { force: false };",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "        assert!(!args.force);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "    fn test_init_args_force() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "        let args = InitArgs { force: true };",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "        assert!(args.force);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "    fn test_capture_args_stdin() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "        let args = CaptureArgs {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": "            stdin: true,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "            tool: None,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "            prompt: None,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "        assert!(args.stdin);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "        assert!(args.file.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "    fn test_capture_args_with_file() {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "        let args = CaptureArgs {",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "            stdin: false,",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "            file: Some(\"test.rs\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "            tool: Some(\"Edit\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "            prompt: Some(\"Fix bug\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "        assert!(!args.stdin);",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "        assert_eq!(args.file.as_deref(), Some(\"test.rs\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "        assert_eq!(args.tool.as_deref(), Some(\"Edit\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "        assert_eq!(args.prompt.as_deref(), Some(\"Fix bug\"));",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726"
          },
          "edit_id": "cd8c1f24-ef6a-4f47-ad96-c7cb6a189726",
          "prompt_index": 42,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 621,
        "ai_lines": 232,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 389,
        "unknown_lines": 0
      }
    },
    {
      "path": "tests/integration_test.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use std::fs;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use git2::{Repository, Signature};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use tempfile::TempDir;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use whogitit::capture::pending::PendingBuffer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use whogitit::capture::threeway::ThreeWayAnalyzer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use whogitit::core::attribution::{AIAttribution, PromptInfo, SessionMetadata};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use whogitit::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "use whogitit::storage::trailers::TrailerGenerator;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "/// Test the full workflow: capture changes, commit, and analyze with three-way diff",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "fn test_full_workflow() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    // Create a test repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    let dir = TempDir::new().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    // Configure git user",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    let mut config = repo.config().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    config.set_str(\"user.name\", \"Test User\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    config.set_str(\"user.email\", \"test@example.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    // Create initial file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    let file_path = dir.path().join(\"test.rs\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    fs::write(&file_path, \"fn main() {}\\n\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    // Initial commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "        let mut index = repo.index().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        index.add_path(std::path::Path::new(\"test.rs\")).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        index.write().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "        let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        let sig = Signature::now(\"Test User\", \"test@example.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "        repo.commit(Some(\"HEAD\"), &sig, &sig, \"Initial commit\", &tree, &[])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "            .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    // Simulate AI-assisted edit using v2 API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    let ai_content = r#\"fn main() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    println!(\"Hello, AI!\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "\"#;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    // Create pending buffer with v2 API",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    let mut buffer = PendingBuffer::new(\"test-session-123\", \"claude-opus-4-5-20251101\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    buffer.record_edit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "        \"test.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "        Some(\"fn main() {}\\n\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "        ai_content,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        \"Add greeting to main function\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "        None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    // Verify pending changes captured",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    assert!(buffer.has_changes());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    assert_eq!(buffer.file_count(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    let history = buffer.get_file_history(\"test.rs\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    assert_eq!(history.edits.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    assert_eq!(history.original.content, \"fn main() {}\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    assert!(history.edits[0].after.content.contains(\"println\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    // Simulate user manually adding a line before committing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    let final_content = r#\"// Author: Test User",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "fn main() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    println!(\"Hello, AI!\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "\"#;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    fs::write(&file_path, final_content).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    // Perform three-way analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    let result = ThreeWayAnalyzer::analyze_with_diff(history, final_content);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    // Verify attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    assert_eq!(result.path, \"test.rs\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    // Should detect the comment as human-added",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    assert!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "        result.summary.human_lines >= 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        \"Should have at least 1 human line\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    // Should detect some AI lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    assert!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        result.summary.ai_lines >= 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        \"Should have at least 1 AI line\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    // Verify we can identify the human-added comment line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    let first_line = &result.lines[0];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    assert!(first_line.content.contains(\"Author\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    assert!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        first_line.source.is_human(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "        \"First line should be human-added\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "/// Test that privacy redaction works",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "fn test_privacy_redaction() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    let redactor = whogitit::privacy::Redactor::default_patterns();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    let sensitive = \"Use api_key = sk-secret123 for auth with user@email.com\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    let redacted = redactor.redact(sensitive);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    assert!(!redacted.contains(\"sk-secret123\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    assert!(!redacted.contains(\"user@email.com\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    assert!(redacted.contains(\"[REDACTED]\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "/// Test trailers generation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "fn test_trailers() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    use whogitit::capture::snapshot::{AttributionSummary, FileAttributionResult};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    use whogitit::core::attribution::ModelInfo;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            session_id: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            prompt_count: 5,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "            subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "        prompts: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            lines: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                total_lines: 10,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                ai_lines: 5,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "                ai_modified_lines: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "                human_lines: 3,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "                original_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "                unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    let trailers = TrailerGenerator::generate(&attribution);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    assert!(trailers.iter().any(|(k, _)| k == \"AI-Session\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    assert!(trailers.iter().any(|(k, _)| k == \"AI-Model\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    assert!(trailers",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        .any(|(k, v)| k == \"Co-Authored-By\" && v.contains(\"Claude\")));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "/// Test multiple AI edits on the same file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "fn test_multiple_ai_edits() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    let mut buffer = PendingBuffer::new(\"test-session\", \"claude-opus-4-5-20251101\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    // First AI edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    buffer.record_edit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        \"test.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        Some(\"original\\n\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        \"original\\nfirst_ai_line\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "        \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        \"First prompt: add a line\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    // Second AI edit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    buffer.record_edit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        \"test.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        None, // Not needed - will use last AI state",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "        \"original\\nfirst_ai_line\\nsecond_ai_line\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        \"Edit\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        \"Second prompt: add another line\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    // Verify edit history",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "    let history = buffer.get_file_history(\"test.rs\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    assert_eq!(history.edits.len(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "    assert_eq!(history.edits[0].prompt_index, 0);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    assert_eq!(history.edits[1].prompt_index, 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    // The second edit should reference the first edit's output as its input",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    assert_eq!(history.edits[1].before.content, \"original\\nfirst_ai_line\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    // Analyze final content matching AI exactly",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    let result = ThreeWayAnalyzer::analyze(history, \"original\\nfirst_ai_line\\nsecond_ai_line\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "    // \"original\" exists in BOTH the original file AND AI output → Original (unchanged)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    // \"first_ai_line\" and \"second_ai_line\" only exist in AI output → AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    assert_eq!(result.summary.ai_lines, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    assert_eq!(result.summary.original_lines, 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "    // Lines are attributed to the last edit that included them",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    // Since all 3 lines appear in edit 1's output, they all have prompt_index 1",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    let second_ai = result",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        .lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        .find(|l| l.content == \"second_ai_line\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "        .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "    assert_eq!(second_ai.prompt_index, Some(1));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "/// Test detecting human modifications to AI code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "fn test_human_modifies_ai_code() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    let mut buffer = PendingBuffer::new(\"test-session\", \"claude-opus-4-5-20251101\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "    buffer.record_edit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        \"test.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "        Some(\"\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        \"fn hello() {\\n    println!(\\\"hello\\\");\\n}\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        \"Write\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        \"Create hello function\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    let history = buffer.get_file_history(\"test.rs\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    // Human modifies the println line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "    let final_content = \"fn hello() {\\n    println!(\\\"hello, world!\\\");\\n}\\n\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "    let result = ThreeWayAnalyzer::analyze_with_diff(history, final_content);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    // The \"fn hello() {\" line should still be AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    let fn_line = result",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        .lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        .find(|l| l.content.contains(\"fn hello\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    assert!(fn_line.source.is_ai(), \"fn line should be AI\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "    // The modified println line should be detected as AIModified or Human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    let _println_line = result",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "        .lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        .find(|l| l.content.contains(\"println\"))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "    // It might be detected as AIModified if similar enough, or Human if different enough",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    // Either is acceptable - the key is we don't mark it as pure AI",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "/// Test line attribution for new file creation",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "fn test_new_file_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "    let mut buffer = PendingBuffer::new(\"test-session\", \"claude-opus-4-5-20251101\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "    buffer.record_edit(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        \"new_file.rs\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "        None, // New file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "        \"// New file\\nfn new_func() {}\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        \"Write\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        \"Create new file\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "        None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "    let history = buffer.get_file_history(\"new_file.rs\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    assert!(history.was_new_file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "    assert!(history.original.content.is_empty());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "    // All content was AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "    let result = ThreeWayAnalyzer::analyze(history, \"// New file\\nfn new_func() {}\\n\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    assert_eq!(result.summary.ai_lines, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    assert_eq!(result.summary.human_lines, 0);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "    assert_eq!(result.summary.original_lines, 0);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "/// Test copying attribution between commits",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "#[test]",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "fn test_copy_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    use whogitit::capture::snapshot::{",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        AttributionSummary, FileAttributionResult, LineAttribution, LineSource,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    use whogitit::core::attribution::ModelInfo;",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "    let dir = TempDir::new().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "    let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "    // Configure git user",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "    let mut config = repo.config().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    config.set_str(\"user.name\", \"Test User\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    config.set_str(\"user.email\", \"test@example.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "    // Create first commit",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "    let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "    let tree_id = repo.index().unwrap().write_tree().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "    let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    let first_commit = repo",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "        .commit(Some(\"HEAD\"), &sig, &sig, \"First commit\", &tree, &[])",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "        .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "    // Create second commit",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "    fs::write(dir.path().join(\"file.txt\"), \"content\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "    let mut index = repo.index().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "    index.add_path(std::path::Path::new(\"file.txt\")).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "    index.write().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "    let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "    let second_commit = repo",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "        .commit(",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "            Some(\"HEAD\"),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "            &sig,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "            &sig,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "            \"Second commit\",",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "            &tree,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "            &[&repo.find_commit(first_commit).unwrap()],",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "        )",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "        .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "    let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "    // Add attribution to first commit",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "        version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "        session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "            session_id: \"copy-test-session\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "            model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "            started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "            prompt_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "            used_plan_mode: false,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "            subagent_count: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "        },",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "        prompts: vec![PromptInfo {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "            index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "            text: \"Test copy functionality\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "            timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "            affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "        }],",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "        files: vec![FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "            lines: vec![LineAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "                line_number: 1,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "                content: \"fn test() {}\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "                source: LineSource::AI {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "                edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "                prompt_index: Some(0),",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "                confidence: 1.0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            summary: AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "                total_lines: 1,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "                ai_lines: 1,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "                ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "                human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "                original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "                unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "        }],",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "    };",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "    store.store_attribution(first_commit, &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    // Verify first has attribution, second doesn't",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "    assert!(store.has_attribution(first_commit));",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "    assert!(!store.has_attribution(second_commit));",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    // Copy attribution",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "    store.copy_attribution(first_commit, second_commit).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 0.9682539682539683
        },
        {
          "line_number": 364,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    // Verify both now have attribution",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "    assert!(store.has_attribution(first_commit));",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    assert!(store.has_attribution(second_commit));",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "    // Verify content matches",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "    let original = store.fetch_attribution(first_commit).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "    let copied = store.fetch_attribution(second_commit).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "    assert_eq!(original.session.session_id, copied.session.session_id);",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "    assert_eq!(original.prompts.len(), copied.prompts.len());",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "    assert_eq!(original.files.len(), copied.files.len());",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5"
          },
          "edit_id": "96f8cfde-cada-468b-94ea-9dbe790cbfb5",
          "prompt_index": 43,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "/// Test storing and fetching attribution from git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "#[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "fn test_notes_roundtrip() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "    use whogitit::capture::snapshot::{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "        AttributionSummary, FileAttributionResult, LineAttribution, LineSource,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "    use whogitit::core::attribution::ModelInfo;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "    let dir = TempDir::new().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "    let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "    // Create initial commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "    {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "        let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "        let tree_id = repo.index().unwrap().write_tree().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "        repo.commit(Some(\"HEAD\"), &sig, &sig, \"Initial\", &tree, &[])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "            .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "    let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "    let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "    let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "        session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "            session_id: \"test-session\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "            model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "            started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "            prompt_count: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "            used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "            subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "        },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "        prompts: vec![PromptInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "            index: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "            text: \"Create test function\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "            timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "            affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "        }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "        files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "            lines: vec![LineAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "                line_number: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "                content: \"fn test() {}\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "                source: LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "                    edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "                edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "                prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "                confidence: 1.0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "            summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "                total_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "                ai_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "                ai_modified_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "                human_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "                original_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "                unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "        }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "    // Store",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "    store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "    // Fetch and verify",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "    let fetched = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "    assert_eq!(fetched.version, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "    assert_eq!(fetched.session.session_id, \"test-session\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "    assert_eq!(fetched.files.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "    assert_eq!(fetched.prompts.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "    assert_eq!(fetched.prompts[0].text, \"Create test function\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 449,
        "ai_lines": 105,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 344,
        "unknown_lines": 0
      }
    }
  ]
}