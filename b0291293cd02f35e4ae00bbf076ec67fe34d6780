{
  "version": 2,
  "session": {
    "session_id": "834cd8c1-1826-4540-9019-1a39caacfa65",
    "model": {
      "id": "claude-opus-4-5-20251101",
      "provider": "anthropic"
    },
    "started_at": "2026-02-01T02:49:06.239038+00:00",
    "prompt_count": 19
  },
  "prompts": [
    {
      "index": 0,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:49:06.239272+00:00",
      "affected_files": [
        "src/cli/summary.rs"
      ]
    },
    {
      "index": 1,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:49:56.176002+00:00",
      "affected_files": [
        "src/cli/export.rs"
      ]
    },
    {
      "index": 2,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:50:40.523002+00:00",
      "affected_files": [
        "src/cli/retention.rs"
      ]
    },
    {
      "index": 3,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:51:08.625407+00:00",
      "affected_files": [
        "src/cli/blame.rs"
      ]
    },
    {
      "index": 4,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:51:31.489185+00:00",
      "affected_files": [
        "src/cli/prompt.rs"
      ]
    },
    {
      "index": 5,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:52:24.445143+00:00",
      "affected_files": [
        "src/cli/blame.rs"
      ]
    },
    {
      "index": 6,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:52:55.373418+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 7,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:53:18.982824+00:00",
      "affected_files": [
        "src/cli/audit.rs"
      ]
    },
    {
      "index": 8,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:53:43.317914+00:00",
      "affected_files": [
        "src/cli/redact.rs"
      ]
    },
    {
      "index": 9,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:53:53.036418+00:00",
      "affected_files": [
        "src/cli/audit.rs"
      ]
    },
    {
      "index": 10,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:53:57.170001+00:00",
      "affected_files": [
        "src/cli/audit.rs"
      ]
    },
    {
      "index": 11,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:54:01.792619+00:00",
      "affected_files": [
        "src/cli/audit.rs"
      ]
    },
    {
      "index": 12,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:54:06.831247+00:00",
      "affected_files": [
        "src/cli/retention.rs"
      ]
    },
    {
      "index": 13,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:54:12.076384+00:00",
      "affected_files": [
        "src/cli/retention.rs"
      ]
    },
    {
      "index": 14,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:54:23.767725+00:00",
      "affected_files": [
        "src/cli/show.rs"
      ]
    },
    {
      "index": 15,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:55:11.546294+00:00",
      "affected_files": [
        "src/storage/notes.rs"
      ]
    },
    {
      "index": 16,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:55:45.065388+00:00",
      "affected_files": [
        "src/core/attribution.rs"
      ]
    },
    {
      "index": 17,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:56:36.200477+00:00",
      "affected_files": [
        "src/cli/audit.rs"
      ]
    },
    {
      "index": 18,
      "text": "\"Checkout to main and pull the latest. Then checkout to a new branch for adding test coverage. Identify any and all gaps in test coverage in the entire package and create additional tests until we have sufficient and comprehensive test coverage for all logic\"",
      "timestamp": "2026-02-01T02:56:44.080159+00:00",
      "affected_files": [
        "src/cli/blame.rs"
      ]
    }
  ],
  "files": [
    {
      "path": "src/cli/prompt.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{bail, Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::core::blame::AIBlamer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::utils::{pad_right, truncate, word_wrap};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Prompt command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub struct PromptArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// File and line reference (e.g., \"src/main.rs:42\" or \"src/main.rs\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub reference: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// Output as JSON",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub json: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "/// Parsed file:line reference",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "struct FileLineRef {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    file: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    line: Option<u32>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "impl FileLineRef {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    fn parse(reference: &str) -> Result<Self> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "        if let Some((file, line_str)) = reference.rsplit_once(':') {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            // Check if the part after : is actually a line number",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "            if let Ok(line) = line_str.parse::<u32>() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "                return Ok(Self {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "                    file: file.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "                    line: Some(line),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "                });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "        // No line number, just a file path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "        Ok(Self {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "            file: reference.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "            line: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "/// Run the prompt command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "pub fn run(args: PromptArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    // Parse reference",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    let file_ref = FileLineRef::parse(&args.reference)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    // Open repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    // Create blamer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    let mut blamer = AIBlamer::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    // Run blame to find AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    let result = blamer.blame(&file_ref.file, None)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    // Find the relevant line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    let target_line = match file_ref.line {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        Some(line) => result.lines.iter().find(|l| l.line_number == line),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "            // Find first AI-generated line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "            result.lines.iter().find(|l| l.source.is_ai())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    let line = match target_line {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        Some(l) => l,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            if let Some(line_num) = file_ref.line {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "                bail!(\"Line {} not found in {}\", line_num, file_ref.file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "                bail!(\"No AI-generated lines found in {}\", file_ref.file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    if !line.source.is_ai() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        bail!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "            \"Line {} in {} was not AI-generated\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "            line.line_number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "            file_ref.file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    // Get attribution for more details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    let attribution = blamer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        .get_commit_attribution(&line.commit_id)?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "        .context(\"Failed to fetch attribution data\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    // Get the prompt info",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    let prompt_info = line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        .prompt_index",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "        .and_then(|idx| attribution.get_prompt(idx));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    if args.json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        let output = serde_json::json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "            \"file\": file_ref.file,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "            \"line\": line.line_number,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            \"commit\": line.commit_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "            \"source\": format!(\"{:?}\", line.source),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "            \"prompt_index\": line.prompt_index,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "            \"prompt_text\": prompt_info.map(|p| &p.text),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "            \"session\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "                \"id\": attribution.session.session_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                \"model\": attribution.session.model.id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "                \"started_at\": attribution.session.started_at,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&output)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        match prompt_info {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "            Some(prompt) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "                print_prompt_box(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "                    prompt,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "                    &attribution.session.session_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "                    &attribution.session.model.id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "                    &attribution.session.started_at,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "                );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "                println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "                    \"Line {} is AI-generated but prompt details are not available.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "                    line.line_number",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        println!(\"File: {}:{}\", file_ref.file, line.line_number);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        println!(\"Commit: {}\", line.commit_short);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        println!(\"Source: {:?}\", line.source);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "fn print_prompt_box(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    prompt: &crate::core::attribution::PromptInfo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    session_id: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "    model: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    timestamp: &str,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": ") {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    // Box top",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    println!(\"╔{}╗\", \"═\".repeat(68));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    // Header",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        \"║  {} #{} in session {}  \",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        \"PROMPT\".bold(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        prompt.index,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "        truncate(session_id, 20)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    println!(\"║  Model: {} | {}  \", model.cyan(), timestamp.dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    // Separator",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    println!(\"╠{}╣\", \"═\".repeat(68));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    // Prompt content with word wrap",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    for line in word_wrap(&prompt.text, 64) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        println!(\"║  {}  ║\", pad_right(&line, 64));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    // Box bottom",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    println!(\"╚{}╝\", \"═\".repeat(68));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    // Files affected",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    if !prompt.affected_files.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        println!(\"{}\", \"Files affected by this prompt:\".dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        for file in &prompt.affected_files {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            println!(\"  - {}\", file);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    // FileLineRef::parse tests",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    fn test_parse_file_with_line() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        let result = FileLineRef::parse(\"src/main.rs:42\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        assert_eq!(result.file, \"src/main.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        assert_eq!(result.line, Some(42));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    fn test_parse_file_without_line() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        let result = FileLineRef::parse(\"src/main.rs\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        assert_eq!(result.file, \"src/main.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        assert_eq!(result.line, None);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    fn test_parse_file_with_line_1() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        let result = FileLineRef::parse(\"test.rs:1\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "        assert_eq!(result.file, \"test.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "        assert_eq!(result.line, Some(1));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "    fn test_parse_file_with_large_line_number() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        let result = FileLineRef::parse(\"test.rs:99999\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        assert_eq!(result.file, \"test.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        assert_eq!(result.line, Some(99999));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "    fn test_parse_nested_path_with_line() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        let result = FileLineRef::parse(\"src/cli/blame.rs:123\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        assert_eq!(result.file, \"src/cli/blame.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        assert_eq!(result.line, Some(123));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "    fn test_parse_file_with_colon_in_path() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        // Windows-style path C:\\file.rs:10 should parse correctly",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        // The last colon followed by a number is the line",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        let result = FileLineRef::parse(\"C:\\\\folder\\\\file.rs:10\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "        assert_eq!(result.file, \"C:\\\\folder\\\\file.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "        assert_eq!(result.line, Some(10));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    fn test_parse_file_with_colon_not_number() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        // If the part after colon is not a number, treat whole thing as filename",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        let result = FileLineRef::parse(\"file:name.rs\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        assert_eq!(result.file, \"file:name.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        assert_eq!(result.line, None);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "    fn test_parse_file_trailing_colon() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        // Trailing colon with no number",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        let result = FileLineRef::parse(\"file.rs:\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        assert_eq!(result.file, \"file.rs:\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "        assert_eq!(result.line, None);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    fn test_parse_file_with_zero_line() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        // Line 0 should still parse",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        let result = FileLineRef::parse(\"file.rs:0\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        assert_eq!(result.file, \"file.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        assert_eq!(result.line, Some(0));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "    fn test_parse_absolute_path() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        let result = FileLineRef::parse(\"/home/user/project/src/main.rs:100\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "        assert_eq!(result.file, \"/home/user/project/src/main.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        assert_eq!(result.line, Some(100));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "    fn test_parse_relative_path() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        let result = FileLineRef::parse(\"./src/lib.rs:50\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        assert_eq!(result.file, \"./src/lib.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        assert_eq!(result.line, Some(50));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "    fn test_parse_parent_dir_path() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        let result = FileLineRef::parse(\"../other/file.rs:25\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        assert_eq!(result.file, \"../other/file.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        assert_eq!(result.line, Some(25));",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "    fn test_parse_empty_string() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        let result = FileLineRef::parse(\"\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "        assert_eq!(result.file, \"\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        assert_eq!(result.line, None);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "    // PromptArgs tests",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    fn test_prompt_args_structure() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        let args = PromptArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "            reference: \"src/main.rs:42\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "        assert_eq!(args.reference, \"src/main.rs:42\");",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "        assert!(!args.json);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "    fn test_prompt_args_json_output() {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "        let args = PromptArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "            reference: \"file.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "            json: true,",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        assert!(args.json);",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112"
          },
          "edit_id": "4ce99a7f-00e2-4ed5-b812-9f69d88b4112",
          "prompt_index": 4,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 302,
        "ai_lines": 124,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 178,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/retention.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Retention command for data retention policy management",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use chrono::{DateTime, Duration, Utc};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use std::collections::HashSet;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use crate::privacy::WhogititConfig;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "/// Arguments for retention command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "pub struct RetentionArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// Subcommand",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    #[command(subcommand)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    pub action: RetentionAction,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "/// Retention subcommands",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "#[derive(Debug, clap::Subcommand)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "pub enum RetentionAction {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    /// Preview what would be deleted based on current policy",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    Preview,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    /// Apply retention policy (dry-run by default)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    Apply {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        /// Actually delete (without this flag, does a dry-run)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "        #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "        execute: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "        /// Reason for deletion (for audit log)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        reason: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Show current retention configuration",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    Config,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "/// Run the retention command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "pub fn run(args: RetentionArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    match args.action {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "        RetentionAction::Preview => run_preview(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        RetentionAction::Apply { execute, reason } => run_apply(execute, reason),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        RetentionAction::Config => run_config(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "fn run_preview() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    let config = WhogititConfig::load(repo_root).unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    let retention = config.retention.unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    let commits = notes_store.list_attributed_commits()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    if commits.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "        println!(\"No attribution data found.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    // Build set of retained refs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    let retained_commits = get_retained_commits(&repo, &retention.retain_refs)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    // Calculate cutoff date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    let cutoff = retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        .max_age_days",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        .map(|days| Utc::now() - Duration::days(days as i64));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    // Analyze commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    let mut to_delete = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    let mut to_keep = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    for commit_oid in commits {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "        let commit = repo.find_commit(commit_oid)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "        let commit_time =",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "            DateTime::from_timestamp(commit.time().seconds(), 0).unwrap_or(DateTime::UNIX_EPOCH);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        let is_retained = retained_commits.contains(&commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        let is_old = cutoff.map(|c| commit_time < c).unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        if is_old && !is_retained {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "            to_delete.push((commit_oid, commit));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "            to_keep.push((commit_oid, commit));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    // Apply min_commits if specified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    let min_keep = retention.min_commits.unwrap_or(0) as usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    if to_keep.len() < min_keep && !to_delete.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        // Move some from delete to keep",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        let need = min_keep - to_keep.len();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "        let save_count = need.min(to_delete.len());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        for _ in 0..save_count {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "            if let Some(item) = to_delete.pop() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "                to_keep.push(item);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    // Print summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    println!(\"{}\", \"Retention Policy Preview\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    println!(\"{}\", \"=\".repeat(50));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    if let Some(days) = retention.max_age_days {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "        println!(\"Max age: {} days\", days);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "        println!(\"Max age: unlimited\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    if !retention.retain_refs.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        println!(\"Retained refs: {}\", retention.retain_refs.join(\", \"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    if let Some(min) = retention.min_commits {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "        println!(\"Min commits to keep: {}\", min);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    println!(\"{} {} commits to keep\", \"●\".green(), to_keep.len());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    println!(\"{} {} commits to delete\", \"●\".red(), to_delete.len());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "    if !to_delete.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        println!(\"Commits that would be deleted:\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        for (oid, commit) in &to_delete {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "            let short = &oid.to_string()[..7];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            let msg = commit.summary().unwrap_or(\"(no message)\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "            let time = DateTime::from_timestamp(commit.time().seconds(), 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "                .unwrap_or(DateTime::UNIX_EPOCH);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "                \"  {} {} ({}) - {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                short.red(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                msg,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "                time.format(\"%Y-%m-%d\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "                \"would be deleted\".dimmed()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        println!(\"Run 'whogitit retention apply --execute' to delete these.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "fn run_apply(execute: bool, reason: Option<String>) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "    let config = WhogititConfig::load(repo_root).unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "    let retention = config.retention.unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    let commits = notes_store.list_attributed_commits()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "    if commits.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        println!(\"No attribution data found.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    // Build set of retained refs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    let retained_commits = get_retained_commits(&repo, &retention.retain_refs)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    // Calculate cutoff date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    let cutoff = retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        .max_age_days",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        .map(|days| Utc::now() - Duration::days(days as i64));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    // Analyze commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "    let mut to_delete = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    let mut to_keep = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    for commit_oid in commits {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        let commit = repo.find_commit(commit_oid)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        let commit_time =",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            DateTime::from_timestamp(commit.time().seconds(), 0).unwrap_or(DateTime::UNIX_EPOCH);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        let is_retained = retained_commits.contains(&commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        let is_old = cutoff.map(|c| commit_time < c).unwrap_or(false);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        if is_old && !is_retained {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "            to_delete.push(commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "            to_keep.push(commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "    // Apply min_commits if specified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    let min_keep = retention.min_commits.unwrap_or(0) as usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    if to_keep.len() < min_keep && !to_delete.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        let need = min_keep - to_keep.len();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        let save_count = need.min(to_delete.len());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "        for _ in 0..save_count {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "            if let Some(oid) = to_delete.pop() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "                to_keep.push(oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    if to_delete.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "        println!(\"No commits to delete based on current policy.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "    if !execute {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "            \"{} {} commits would be deleted (dry-run)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "            \"Preview:\".yellow(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "            to_delete.len()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        println!(\"Run with --execute to actually delete.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "    // Actually delete",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    let reason_str = reason.unwrap_or_else(|| \"Retention policy\".to_string());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    for commit_oid in &to_delete {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        notes_store.remove_attribution(*commit_oid)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        \"{} Deleted attribution for {} commits\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        \"Done:\".green(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        to_delete.len()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    println!(\"Reason: {}\", reason_str);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "fn run_config() -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    let config = WhogititConfig::load(repo_root).unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    let retention = config.retention.unwrap_or_default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "    println!(\"{}\", \"Current Retention Configuration\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    println!(\"{}\", \"=\".repeat(50));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "    if WhogititConfig::exists_for_repo(repo_root) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "            \"Config file: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "            repo_root.join(\".whogitit.toml\").display()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        println!(\"Config file: {} (using defaults)\", \"(not found)\".dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        \"max_age_days: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "        retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "            .max_age_days",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "            .map(|d| d.to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "            .unwrap_or_else(|| \"(unlimited)\".to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    println!(\"auto_purge: {}\", retention.auto_purge);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "        \"retain_refs: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "        if retention.retain_refs.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "            \"(none)\".to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "            retention.retain_refs.join(\", \")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        \"min_commits: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        retention",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "            .min_commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "            .map(|c| c.to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            .unwrap_or_else(|| \"(none)\".to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "    println!(\"{}\", \"Example configuration:\".dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        \"{}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "        r#\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "# .whogitit.toml",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "[retention]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "max_age_days = 365",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "auto_purge = false",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "retain_refs = [\"refs/heads/main\"]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "min_commits = 100",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "\"#",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "        .dimmed()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "/// Get all commits that are reachable from retained refs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "fn get_retained_commits(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "    repo: &git2::Repository,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    retain_refs: &[String],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": ") -> Result<HashSet<git2::Oid>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    let mut retained = HashSet::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "    for ref_name in retain_refs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "        if let Ok(reference) = repo.find_reference(ref_name) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "            if let Ok(commit) = reference.peel_to_commit() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "                // Walk the commit history",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "                let mut revwalk = repo.revwalk()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "                revwalk.push(commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "                for oid in revwalk.flatten() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "                    retained.insert(oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "    Ok(retained)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "/// Apply min_commits logic - returns (to_delete, to_keep) counts after adjustment",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "/// This is extracted for testing purposes",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "#[allow(dead_code)]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "fn apply_min_commits(",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "    to_delete_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "    to_keep_count: usize,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "    min_commits: Option<u32>,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": ") -> (usize, usize) {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "    let min_keep = min_commits.unwrap_or(0) as usize;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "    if to_keep_count >= min_keep || to_delete_count == 0 {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "        return (to_delete_count, to_keep_count);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "    // Need to save some from deletion",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "    let need = min_keep - to_keep_count;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "    let save_count = need.min(to_delete_count);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "    (to_delete_count - save_count, to_keep_count + save_count)",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "/// Check if a commit is old based on cutoff",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "#[allow(dead_code)]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "fn is_commit_old(commit_time: DateTime<Utc>, max_age_days: Option<u32>) -> bool {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "    match max_age_days {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "        Some(days) => {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "            let cutoff = Utc::now() - Duration::days(days as i64);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "            commit_time < cutoff",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "        None => false,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "    use chrono::TimeZone;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    // RetentionAction enum tests",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    fn test_retention_action_variants() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        let _preview = RetentionAction::Preview;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "        let _apply = RetentionAction::Apply {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "            execute: false,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "            reason: None,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "        let _config = RetentionAction::Config;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "    fn test_retention_apply_with_reason() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "        let action = RetentionAction::Apply {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "            execute: true,",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "            reason: Some(\"GDPR request\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        match action {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "            RetentionAction::Apply { execute, reason } => {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "                assert!(execute);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "                assert_eq!(reason, Some(\"GDPR request\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "            }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "            _ => panic!(\"Wrong variant\"),",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "    // apply_min_commits tests",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "    fn test_apply_min_commits_no_limit() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "        // No min_commits specified - keep original counts",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "        let (delete, keep) = apply_min_commits(5, 10, None);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "        assert_eq!(delete, 5);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "        assert_eq!(keep, 10);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "    fn test_apply_min_commits_already_met() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        // Already have enough to keep",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "        let (delete, keep) = apply_min_commits(5, 100, Some(50));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "        assert_eq!(delete, 5);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "        assert_eq!(keep, 100);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "    fn test_apply_min_commits_save_some() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "        // Need to save some from deletion",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "        // Have 10 to delete, 30 to keep, need min 50",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "        // Need to save 20, but only have 10 to delete",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "        let (delete, keep) = apply_min_commits(10, 30, Some(50));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "        assert_eq!(delete, 0); // All 10 saved",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "        assert_eq!(keep, 40); // 30 + 10 saved",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "    fn test_apply_min_commits_save_partial() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "        // Need to save some from deletion",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "        // Have 30 to delete, 10 to keep, need min 25",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "        // Need 15, have 30 available",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "        let (delete, keep) = apply_min_commits(30, 10, Some(25));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "        assert_eq!(delete, 15); // 30 - 15 saved",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "        assert_eq!(keep, 25); // 10 + 15 = exactly min",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "    fn test_apply_min_commits_nothing_to_delete() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "        // Nothing to delete - should do nothing",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "        let (delete, keep) = apply_min_commits(0, 5, Some(100));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "        assert_eq!(delete, 0);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "        assert_eq!(keep, 5);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "    fn test_apply_min_commits_zero_min() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "        // min_commits = 0 should be treated as no minimum",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "        let (delete, keep) = apply_min_commits(10, 5, Some(0));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "        assert_eq!(delete, 10);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "        assert_eq!(keep, 5);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "    // is_commit_old tests",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "    fn test_is_commit_old_no_max_age() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "        let commit_time = Utc.with_ymd_and_hms(2020, 1, 1, 0, 0, 0).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "        assert!(!is_commit_old(commit_time, None));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "    fn test_is_commit_old_recent_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "        // Commit from 1 day ago with 30 day max age",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "        let commit_time = Utc::now() - Duration::days(1);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "        assert!(!is_commit_old(commit_time, Some(30)));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "    fn test_is_commit_old_old_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "        // Commit from 100 days ago with 30 day max age",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "        let commit_time = Utc::now() - Duration::days(100);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "        assert!(is_commit_old(commit_time, Some(30)));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "    fn test_is_commit_old_exactly_at_cutoff() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "        // Commit from exactly 30 days ago with 30 day max age",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "        // Due to sub-second timing, this could go either way",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "        // Just verify it doesn't panic",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "        let commit_time = Utc::now() - Duration::days(30);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "        let _ = is_commit_old(commit_time, Some(30));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "    fn test_is_commit_old_future_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "        // Edge case: commit in the future",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "        let commit_time = Utc::now() + Duration::days(10);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "        assert!(!is_commit_old(commit_time, Some(30)));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "    fn test_is_commit_old_zero_max_age() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "        // Zero max age - everything is old except future commits",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "        let commit_time = Utc::now() - Duration::seconds(1);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "        assert!(is_commit_old(commit_time, Some(0)));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "    fn test_is_commit_old_very_old_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "        // Very old commit",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "        let commit_time = Utc.with_ymd_and_hms(2000, 1, 1, 0, 0, 0).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "        assert!(is_commit_old(commit_time, Some(365)));",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "    // Integration test for delete/keep classification logic",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "    fn test_retention_classification_logic() {",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "        // Simulate the retention classification logic",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "        let now = Utc::now();",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "        let old_time = now - Duration::days(100);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "        let recent_time = now - Duration::days(10);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "        let max_age_days = Some(30u32);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "        // Old commit, not retained",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "        let is_old1 = is_commit_old(old_time, max_age_days);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "        let is_retained1 = false;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "        let should_delete1 = is_old1 && !is_retained1;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "        assert!(should_delete1);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "        // Recent commit, not retained",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "        let is_old2 = is_commit_old(recent_time, max_age_days);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "        let is_retained2 = false;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "        let should_delete2 = is_old2 && !is_retained2;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "        assert!(!should_delete2);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "        // Old commit, but retained",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "        let is_old3 = is_commit_old(old_time, max_age_days);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "        let is_retained3 = true;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "        let should_delete3 = is_old3 && !is_retained3;",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "        assert!(!should_delete3);",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f"
          },
          "edit_id": "15db6c69-a215-4048-91ed-dbe2daad982f",
          "prompt_index": 13,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 522,
        "ai_lines": 199,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 323,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/storage/notes.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use git2::{Oid, Repository, Signature};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use crate::core::attribution::AIAttribution;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "/// Notes reference used for AI attribution storage",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "pub const NOTES_REF: &str = \"refs/notes/whogitit\";",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Git notes storage for AI attribution data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub struct NotesStore<'a> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    repo: &'a Repository,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "impl<'a> NotesStore<'a> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub fn new(repo: &'a Repository) -> Result<Self> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "        Ok(Self { repo })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    /// Store attribution data as a git note on a commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub fn store_attribution(&self, commit_oid: Oid, attribution: &AIAttribution) -> Result<Oid> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        let json = serde_json::to_string_pretty(attribution)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "            .context(\"Failed to serialize attribution to JSON\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        let note_oid = self",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "            .repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "            .note(&sig, &sig, Some(NOTES_REF), commit_oid, &json, true)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "            .context(\"Failed to create git note\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "        Ok(note_oid)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Fetch attribution data from a git note",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    pub fn fetch_attribution(&self, commit_oid: Oid) -> Result<Option<AIAttribution>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "        match self.repo.find_note(Some(NOTES_REF), commit_oid) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "            Ok(note) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "                if let Some(message) = note.message() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "                    let attribution: AIAttribution = serde_json::from_str(message)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "                        .context(\"Failed to parse attribution JSON\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "                    Ok(Some(attribution))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "                } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "                    Ok(None)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            Err(e) if e.code() == git2::ErrorCode::NotFound => Ok(None),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "            Err(e) => Err(e).context(\"Failed to read git note\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    /// Check if a commit has AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    pub fn has_attribution(&self, commit_oid: Oid) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        self.repo.find_note(Some(NOTES_REF), commit_oid).is_ok()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    /// Remove attribution from a commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    pub fn remove_attribution(&self, commit_oid: Oid) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "        let sig = self.get_signature()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        self.repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            .note_delete(commit_oid, Some(NOTES_REF), &sig, &sig)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            .context(\"Failed to delete git note\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    /// Get default signature from git config",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    fn get_signature(&self) -> Result<Signature<'static>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "        if let Ok(sig) = self.repo.signature() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            return Ok(Signature::now(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "                sig.name().unwrap_or(\"whogitit\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "                sig.email().unwrap_or(\"whogitit@local\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "            )?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        Ok(Signature::now(\"whogitit\", \"whogitit@local\")?)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    /// List all commits with AI attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    pub fn list_attributed_commits(&self) -> Result<Vec<Oid>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "        let mut commits = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        if let Ok(notes) = self.repo.notes(Some(NOTES_REF)) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "            for (_, commit_oid) in notes.flatten() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "                commits.push(commit_oid);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "        Ok(commits)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "#[cfg(test)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "mod tests {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    use super::*;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    use crate::capture::snapshot::{",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        AttributionSummary, FileAttributionResult, LineAttribution, LineSource,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    use crate::core::attribution::{ModelInfo, PromptInfo, SessionMetadata};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    use tempfile::TempDir;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    fn create_test_repo() -> (TempDir, Repository) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        let dir = TempDir::new().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        let repo = Repository::init(dir.path()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "        {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "            let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "            let tree_id = {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "                let mut index = repo.index().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "                index.write_tree().unwrap()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "            let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            repo.commit(Some(\"HEAD\"), &sig, &sig, \"Initial commit\", &tree, &[])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "                .unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        (dir, repo)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    fn test_store_and_fetch_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                session_id: \"test-session\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            prompts: vec![PromptInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "                index: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "                text: \"Test prompt\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "                timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "                affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "                lines: vec![LineAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "                    line_number: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "                    content: \"fn test() {}\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "                    source: LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "                        edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "                    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "                    edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "                    prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "                    confidence: 1.0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "                }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                    total_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "                    ai_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "                    ai_modified_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "                    human_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "                    original_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        let fetched = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        assert_eq!(fetched.version, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "        assert_eq!(fetched.session.session_id, \"test-session\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        assert_eq!(fetched.files.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "        assert_eq!(fetched.prompts.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    fn test_fetch_nonexistent_attribution() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "        let result = store.fetch_attribution(head.id()).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        assert!(result.is_none());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    fn test_has_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "        // Before storing - should return false",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "        assert!(!store.has_attribution(head.id()));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "        // Store attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        let attribution = create_minimal_attribution(\"test-has\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "        // After storing - should return true",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "    fn test_remove_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        // Store attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        let attribution = create_minimal_attribution(\"test-remove\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        store.store_attribution(head.id(), &attribution).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        assert!(store.has_attribution(head.id()));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        // Remove attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "        store.remove_attribution(head.id()).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        // After removal - should not have attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "        assert!(!store.has_attribution(head.id()));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        assert!(store.fetch_attribution(head.id()).unwrap().is_none());",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "    fn test_list_attributed_commits_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        // No commits with attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        let commits = store.list_attributed_commits().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        assert!(commits.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    fn test_list_attributed_commits() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        let (dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "        // Get first commit",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        let first_commit = head.id();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        // Create another commit",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "        let sig = Signature::now(\"Test\", \"test@test.com\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "        std::fs::write(dir.path().join(\"test.txt\"), \"test content\").unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "        let mut index = repo.index().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "        index",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "            .add_path(std::path::Path::new(\"test.txt\"))",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "            .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        index.write().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        let tree_id = index.write_tree().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        let tree = repo.find_tree(tree_id).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "        let second_commit = repo",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "            .commit(",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "                Some(\"HEAD\"),",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "                &sig,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "                &sig,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "                \"Second commit\",",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "                &tree,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "                &[&repo.find_commit(first_commit).unwrap()],",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "            )",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "            .unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        // Store attribution on both commits",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        let attr1 = create_minimal_attribution(\"session-1\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        let attr2 = create_minimal_attribution(\"session-2\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "        store.store_attribution(first_commit, &attr1).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "        store.store_attribution(second_commit, &attr2).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "        // List should return both commits",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        let commits = store.list_attributed_commits().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        assert_eq!(commits.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        assert!(commits.contains(&first_commit));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        assert!(commits.contains(&second_commit));",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "    fn test_update_attribution() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "        let (_dir, repo) = create_test_repo();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        let store = NotesStore::new(&repo).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        let head = repo.head().unwrap().peel_to_commit().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        // Store initial attribution",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        let attr1 = create_minimal_attribution(\"session-v1\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "        store.store_attribution(head.id(), &attr1).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "        let fetched1 = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        assert_eq!(fetched1.session.session_id, \"session-v1\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "        // Update with new attribution (overwrite mode)",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "        let attr2 = create_minimal_attribution(\"session-v2\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "        store.store_attribution(head.id(), &attr2).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "        let fetched2 = store.fetch_attribution(head.id()).unwrap().unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "        assert_eq!(fetched2.session.session_id, \"session-v2\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "    fn test_notes_ref_constant() {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        assert_eq!(NOTES_REF, \"refs/notes/whogitit\");",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "    // Helper function to create minimal attribution for tests",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    fn create_minimal_attribution(session_id: &str) -> AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "        AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "                session_id: session_id.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "                model: ModelInfo::claude(\"test-model\"),",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "                prompt_count: 0,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "            files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6"
          },
          "edit_id": "b7f30b4a-2e16-42c5-9873-359e84b6b3e6",
          "prompt_index": 15,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 319,
        "ai_lines": 135,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 184,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/core/attribution.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use serde::{Deserialize, Serialize};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use crate::capture::snapshot::{FileAttributionResult, LineSource};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "/// Schema version for the attribution format (3 = with edit context)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "pub const SCHEMA_VERSION: u8 = 3;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Core attribution data attached to commits via git notes",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "///",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "/// Stores complete three-way diff analysis results, enabling accurate",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "/// attribution even when users modify AI-generated code before committing.",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "pub struct AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// Schema version",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub version: u8,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    /// AI session metadata",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub session: SessionMetadata,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    /// All prompts used in this session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    pub prompts: Vec<PromptInfo>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    /// Per-file attribution results from three-way analysis",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    pub files: Vec<FileAttributionResult>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "impl AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    /// Count total AI-generated lines across all files",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    pub fn total_ai_lines(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "        self.files.iter().map(|f| f.summary.ai_lines).sum()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    /// Count total AI-modified lines (AI code edited by human)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    pub fn total_ai_modified_lines(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        self.files.iter().map(|f| f.summary.ai_modified_lines).sum()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    /// Count total human-added lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    pub fn total_human_lines(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "        self.files.iter().map(|f| f.summary.human_lines).sum()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "    /// Count total original lines (unchanged from before AI edits)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    pub fn total_original_lines(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "        self.files.iter().map(|f| f.summary.original_lines).sum()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    /// Get prompt by index",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    pub fn get_prompt(&self, index: u32) -> Option<&PromptInfo> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        self.prompts.iter().find(|p| p.index == index)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "/// Information about a prompt in the session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "pub struct PromptInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    /// Prompt index within the session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "    pub index: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    /// Full prompt text (potentially redacted)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    pub text: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    /// Timestamp when prompt was processed",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    pub timestamp: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    /// Files affected by this prompt",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    pub affected_files: Vec<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "/// Metadata about the AI session that generated the code",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "pub struct SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    /// Unique session identifier (UUID)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    pub session_id: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    /// Model information",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    pub model: ModelInfo,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    /// When the session started (ISO 8601)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    pub started_at: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    /// Number of prompts in this session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    pub prompt_count: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    /// Whether plan mode was used in this session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    #[serde(default)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    pub used_plan_mode: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    /// Number of subagents spawned during this session",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    #[serde(default)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    pub subagent_count: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "/// Information about the AI model used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "#[derive(Debug, Clone, Serialize, Deserialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "pub struct ModelInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    /// Model identifier (e.g., \"claude-opus-4-5-20251101\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    pub id: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    /// Provider name (e.g., \"anthropic\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    pub provider: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "impl ModelInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    pub fn claude(model_id: &str) -> Self {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        Self {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            id: model_id.to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "            provider: \"anthropic\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "/// Result of blame operation for a single line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "#[derive(Debug, Clone)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "pub struct BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    /// Line number (1-indexed)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    pub line_number: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    /// The actual line content",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    pub content: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    /// Git commit that last modified this line",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    pub commit_id: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    /// Short commit hash (7 chars)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "    pub commit_short: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    /// Author name",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    pub author: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    /// Line source (AI, Human, Original, AIModified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    pub source: LineSource,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    /// If AI-generated, the prompt index",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    pub prompt_index: Option<u32>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    /// Prompt text preview if available",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    pub prompt_preview: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "impl BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    /// Check if this line was AI-generated (AI or AIModified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    pub fn is_ai(&self) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "        self.source.is_ai()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "    /// Check if this line was human-written (Human or Original)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "    pub fn is_human(&self) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        self.source.is_human()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "/// Result of blame operation for an entire file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "#[derive(Debug)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "pub struct BlameResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    /// File path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    pub path: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    /// Revision blamed against",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    pub revision: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    /// Per-line results",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "    pub lines: Vec<BlameLineResult>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "impl BlameResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    /// Count AI-generated lines (AI + AIModified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    pub fn ai_line_count(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "        self.lines.iter().filter(|l| l.source.is_ai()).count()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    /// Count pure AI lines (not modified by human)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    pub fn pure_ai_line_count(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        self.lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            .filter(|l| matches!(l.source, LineSource::AI { .. }))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "            .count()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "    /// Count AI-modified lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    pub fn ai_modified_line_count(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "        self.lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "            .filter(|l| matches!(l.source, LineSource::AIModified { .. }))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "            .count()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    /// Count human-added lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    pub fn human_line_count(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        self.lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "            .filter(|l| matches!(l.source, LineSource::Human))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "            .count()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "    /// Count original lines (unchanged)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "    pub fn original_line_count(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        self.lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "            .filter(|l| matches!(l.source, LineSource::Original))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "            .count()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "    /// Calculate percentage of AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    pub fn ai_percentage(&self) -> f64 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "        if self.lines.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "            (self.ai_line_count() as f64 / self.lines.len() as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "#[cfg(test)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "mod tests {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    use super::*;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    use crate::capture::snapshot::{AttributionSummary, LineAttribution};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    fn test_ai_attribution_totals() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "            version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "                session_id: \"test-123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "            prompts: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "                lines: vec![],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "                    total_lines: 10,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "                    ai_lines: 5,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "                    ai_modified_lines: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "                    human_lines: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "                    original_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        assert_eq!(attribution.total_ai_lines(), 5);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "        assert_eq!(attribution.total_ai_modified_lines(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "        assert_eq!(attribution.total_human_lines(), 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        assert_eq!(attribution.total_original_lines(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    fn test_blame_result_counts() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        let result = BlameResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            revision: \"HEAD\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "            lines: vec![",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "                BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "                    line_number: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "                    content: \"line1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "                    commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "                    commit_short: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "                    author: \"Test\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "                    source: LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "                        edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "                    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "                    prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "                    prompt_preview: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "                BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "                    line_number: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "                    content: \"line2\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "                    commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "                    commit_short: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "                    author: \"Test\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "                    source: LineSource::Human,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "                    prompt_index: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "                    prompt_preview: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "                BlameLineResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "                    line_number: 3,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "                    content: \"line3\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "                    commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "                    commit_short: \"abc123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "                    author: \"Test\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "                    source: LineSource::Original,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "                    prompt_index: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "                    prompt_preview: None,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "            ],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "        assert_eq!(result.ai_line_count(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        assert_eq!(result.human_line_count(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "        assert_eq!(result.original_line_count(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "    #[test]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    fn test_serialization_roundtrip() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            version: 2,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "                session_id: \"test-123\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "            },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "            prompts: vec![PromptInfo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "                index: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "                text: \"Add main function\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "                timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "                affected_files: vec![\"test.rs\".to_string()],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "            files: vec![FileAttributionResult {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "                path: \"test.rs\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "                lines: vec![LineAttribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "                    line_number: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "                    content: \"fn main() {}\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "                    source: LineSource::AI {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "                        edit_id: \"e1\".to_string(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "                    },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "                    edit_id: Some(\"e1\".to_string()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "                    prompt_index: Some(0),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "                    confidence: 1.0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "                }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "                summary: AttributionSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "                    total_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "                    ai_lines: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "                    ai_modified_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "                    human_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "                    original_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "                    unknown_lines: 0,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "                },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "            }],",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "        let json = serde_json::to_string(&attribution).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "        let parsed: AIAttribution = serde_json::from_str(&json).unwrap();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "        assert_eq!(parsed.version, 2);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "        assert_eq!(parsed.session.session_id, \"test-123\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "        assert_eq!(parsed.files.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "        assert_eq!(parsed.prompts.len(), 1);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "    fn test_blame_result_ai_percentage() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        let result = BlameResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "            revision: \"HEAD\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "            lines: vec![",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "                create_test_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "                create_test_line(2, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "                create_test_line(3, LineSource::Human),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "                create_test_line(4, LineSource::Original),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "        // 2 AI out of 4 = 50%",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "        assert!((result.ai_percentage() - 50.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "    fn test_blame_result_ai_percentage_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "        let result = BlameResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "            revision: \"HEAD\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "            lines: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "        assert!((result.ai_percentage() - 0.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "    fn test_blame_result_ai_percentage_all_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "        let result = BlameResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "            revision: \"HEAD\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "            lines: vec![",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "                create_test_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "                create_test_line(2, LineSource::AIModified { edit_id: \"e1\".to_string(), similarity: 0.8 }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        // Both are AI (AI + AIModified)",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "        assert!((result.ai_percentage() - 100.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "    fn test_blame_result_pure_ai_vs_modified() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        let result = BlameResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "            revision: \"HEAD\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "            lines: vec![",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "                create_test_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "                create_test_line(2, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "                create_test_line(3, LineSource::AIModified { edit_id: \"e2\".to_string(), similarity: 0.9 }),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "        assert_eq!(result.pure_ai_line_count(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "        assert_eq!(result.ai_modified_line_count(), 1);",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "        assert_eq!(result.ai_line_count(), 3); // Total AI involvement",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "    fn test_get_prompt() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "                session_id: \"test-123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "                prompt_count: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "            prompts: vec![",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "                PromptInfo {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "                    index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "                    text: \"First prompt\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "                    timestamp: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "                    affected_files: vec![\"file1.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "                PromptInfo {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "                    index: 1,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "                    text: \"Second prompt\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "                    timestamp: \"2026-01-30T10:01:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "                    affected_files: vec![\"file2.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "            files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "        assert!(attribution.get_prompt(0).is_some());",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "        assert_eq!(attribution.get_prompt(0).unwrap().text, \"First prompt\");",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "        assert!(attribution.get_prompt(1).is_some());",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "        assert_eq!(attribution.get_prompt(1).unwrap().text, \"Second prompt\");",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "        assert!(attribution.get_prompt(2).is_none());",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "        assert!(attribution.get_prompt(99).is_none());",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "    fn test_model_info_claude() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "        let model = ModelInfo::claude(\"claude-opus-4-5-20251101\");",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "        assert_eq!(model.id, \"claude-opus-4-5-20251101\");",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "        assert_eq!(model.provider, \"anthropic\");",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "    fn test_attribution_multiple_files() {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "        let attribution = AIAttribution {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "            version: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "            session: SessionMetadata {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "                session_id: \"multi-file\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "                model: ModelInfo::claude(\"claude-opus-4-5-20251101\"),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "                started_at: \"2026-01-30T10:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "                prompt_count: 1,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "                used_plan_mode: false,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "                subagent_count: 0,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "            files: vec![",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "                FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "                    path: \"file1.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "                    lines: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "                    summary: AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "                        total_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "                        ai_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "                        ai_modified_lines: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "                        human_lines: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "                        original_lines: 1,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "                        unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "                FileAttributionResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "                    path: \"file2.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "                    lines: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "                    summary: AttributionSummary {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "                        total_lines: 20,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "                        ai_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "                        ai_modified_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "                        human_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "                        original_lines: 2,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "                        unknown_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "        // Aggregates across all files",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "        assert_eq!(attribution.total_ai_lines(), 15); // 5 + 10",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "        assert_eq!(attribution.total_ai_modified_lines(), 5); // 2 + 3",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "        assert_eq!(attribution.total_human_lines(), 7); // 2 + 5",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "        assert_eq!(attribution.total_original_lines(), 3); // 1 + 2",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "    // Helper function",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "    fn create_test_line(line_num: u32, source: LineSource) -> BlameLineResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "        BlameLineResult {",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "            line_number: line_num,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "            content: format!(\"line{}\", line_num),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "            commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "            commit_short: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "            author: \"Test\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "            source,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "            prompt_index: None,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "            prompt_preview: None,",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be"
          },
          "edit_id": "6654e739-64c2-4398-9c58-e522c233c3be",
          "prompt_index": 16,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 494,
        "ai_lines": 168,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 326,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/blame.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::cli::output::{format_blame, OutputFormat};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::core::blame::AIBlamer;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Blame command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub struct BlameArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// File to blame",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub file: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// Revision to blame against (default: HEAD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    #[arg(short, long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub revision: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    /// Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    #[arg(long, value_enum, default_value_t = OutputFormat::Pretty)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    pub format: OutputFormat,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    /// Show only AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    pub ai_only: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    /// Show only human-written lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    pub human_only: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "/// Check if repository is a shallow clone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "fn is_shallow_clone(repo: &Repository) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    repo.is_shallow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "/// Print shallow clone warning",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "fn print_shallow_warning() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        \"{} Running in shallow clone mode - some attribution data may be unavailable.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "        \"Warning:\".yellow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        \"         Run '{}' to get full history.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "        \"git fetch --unshallow\".cyan()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    eprintln!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "/// Run the blame command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "pub fn run(args: BlameArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    // Open repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "    let repo = Repository::discover(\".\").context(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "        \"Not in a git repository. \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "         Run 'git init' to create one, or 'cd' to a directory containing a .git folder.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    )?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    // Check for shallow clone - warn in all formats for consistency",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    if is_shallow_clone(&repo) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "        match args.format {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "            OutputFormat::Pretty => print_shallow_warning(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "            OutputFormat::Json => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "                // For programmatic output, still warn to stderr",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "                eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "                    \"Warning: Shallow clone detected - attribution data may be incomplete. \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "                     Run 'git fetch --unshallow' for full history.\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "                );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    // Create blamer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    let mut blamer = AIBlamer::new(&repo).context(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        \"Failed to initialize blame engine. \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "         Run 'whogitit doctor' to diagnose configuration issues.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    )?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    // Run blame with improved error context",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    let revision_display = args.revision.as_deref().unwrap_or(\"HEAD\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    let mut result = blamer",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "        .blame(&args.file, args.revision.as_deref())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        .with_context(|| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "            format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "                \"Failed to blame '{}' at revision '{}'. \\n\\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "                 Suggestions:\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "                 - Verify the file exists: git show {}:{}\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "                 - Check the revision is valid: git rev-parse {}\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "                 - Try with HEAD: whogitit blame {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "                args.file,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "                revision_display,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                revision_display,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                args.file,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                revision_display,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "                args.file",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            )",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "        })?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    // Filter lines if requested",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    if args.ai_only {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "        result.lines.retain(|l| l.source.is_ai());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    } else if args.human_only {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        result.lines.retain(|l| l.source.is_human());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    // Format output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    let output = format_blame(&result, args.format);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    print!(\"{}\", output);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    use crate::capture::snapshot::LineSource;",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "    use crate::core::attribution::BlameLineResult;",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    // BlameArgs tests",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    fn test_blame_args_defaults() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        // Verify default values exist in the structure",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "        let args = BlameArgs {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "            file: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            revision: None,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "            format: OutputFormat::Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            ai_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            human_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        assert_eq!(args.file, \"test.rs\");",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "        assert!(args.revision.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        assert!(matches!(args.format, OutputFormat::Pretty));",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        assert!(!args.ai_only);",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        assert!(!args.human_only);",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    fn test_blame_args_with_revision() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "        let args = BlameArgs {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "            file: \"src/main.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "            revision: Some(\"abc1234\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "            format: OutputFormat::Json,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "            ai_only: true,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "            human_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "        assert_eq!(args.revision, Some(\"abc1234\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        assert!(matches!(args.format, OutputFormat::Json));",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "    // Filter logic tests",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    fn test_ai_only_filter() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "        let mut lines = vec![",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            create_test_blame_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "            create_test_blame_line(2, LineSource::Human),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "            create_test_blame_line(3, LineSource::AIModified { edit_id: \"e2\".to_string(), similarity: 0.8 }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "            create_test_blame_line(4, LineSource::Original),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "        // Apply ai_only filter",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        lines.retain(|l| l.source.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        assert_eq!(lines.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "        assert!(lines[0].source.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        assert!(lines[1].source.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    fn test_human_only_filter() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "        let mut lines = vec![",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "            create_test_blame_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "            create_test_blame_line(2, LineSource::Human),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "            create_test_blame_line(3, LineSource::AIModified { edit_id: \"e2\".to_string(), similarity: 0.8 }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "            create_test_blame_line(4, LineSource::Original),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        // Apply human_only filter",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        lines.retain(|l| l.source.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "        assert_eq!(lines.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        assert!(lines[0].source.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        assert!(lines[1].source.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    fn test_no_filter() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        #[allow(clippy::useless_vec)]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        let lines = vec![",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "            create_test_blame_line(1, LineSource::AI { edit_id: \"e1\".to_string() }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "            create_test_blame_line(2, LineSource::Human),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            create_test_blame_line(3, LineSource::AIModified { edit_id: \"e2\".to_string(), similarity: 0.8 }),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "            create_test_blame_line(4, LineSource::Original),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        // No filter - all lines retained",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        assert_eq!(lines.len(), 4);",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    fn test_filter_empty_result() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        let mut lines = vec![",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "            create_test_blame_line(1, LineSource::Human),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "            create_test_blame_line(2, LineSource::Original),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "        // Apply ai_only filter on lines with no AI",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        lines.retain(|l| l.source.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        assert!(lines.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "    // Helper to create test BlameLineResult",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    fn create_test_blame_line(line_num: u32, source: LineSource) -> BlameLineResult {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        BlameLineResult {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "            line_number: line_num,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "            commit_id: \"abc1234567890\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            commit_short: \"abc1234\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "            author: \"Test Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "            source,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "            content: format!(\"line {} content\", line_num),",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "            prompt_index: None,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "            prompt_preview: None,",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    // OutputFormat tests",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    fn test_output_format_variants() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "        let _pretty = OutputFormat::Pretty;",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        let _json = OutputFormat::Json;",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        assert!(matches!(OutputFormat::default(), OutputFormat::Pretty));",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "    // LineSource behavior tests",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    fn test_line_source_is_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "        assert!(LineSource::AI { edit_id: \"e1\".to_string() }.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        assert!(LineSource::AIModified { edit_id: \"e1\".to_string(), similarity: 0.9 }.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        assert!(!LineSource::Human.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        assert!(!LineSource::Original.is_ai());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "    fn test_line_source_is_human() {",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "        assert!(!LineSource::AI { edit_id: \"e1\".to_string() }.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "        assert!(!LineSource::AIModified { edit_id: \"e1\".to_string(), similarity: 0.9 }.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "        assert!(LineSource::Human.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        assert!(LineSource::Original.is_human());",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf"
          },
          "edit_id": "14670689-1857-43fe-9c9f-4078b941aadf",
          "prompt_index": 18,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 251,
        "ai_lines": 141,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 110,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/export.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Export command for bulk attribution data export",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use chrono::{DateTime, Utc};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use serde::Serialize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use std::io::Write;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use crate::core::attribution::AIAttribution;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "/// Arguments for export command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "pub struct ExportArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    /// Output format (json or csv)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    #[arg(long, value_parser = [\"json\", \"csv\"], default_value = \"json\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    pub format: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    /// Only include commits after this date (YYYY-MM-DD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    pub since: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    /// Only include commits before this date (YYYY-MM-DD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    pub until: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    /// Output file (default: stdout)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    #[arg(short, long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    pub output: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    /// Include full prompt text (default: truncated)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    pub full_prompts: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Maximum prompt length when not using --full-prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    #[arg(long, default_value = \"100\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    pub prompt_max_len: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "/// Export format for JSON output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "pub struct ExportData {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    /// Export schema version",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    pub export_version: u8,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    /// When the export was created",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "    pub exported_at: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    /// Date range filter (if specified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    pub date_range: Option<DateRange>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    /// Exported commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    pub commits: Vec<CommitExport>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    /// Summary statistics",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    pub summary: ExportSummary,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "/// Date range filter",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "pub struct DateRange {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "    pub since: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    pub until: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "/// Exported commit data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "pub struct CommitExport {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    /// Git commit SHA",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    pub commit_id: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    /// Short commit SHA (7 chars)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    pub commit_short: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    /// Commit message (first line)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "    pub message: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    /// Commit author",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    pub author: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    /// Commit timestamp",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    pub committed_at: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "    /// AI session ID",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    pub session_id: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "    /// Model used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    pub model: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    /// Total AI-generated lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    pub ai_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    /// AI lines modified by human",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    pub ai_modified_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "    /// Human-written lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    pub human_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    /// Original lines (unchanged)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    pub original_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "    /// Files affected",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    pub files: Vec<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "    /// Prompts used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    pub prompts: Vec<PromptExport>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "/// Exported prompt data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "pub struct PromptExport {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    pub index: u32,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    pub text: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    pub affected_files: Vec<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "/// Export summary statistics",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "#[derive(Debug, Serialize)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "pub struct ExportSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    pub total_commits: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    pub commits_with_ai: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "    pub total_ai_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    pub total_ai_modified_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    pub total_human_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    pub total_original_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "    pub total_prompts: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "/// Run the export command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "pub fn run(args: ExportArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    let repo = git2::Repository::discover(\".\").context(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        \"Not in a git repository. \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "         Run 'git init' to create one, or 'cd' to a directory containing a .git folder.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    )?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "    // Parse date filters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "    let since = parse_date(&args.since)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "    let until = parse_date(&args.until)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "    // Validate date range",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    if let (Some(ref since_date), Some(ref until_date)) = (&since, &until) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        if since_date > until_date {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            anyhow::bail!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "                \"Invalid date range: --since ({}) must be before --until ({})\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "                args.since.as_ref().unwrap(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "                args.until.as_ref().unwrap()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    // Get all commits with attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    let attributed_commits = notes_store.list_attributed_commits()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    // Collect export data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    let mut commits: Vec<CommitExport> = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "    for commit_oid in attributed_commits {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        let commit = repo.find_commit(commit_oid)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        let commit_time =",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "            DateTime::from_timestamp(commit.time().seconds(), 0).unwrap_or(DateTime::UNIX_EPOCH);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "        // Apply date filters",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        if let Some(ref since_date) = since {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "            if commit_time < *since_date {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "                continue;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        if let Some(ref until_date) = until {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "            if commit_time > *until_date {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "                continue;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "        // Get attribution data",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "        if let Some(attribution) = notes_store.fetch_attribution(commit_oid)? {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "            let export = build_commit_export(&commit, &attribution, &args)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "            commits.push(export);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    // Sort by commit time (newest first)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "    commits.sort_by(|a, b| b.committed_at.cmp(&a.committed_at));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    // Build summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "    let summary = build_summary(&commits);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "    // Write output",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    let output_data = ExportData {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "        export_version: 1,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "        exported_at: Utc::now().to_rfc3339(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        date_range: if args.since.is_some() || args.until.is_some() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "            Some(DateRange {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "                since: args.since.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "                until: args.until.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "            })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            None",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "        },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "        commits,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        summary,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "    match args.format.as_str() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        \"json\" => write_json(&output_data, &args.output)?,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "        \"csv\" => write_csv(&output_data, &args.output)?,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "        other => anyhow::bail!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "            \"Unsupported format: '{}'. Supported formats: json, csv\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "            other",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "        ),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "fn parse_date(date_str: &Option<String>) -> Result<Option<DateTime<Utc>>> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    match date_str {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        Some(s) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "            // Parse YYYY-MM-DD format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "            let date = chrono::NaiveDate::parse_from_str(s, \"%Y-%m-%d\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "                .with_context(|| format!(\"Invalid date format '{}'. Use YYYY-MM-DD.\", s))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "            let datetime = date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "                .and_hms_opt(0, 0, 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "                .ok_or_else(|| anyhow::anyhow!(\"Invalid time for date {}\", s))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "            Ok(Some(datetime.and_utc()))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        None => Ok(None),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "fn build_commit_export(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "    commit: &git2::Commit,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "    attribution: &AIAttribution,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "    args: &ExportArgs,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": ") -> Result<CommitExport> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "    let commit_id = commit.id().to_string();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "    let commit_short = commit_id[..7].to_string();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    let message = commit.summary().unwrap_or(\"(no message)\").to_string();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "    let author = commit.author().name().unwrap_or(\"Unknown\").to_string();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    let committed_at = DateTime::from_timestamp(commit.time().seconds(), 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        .unwrap_or(DateTime::UNIX_EPOCH)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        .to_rfc3339();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    let ai_lines = attribution.total_ai_lines();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    let ai_modified_lines = attribution.total_ai_modified_lines();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    let human_lines = attribution.total_human_lines();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    let original_lines = attribution.total_original_lines();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    let files: Vec<String> = attribution.files.iter().map(|f| f.path.clone()).collect();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "    let prompts: Vec<PromptExport> = attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        .prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "        .map(|p| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "            let text = if args.full_prompts {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "                p.text.clone()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "            } else if p.text.len() > args.prompt_max_len {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "                format!(\"{}...\", &p.text[..args.prompt_max_len])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "                p.text.clone()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "            PromptExport {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "                index: p.index,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "                text,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "                affected_files: p.affected_files.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        .collect();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "    Ok(CommitExport {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "        commit_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        commit_short,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "        message,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "        author,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        committed_at,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "        session_id: attribution.session.session_id.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        model: attribution.session.model.id.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "        ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        original_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        files,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "        prompts,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "    })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "fn build_summary(commits: &[CommitExport]) -> ExportSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "    let commits_with_ai = commits.iter().filter(|c| c.ai_lines > 0).count();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "    let total_ai_lines: usize = commits.iter().map(|c| c.ai_lines).sum();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "    let total_ai_modified_lines: usize = commits.iter().map(|c| c.ai_modified_lines).sum();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    let total_human_lines: usize = commits.iter().map(|c| c.human_lines).sum();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    let total_original_lines: usize = commits.iter().map(|c| c.original_lines).sum();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "    let total_prompts: usize = commits.iter().map(|c| c.prompts.len()).sum();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    ExportSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "        total_commits: commits.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "        commits_with_ai,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        total_ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        total_ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        total_human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        total_original_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "        total_prompts,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "fn write_json(data: &ExportData, output: &Option<String>) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "    let json = serde_json::to_string_pretty(data)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    match output {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "        Some(path) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "            let mut file = std::fs::File::create(path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "            file.write_all(json.as_bytes())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "            eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "                \"Exported {} commits to {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "                data.summary.total_commits, path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "            println!(\"{}\", json);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "fn write_csv(data: &ExportData, output: &Option<String>) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "    let mut csv_content = String::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "    // Header",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "    csv_content.push_str(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "        \"commit_id,commit_short,message,author,committed_at,session_id,model,ai_lines,ai_modified_lines,human_lines,original_lines,files_count,prompts_count\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    // Rows",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    for commit in &data.commits {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "        let message = commit.message.replace(',', \";\").replace('\\n', \" \");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "        csv_content.push_str(&format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "            \"{},{},{},{},{},{},{},{},{},{},{},{},{}\\n\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "            commit.commit_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "            commit.commit_short,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "            message,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "            commit.author.replace(',', \";\"),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "            commit.committed_at,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            commit.session_id,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "            commit.model,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "            commit.ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "            commit.ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "            commit.human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "            commit.original_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "            commit.files.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            commit.prompts.len()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "        ));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "    match output {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "        Some(path) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "            let mut file = std::fs::File::create(path)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "            file.write_all(csv_content.as_bytes())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "            eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "                \"Exported {} commits to {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "                data.summary.total_commits, path",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "            print!(\"{}\", csv_content);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "    // parse_date tests",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    fn test_parse_date_valid() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "        let result = parse_date(&Some(\"2024-01-15\".to_string())).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        assert!(result.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "        let date = result.unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        assert_eq!(date.format(\"%Y-%m-%d\").to_string(), \"2024-01-15\");",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "    fn test_parse_date_none() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "        let result = parse_date(&None).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        assert!(result.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "    fn test_parse_date_invalid_format() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "        // Wrong separator",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "        let result = parse_date(&Some(\"2024/01/15\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        assert!(result.unwrap_err().to_string().contains(\"Invalid date format\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "    fn test_parse_date_invalid_date() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "        // February 30th doesn't exist",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "        let result = parse_date(&Some(\"2024-02-30\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "    fn test_parse_date_partial_format() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "        // Missing day",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "        let result = parse_date(&Some(\"2024-01\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "    fn test_parse_date_leap_year() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "        // February 29th on leap year",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "        let result = parse_date(&Some(\"2024-02-29\".to_string())).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        assert!(result.is_some());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "    fn test_parse_date_non_leap_year() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "        // February 29th on non-leap year",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "        let result = parse_date(&Some(\"2023-02-29\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "    // build_summary tests",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "    fn test_build_summary_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "        let commits: Vec<CommitExport> = vec![];",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "        let summary = build_summary(&commits);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "        assert_eq!(summary.total_commits, 0);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "        assert_eq!(summary.commits_with_ai, 0);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "        assert_eq!(summary.total_ai_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "        assert_eq!(summary.total_prompts, 0);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "    fn test_build_summary_single_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "        let commits = vec![CommitExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "            commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "            commit_short: \"abc1234\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "            message: \"Test commit\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "            author: \"Test Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "            committed_at: \"2024-01-15T00:00:00+00:00\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "            session_id: \"session-123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "            model: \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "            ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "            ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "            human_lines: 20,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "            files: vec![\"src/main.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "            prompts: vec![PromptExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "                index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "                text: \"Test prompt\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "                affected_files: vec![\"src/main.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "            }],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "        }];",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "        let summary = build_summary(&commits);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "        assert_eq!(summary.total_commits, 1);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "        assert_eq!(summary.commits_with_ai, 1);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "        assert_eq!(summary.total_ai_lines, 50);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "        assert_eq!(summary.total_ai_modified_lines, 10);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "        assert_eq!(summary.total_human_lines, 20);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "        assert_eq!(summary.total_original_lines, 100);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "        assert_eq!(summary.total_prompts, 1);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "    fn test_build_summary_multiple_commits() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "        let commits = vec![",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "            CommitExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "                commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "                commit_short: \"abc1234\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "                message: \"First\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "                author: \"Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "                committed_at: \"2024-01-15T00:00:00+00:00\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "                session_id: \"session-1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "                model: \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "                ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "                ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "                human_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "                original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "                files: vec![\"file1.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "                prompts: vec![",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "                    PromptExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "                        index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "                        text: \"Prompt 1\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "                        affected_files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "                    PromptExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "                        index: 1,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "                        text: \"Prompt 2\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "                        affected_files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "                    },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "                ],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "            CommitExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "                commit_id: \"def456\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "                commit_short: \"def4567\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "                message: \"Second\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "                author: \"Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "                committed_at: \"2024-01-16T00:00:00+00:00\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "                session_id: \"session-2\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "                model: \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "                ai_lines: 30,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "                ai_modified_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "                human_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "                original_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "                files: vec![\"file2.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "                prompts: vec![PromptExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "                    index: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "                    text: \"Prompt 3\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "                    affected_files: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "                }],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "        let summary = build_summary(&commits);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "        assert_eq!(summary.total_commits, 2);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "        assert_eq!(summary.commits_with_ai, 2);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "        assert_eq!(summary.total_ai_lines, 80); // 50 + 30",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "        assert_eq!(summary.total_ai_modified_lines, 15); // 10 + 5",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "        assert_eq!(summary.total_human_lines, 15); // 5 + 10",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "        assert_eq!(summary.total_original_lines, 150); // 100 + 50",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "        assert_eq!(summary.total_prompts, 3); // 2 + 1",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "    fn test_build_summary_no_ai_lines() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "        let commits = vec![CommitExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "            commit_id: \"abc123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "            commit_short: \"abc1234\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "            message: \"Human only\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "            author: \"Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "            committed_at: \"2024-01-15T00:00:00+00:00\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "            session_id: \"session-123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "            model: \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "            ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "            human_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "            original_lines: 200,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "            files: vec![\"file.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "        }];",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "        let summary = build_summary(&commits);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "        assert_eq!(summary.total_commits, 1);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "        assert_eq!(summary.commits_with_ai, 0); // No AI lines",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "        assert_eq!(summary.total_ai_lines, 0);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "        assert_eq!(summary.total_human_lines, 100);",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "    // CSV escaping tests",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "    fn test_csv_message_escaping() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "        // The message escaping happens in write_csv inline",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "        // We can test the replacement logic directly",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "        let message = \"Fix bug, add feature\\nSecond line\";",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "        let escaped = message.replace(',', \";\").replace('\\n', \" \");",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "        assert_eq!(escaped, \"Fix bug; add feature Second line\");",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "        assert!(!escaped.contains(','));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "        assert!(!escaped.contains('\\n'));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "    fn test_csv_author_escaping() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "        let author = \"John Doe, Jr.\";",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "        let escaped = author.replace(',', \";\");",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "        assert_eq!(escaped, \"John Doe; Jr.\");",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "    // ExportData structure tests",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "    fn test_export_data_serialization() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "        let data = ExportData {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "            export_version: 1,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "            exported_at: \"2024-01-15T12:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "            date_range: Some(DateRange {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "                since: Some(\"2024-01-01\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "                until: None,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "            }),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "            commits: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "            summary: ExportSummary {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "                total_commits: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "                commits_with_ai: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "                total_ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "                total_ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "                total_human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "                total_original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "                total_prompts: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "        let json = serde_json::to_string(&data).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "        assert!(json.contains(\"\\\"export_version\\\":1\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "        assert!(json.contains(\"\\\"since\\\":\\\"2024-01-01\\\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "        assert!(json.contains(\"\\\"until\\\":null\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "    fn test_export_data_no_date_range() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "        let data = ExportData {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "            export_version: 1,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "            exported_at: \"2024-01-15T12:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "            date_range: None,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "            commits: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "            summary: ExportSummary {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "                total_commits: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "                commits_with_ai: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "                total_ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "                total_ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "                total_human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": "                total_original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "                total_prompts: 0,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "            },",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "        let json = serde_json::to_string(&data).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "        assert!(json.contains(\"\\\"date_range\\\":null\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "    fn test_commit_export_serialization() {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "        let commit = CommitExport {",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "            commit_id: \"abc123def456\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "            commit_short: \"abc123d\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "            message: \"Test commit\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "            author: \"Test Author\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "            committed_at: \"2024-01-15T00:00:00+00:00\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "            session_id: \"session-123\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "            model: \"claude-opus-4-5-20251101\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "            ai_lines: 42,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "            ai_modified_lines: 8,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "            human_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 622,
          "content": "            files: vec![\"src/main.rs\".to_string(), \"src/lib.rs\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 623,
          "content": "            prompts: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 624,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 625,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 626,
          "content": "        let json = serde_json::to_string(&commit).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 627,
          "content": "        assert!(json.contains(\"\\\"commit_short\\\":\\\"abc123d\\\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 628,
          "content": "        assert!(json.contains(\"\\\"ai_lines\\\":42\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 629,
          "content": "        assert!(json.contains(\"\\\"model\\\":\\\"claude-opus-4-5-20251101\\\"\"));",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 630,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f"
          },
          "edit_id": "0d561246-0182-416c-875d-06d8dc4ae24f",
          "prompt_index": 1,
          "confidence": 1.0
        },
        {
          "line_number": 631,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 631,
        "ai_lines": 278,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 353,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/summary.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::{Args, ValueEnum};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Check if repository is a shallow clone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "fn is_shallow_clone(repo: &Repository) -> bool {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "    repo.is_shallow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "/// Print shallow clone warning",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "fn print_shallow_warning() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "        \"{} Running in shallow clone mode - historical attribution data may be incomplete.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "        \"Warning:\".yellow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    eprintln!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "        \"         Run '{}' to get full history.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "        \"git fetch --unshallow\".cyan()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    eprintln!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "/// Output format for summary command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "#[derive(Debug, Clone, Copy, Default, ValueEnum)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "pub enum SummaryFormat {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    /// Human-readable terminal output with colors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    #[default]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    Pretty,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    /// JSON output for machine consumption",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    Json,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "    /// Markdown output for documentation/PRs",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "    #[value(alias = \"md\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    Markdown,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "/// Summary command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "pub struct SummaryArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    /// Base commit (exclusive) - defaults to first commit if not specified",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    pub base: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    /// Head commit (inclusive) - defaults to HEAD",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    #[arg(long, default_value = \"HEAD\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    pub head: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    /// Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    #[arg(long, value_enum, default_value_t = SummaryFormat::Pretty)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    pub format: SummaryFormat,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "/// Per-file summary for diff-focused display",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "#[derive(Debug, Clone)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "struct FileSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    path: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "    ai_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    ai_modified_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "    human_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    original_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "    is_new_file: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "impl FileSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "    /// Lines added in this file (AI + AI-modified + Human)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "    fn additions(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "        self.ai_lines + self.ai_modified_lines + self.human_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "    /// AI additions (AI + AI-modified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    fn ai_additions(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        self.ai_lines + self.ai_modified_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    /// Percentage of additions that are AI-generated",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    fn ai_percent(&self) -> f64 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "        let adds = self.additions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "        if adds == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "            (self.ai_additions() as f64 / adds as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "/// Aggregated summary across multiple commits (diff-focused)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "#[derive(Debug, Default)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "struct AggregateSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    commits_analyzed: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "    commits_with_ai: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    /// AI-generated lines (additions)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    total_ai_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "    /// AI lines modified by human (additions)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    total_ai_modified_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    /// Human-written lines (additions)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    total_human_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    /// Original/unchanged lines (NOT additions - for context only)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "    total_original_lines: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    /// Per-file summaries for detailed breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "    file_summaries: Vec<FileSummary>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "    models_used: Vec<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "impl AggregateSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "    /// Total additions (lines added in the diff)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "    fn total_additions(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "        self.total_ai_lines + self.total_ai_modified_lines + self.total_human_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    /// AI additions (AI + AI-modified)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "    fn ai_additions(&self) -> usize {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "        self.total_ai_lines + self.total_ai_modified_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    /// AI involvement as percentage of additions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "    fn ai_percentage(&self) -> f64 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "        let additions = self.total_additions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        if additions == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            (self.ai_additions() as f64 / additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "/// Run the summary command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "pub fn run(args: SummaryArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "    let repo = Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "    // Check for shallow clone",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "    if is_shallow_clone(&repo) && matches!(args.format, SummaryFormat::Pretty) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "        print_shallow_warning();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    // Resolve head commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    let head_obj = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "        .revparse_single(&args.head)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "        .with_context(|| format!(\"Failed to resolve: {}\", args.head))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "    let head_commit = head_obj",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "        .peel_to_commit()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        .with_context(|| format!(\"Not a valid commit: {}\", args.head))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    // Get commits to analyze",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    let mut revwalk = repo.revwalk()?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "    revwalk.push(head_commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "    // If base is specified, exclude it and its ancestors",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    if let Some(base_ref) = &args.base {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        let base_obj = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "            .revparse_single(base_ref)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "            .with_context(|| format!(\"Failed to resolve base: {}\", base_ref))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "        let base_commit = base_obj",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "            .peel_to_commit()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "            .with_context(|| format!(\"Not a valid commit: {}\", base_ref))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "        revwalk.hide(base_commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    // Analyze commits",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    let mut summary = AggregateSummary::default();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "    for oid_result in revwalk {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        let oid = oid_result?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        summary.commits_analyzed += 1;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        if let Ok(Some(attr)) = notes_store.fetch_attribution(oid) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "            summary.commits_with_ai += 1;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "            // Aggregate file statistics",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "            for file in &attr.files {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "                summary.total_ai_lines += file.summary.ai_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "                summary.total_ai_modified_lines += file.summary.ai_modified_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "                summary.total_human_lines += file.summary.human_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "                summary.total_original_lines += file.summary.original_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "                // Check if file already exists in summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "                let existing = summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "                    .file_summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "                    .iter_mut()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "                    .find(|f| f.path == file.path);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "                if let Some(existing) = existing {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "                    // Aggregate with existing",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "                    existing.ai_lines += file.summary.ai_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "                    existing.ai_modified_lines += file.summary.ai_modified_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "                    existing.human_lines += file.summary.human_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "                    existing.original_lines += file.summary.original_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "                } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "                    // Add new file summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "                    let is_new = file.summary.original_lines == 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "                        && (file.summary.ai_lines > 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "                            || file.summary.ai_modified_lines > 0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "                            || file.summary.human_lines > 0);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "                    summary.file_summaries.push(FileSummary {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "                        path: file.path.clone(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "                        ai_lines: file.summary.ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "                        ai_modified_lines: file.summary.ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "                        human_lines: file.summary.human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "                        original_lines: file.summary.original_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "                        is_new_file: is_new,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "                    });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "                }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "            // Track models used",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "            if !summary.models_used.contains(&attr.session.model.id) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "                summary.models_used.push(attr.session.model.id.clone());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "    // Output based on format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "    match args.format {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "        SummaryFormat::Pretty => print_pretty(&summary),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "        SummaryFormat::Json => print_json(&summary),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        SummaryFormat::Markdown => print_markdown(&summary),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "fn print_pretty(summary: &AggregateSummary) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    println!(\"{}\", \"═\".repeat(60).dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    println!(\"{}\", \"  AI Attribution Summary\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    println!(\"{}\", \"═\".repeat(60).dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        \"Commits analyzed: {} ({} with AI attribution)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "        summary.commits_analyzed.to_string().cyan(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        summary.commits_with_ai.to_string().green()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    if summary.commits_with_ai == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        println!(\"No AI attribution data found in the specified commit range.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        return;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "    let total_additions = summary.total_additions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    println!(\"{}\", \"Lines Added:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        \"  {} AI-generated ({:.1}%)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        format!(\"+{}\", summary.total_ai_lines).green(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "            (summary.total_ai_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        \"  {} AI-modified by human ({:.1}%)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "        format!(\"+{}\", summary.total_ai_modified_lines).yellow(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "            (summary.total_ai_modified_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "        \"  {} Human-written ({:.1}%)\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "        format!(\"+{}\", summary.total_human_lines).blue(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "        if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "            (summary.total_human_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "            0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        \"  {} Total additions\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        format!(\"+{}\", total_additions).bold()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "        \"{}: {:.1}% of additions are AI-generated\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        \"AI involvement\".bold(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        summary.ai_percentage()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "    println!(\"{}\", \"Files Changed:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "    for file in &summary.file_summaries {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "        let status = if file.is_new_file { \" (new)\" } else { \"\" };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "        let ai_pct = file.ai_percent();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "            \"  {} +{} ({:.0}% AI){}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "            file.path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "            file.additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "            ai_pct,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "            status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "    if !summary.models_used.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "        println!(\"{}\", \"Models used:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "        for model in &summary.models_used {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "            println!(\"  - {}\", model.cyan());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "    println!(\"{}\", \"═\".repeat(60).dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "fn print_json(summary: &AggregateSummary) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "    let files_json: Vec<_> = summary",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "        .file_summaries",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "        .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "        .map(|f| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "            serde_json::json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "                \"path\": f.path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "                \"additions\": f.additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "                \"ai_additions\": f.ai_additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "                \"ai_lines\": f.ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "                \"ai_modified_lines\": f.ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "                \"human_lines\": f.human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "                \"ai_percent\": f.ai_percent(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "                \"is_new_file\": f.is_new_file,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "            })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "        })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        .collect();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "    let output = serde_json::json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "        \"commits_analyzed\": summary.commits_analyzed,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "        \"commits_with_ai\": summary.commits_with_ai,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "        \"additions\": {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "            \"total\": summary.total_additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "            \"ai\": summary.total_ai_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "            \"ai_modified\": summary.total_ai_modified_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "            \"human\": summary.total_human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "        },",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "        \"ai_percentage\": summary.ai_percentage(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "        \"files\": files_json,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "        \"models\": summary.models_used,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "    });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "        \"{}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "        serde_json::to_string_pretty(&output).unwrap_or_else(|_| \"{}\".to_string())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "fn print_markdown(summary: &AggregateSummary) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "    let total_additions = summary.total_additions();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "    let ai_pct = if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        (summary.total_ai_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "        0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    let mod_pct = if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "        (summary.total_ai_modified_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "        0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "    let human_pct = if total_additions > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        (summary.total_human_lines as f64 / total_additions as f64) * 100.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        0.0",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "    let emoji = if summary.ai_percentage() >= 80.0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        \"🤖🤖🤖\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "    } else if summary.ai_percentage() >= 50.0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "        \"🤖🤖\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "    } else if summary.ai_percentage() >= 20.0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "        \"🤖\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "        \"👤\"",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "    println!(\"## {} AI Attribution Summary\", emoji);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "        \"This PR adds **+{}** lines with AI attribution across **{}** files.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "        total_additions,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "        summary.file_summaries.len()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 385,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 386,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 387,
          "content": "    println!(\"### Additions Breakdown\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 388,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 389,
          "content": "    println!(\"| Metric | Lines | % of Additions |\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 390,
          "content": "    println!(\"|--------|------:|--------------:|\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 391,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 392,
          "content": "        \"| 🟢 AI-generated | +{} | {:.1}% |\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 393,
          "content": "        summary.total_ai_lines, ai_pct",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 394,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 395,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 396,
          "content": "        \"| 🟡 AI-modified by human | +{} | {:.1}% |\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 397,
          "content": "        summary.total_ai_modified_lines, mod_pct",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 398,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 399,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 400,
          "content": "        \"| 🔵 Human-written | +{} | {:.1}% |\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 401,
          "content": "        summary.total_human_lines, human_pct",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 402,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 403,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 404,
          "content": "        \"| **Total additions** | **+{}** | **100%** |\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 405,
          "content": "        total_additions",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 406,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 407,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 408,
          "content": "    println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 409,
          "content": "        \"**AI involvement: {:.1}%** of additions are AI-generated\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 410,
          "content": "        summary.ai_percentage()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 411,
          "content": "    );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 412,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 413,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 414,
          "content": "    if !summary.file_summaries.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 415,
          "content": "        println!(\"### Files Changed\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 416,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 417,
          "content": "        println!(\"| File | +Added | AI | Human | AI % | Status |\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 418,
          "content": "        println!(\"|------|-------:|---:|------:|-----:|--------|\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 419,
          "content": "        for file in &summary.file_summaries {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 420,
          "content": "            let status = if file.is_new_file { \"New\" } else { \"Modified\" };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 421,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 422,
          "content": "                \"| `{}` | +{} | {} | {} | {:.0}% | {} |\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 423,
          "content": "                file.path,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 424,
          "content": "                file.additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 425,
          "content": "                file.ai_additions(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 426,
          "content": "                file.human_lines,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 427,
          "content": "                file.ai_percent(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 428,
          "content": "                status",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 429,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 430,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 431,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 432,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 433,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 434,
          "content": "    if !summary.models_used.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 435,
          "content": "        println!(\"### Models Used\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 436,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 437,
          "content": "        for model in &summary.models_used {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 438,
          "content": "            println!(\"- {}\", model);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 439,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 440,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 441,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 442,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 443,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 444,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 445,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 446,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 447,
          "content": "    // FileSummary tests",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 448,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 449,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 450,
          "content": "    fn test_file_summary_additions() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 451,
          "content": "        let summary = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 452,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 453,
          "content": "            ai_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 454,
          "content": "            ai_modified_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 455,
          "content": "            human_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 456,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 457,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 458,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 459,
          "content": "        assert_eq!(summary.additions(), 18); // 10 + 5 + 3",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 460,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 461,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 462,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 463,
          "content": "    fn test_file_summary_ai_additions() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 464,
          "content": "        let summary = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 465,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 466,
          "content": "            ai_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 467,
          "content": "            ai_modified_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 468,
          "content": "            human_lines: 3,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 469,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 470,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 471,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 472,
          "content": "        assert_eq!(summary.ai_additions(), 15); // 10 + 5",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 473,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 474,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 475,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 476,
          "content": "    fn test_file_summary_ai_percent() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 477,
          "content": "        let summary = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 478,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 479,
          "content": "            ai_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 480,
          "content": "            ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 481,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 482,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 483,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 484,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 485,
          "content": "        // 20 AI additions / 20 total additions = 100%",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 486,
          "content": "        assert!((summary.ai_percent() - 100.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 487,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 488,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 489,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 490,
          "content": "    fn test_file_summary_ai_percent_mixed() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 491,
          "content": "        let summary = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 492,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 493,
          "content": "            ai_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 494,
          "content": "            ai_modified_lines: 5,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 495,
          "content": "            human_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 496,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 497,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 498,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 499,
          "content": "        // 10 AI additions / 20 total additions = 50%",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 500,
          "content": "        assert!((summary.ai_percent() - 50.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 501,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 502,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 503,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 504,
          "content": "    fn test_file_summary_ai_percent_zero_additions() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 505,
          "content": "        let summary = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 506,
          "content": "            path: \"test.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 507,
          "content": "            ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 508,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 509,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 510,
          "content": "            original_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 511,
          "content": "            is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 512,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 513,
          "content": "        // Should return 0, not divide by zero",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 514,
          "content": "        assert!((summary.ai_percent() - 0.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 515,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 516,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 517,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 518,
          "content": "    fn test_file_summary_new_file_detection() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 519,
          "content": "        let new_file = FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 520,
          "content": "            path: \"new.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 521,
          "content": "            ai_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 522,
          "content": "            ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 523,
          "content": "            human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 524,
          "content": "            original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 525,
          "content": "            is_new_file: true,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 526,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 527,
          "content": "        assert!(new_file.is_new_file);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 528,
          "content": "        assert_eq!(new_file.additions(), 100);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 529,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 530,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 531,
          "content": "    // AggregateSummary tests",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 532,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 533,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 534,
          "content": "    fn test_aggregate_summary_defaults() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 535,
          "content": "        let summary = AggregateSummary::default();",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 536,
          "content": "        assert_eq!(summary.commits_analyzed, 0);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 537,
          "content": "        assert_eq!(summary.commits_with_ai, 0);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 538,
          "content": "        assert_eq!(summary.total_additions(), 0);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 539,
          "content": "        assert_eq!(summary.ai_additions(), 0);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 540,
          "content": "        assert!((summary.ai_percentage() - 0.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 541,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 542,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 543,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 544,
          "content": "    fn test_aggregate_summary_total_additions() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 545,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 546,
          "content": "            commits_analyzed: 2,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 547,
          "content": "            commits_with_ai: 1,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 548,
          "content": "            total_ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 549,
          "content": "            total_ai_modified_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 550,
          "content": "            total_human_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 551,
          "content": "            total_original_lines: 200,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 552,
          "content": "            file_summaries: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 553,
          "content": "            models_used: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 554,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 555,
          "content": "        assert_eq!(summary.total_additions(), 100); // 50 + 25 + 25",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 556,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 557,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 558,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 559,
          "content": "    fn test_aggregate_summary_ai_additions() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 560,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 561,
          "content": "            commits_analyzed: 2,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 562,
          "content": "            commits_with_ai: 1,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 563,
          "content": "            total_ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 564,
          "content": "            total_ai_modified_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 565,
          "content": "            total_human_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 566,
          "content": "            total_original_lines: 200,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 567,
          "content": "            file_summaries: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 568,
          "content": "            models_used: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 569,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 570,
          "content": "        assert_eq!(summary.ai_additions(), 75); // 50 + 25",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 571,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 572,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 573,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 574,
          "content": "    fn test_aggregate_summary_ai_percentage() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 575,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 576,
          "content": "            commits_analyzed: 2,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 577,
          "content": "            commits_with_ai: 1,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 578,
          "content": "            total_ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 579,
          "content": "            total_ai_modified_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 580,
          "content": "            total_human_lines: 25,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 581,
          "content": "            total_original_lines: 200,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 582,
          "content": "            file_summaries: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 583,
          "content": "            models_used: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 584,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 585,
          "content": "        // 75 AI / 100 total = 75%",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 586,
          "content": "        assert!((summary.ai_percentage() - 75.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 587,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 588,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 589,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 590,
          "content": "    fn test_aggregate_summary_ai_percentage_zero() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 591,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 592,
          "content": "            commits_analyzed: 2,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 593,
          "content": "            commits_with_ai: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 594,
          "content": "            total_ai_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 595,
          "content": "            total_ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 596,
          "content": "            total_human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 597,
          "content": "            total_original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 598,
          "content": "            file_summaries: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 599,
          "content": "            models_used: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 600,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 601,
          "content": "        assert!((summary.ai_percentage() - 0.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 602,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 603,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 604,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 605,
          "content": "    fn test_aggregate_summary_100_percent_ai() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 606,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 607,
          "content": "            commits_analyzed: 1,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 608,
          "content": "            commits_with_ai: 1,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 609,
          "content": "            total_ai_lines: 100,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 610,
          "content": "            total_ai_modified_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 611,
          "content": "            total_human_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 612,
          "content": "            total_original_lines: 0,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 613,
          "content": "            file_summaries: vec![],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 614,
          "content": "            models_used: vec![\"claude-opus-4-5-20251101\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 615,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 616,
          "content": "        assert!((summary.ai_percentage() - 100.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 617,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 618,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 619,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 620,
          "content": "    fn test_aggregate_summary_with_file_summaries() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 621,
          "content": "        let summary = AggregateSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 622,
          "content": "            commits_analyzed: 3,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 623,
          "content": "            commits_with_ai: 2,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 624,
          "content": "            total_ai_lines: 80,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 625,
          "content": "            total_ai_modified_lines: 20,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 626,
          "content": "            total_human_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 627,
          "content": "            total_original_lines: 500,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 628,
          "content": "            file_summaries: vec![",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 629,
          "content": "                FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 630,
          "content": "                    path: \"src/main.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 631,
          "content": "                    ai_lines: 50,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 632,
          "content": "                    ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 633,
          "content": "                    human_lines: 20,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 634,
          "content": "                    original_lines: 300,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 635,
          "content": "                    is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 636,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 637,
          "content": "                FileSummary {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 638,
          "content": "                    path: \"src/lib.rs\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 639,
          "content": "                    ai_lines: 30,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 640,
          "content": "                    ai_modified_lines: 10,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 641,
          "content": "                    human_lines: 30,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 642,
          "content": "                    original_lines: 200,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 643,
          "content": "                    is_new_file: false,",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 644,
          "content": "                },",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 645,
          "content": "            ],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 646,
          "content": "            models_used: vec![\"claude-opus-4-5-20251101\".to_string()],",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 647,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 648,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 649,
          "content": "        assert_eq!(summary.file_summaries.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 650,
          "content": "        assert_eq!(summary.total_additions(), 150); // 80 + 20 + 50",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 651,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 652,
          "content": "        // Check individual file summaries",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 653,
          "content": "        let main_summary = &summary.file_summaries[0];",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 654,
          "content": "        assert_eq!(main_summary.additions(), 80); // 50 + 10 + 20",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 655,
          "content": "        // 60 AI / 80 total = 75%",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 656,
          "content": "        assert!((main_summary.ai_percent() - 75.0).abs() < 0.001);",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 657,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 658,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 659,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 660,
          "content": "    fn test_summary_format_values() {",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 661,
          "content": "        // Ensure enum variants exist and default is Pretty",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 662,
          "content": "        let _pretty = SummaryFormat::Pretty;",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 663,
          "content": "        let _json = SummaryFormat::Json;",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 664,
          "content": "        let _markdown = SummaryFormat::Markdown;",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 665,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 666,
          "content": "        // Test default",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 667,
          "content": "        let default = SummaryFormat::default();",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 668,
          "content": "        assert!(matches!(default, SummaryFormat::Pretty));",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 669,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba"
          },
          "edit_id": "d2f1a46c-7ce6-4721-bd0c-76bccd0654ba",
          "prompt_index": 0,
          "confidence": 1.0
        },
        {
          "line_number": 670,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 670,
        "ai_lines": 229,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 441,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/audit.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Audit log viewing command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use chrono::{DateTime, Utc};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::storage::audit::{AuditEventType, AuditLog};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "/// Arguments for audit command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "pub struct AuditArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    /// Only show events after this date (YYYY-MM-DD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    pub since: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    /// Filter by event type",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    #[arg(long, value_parser = [\"delete\", \"export\", \"retention_apply\", \"config_change\", \"redaction\"])]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    pub event_type: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    /// Output as JSON",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "    pub json: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    /// Show last N events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    #[arg(long, default_value = \"50\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "    pub limit: usize,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "/// Run the audit command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "pub fn run(args: AuditArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    let repo = git2::Repository::discover(\".\").context(\"Not in a git repository\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    let repo_root = repo",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "        .workdir()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "        .ok_or_else(|| anyhow::anyhow!(\"No working directory\"))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "    let audit_log = AuditLog::new(repo_root);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    if !audit_log.exists() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "        if args.json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "            println!(\"[]\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "            println!(\"No audit log found.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "                \"Enable audit logging in .whogitit.toml: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "                \"[privacy]\\naudit_log = true\".dimmed()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    // Read events",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    let mut events = if let Some(since_str) = &args.since {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        let since_date = chrono::NaiveDate::parse_from_str(since_str, \"%Y-%m-%d\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "            .context(\"Invalid date format. Use YYYY-MM-DD.\")?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "        let since = since_date",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            .and_hms_opt(0, 0, 0)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "            .ok_or_else(|| anyhow::anyhow!(\"Invalid time for date {}\", since_str))?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "            .and_utc();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        audit_log.read_since(since)?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        audit_log.read_all()?",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    // Filter by event type",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "    if let Some(event_type_str) = &args.event_type {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "        let event_type = match event_type_str.as_str() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "            \"delete\" => AuditEventType::Delete,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "            \"export\" => AuditEventType::Export,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "            \"retention_apply\" => AuditEventType::RetentionApply,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "            \"config_change\" => AuditEventType::ConfigChange,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "            \"redaction\" => AuditEventType::Redaction,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "            _ => anyhow::bail!(\"Unknown event type: {}\", event_type_str),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        events.retain(|e| e.event == event_type);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    // Sort by timestamp (newest first)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    events.sort_by(|a, b| b.timestamp.cmp(&a.timestamp));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    // Limit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    events.truncate(args.limit);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    if args.json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&events)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        print_events(&events)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "fn print_events(events: &[crate::storage::audit::AuditEvent]) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    if events.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "        println!(\"No audit events found.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "        return Ok(());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    println!(\"{}\", \"Audit Log\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    println!(\"{}\", \"=\".repeat(60));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    for event in events {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        let timestamp = DateTime::parse_from_rfc3339(&event.timestamp)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "            .map(|t| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "                t.with_timezone(&Utc)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "                    .format(\"%Y-%m-%d %H:%M:%S\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "                    .to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "            })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "            .unwrap_or_else(|_| event.timestamp.clone());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        let event_color = match event.event {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            AuditEventType::Delete => \"delete\".red(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "            AuditEventType::Export => \"export\".blue(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "            AuditEventType::RetentionApply => \"retention\".yellow(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "            AuditEventType::ConfigChange => \"config\".cyan(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "            AuditEventType::Redaction => \"redaction\".magenta(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "        print!(\"{} {} \", timestamp.dimmed(), event_color);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "        // Print details",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        let details = &event.details;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        let mut detail_parts: Vec<String> = Vec::new();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "        if let Some(commit) = &details.commit {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "            detail_parts.push(format!(\"commit:{}\", &commit[..7.min(commit.len())]));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "        if let Some(count) = details.commit_count {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "            detail_parts.push(format!(\"commits:{}\", count));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        if let Some(format) = &details.format {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            detail_parts.push(format!(\"format:{}\", format));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        if let Some(pattern) = &details.pattern_name {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "            detail_parts.push(format!(\"pattern:{}\", pattern));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "        if let Some(count) = details.redaction_count {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "            detail_parts.push(format!(\"redactions:{}\", count));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "        if let Some(user) = &details.user {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "            detail_parts.push(format!(\"user:{}\", user));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        if !detail_parts.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "            print!(\"{}\", detail_parts.join(\" \").dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        if let Some(reason) = &details.reason {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "            print!(\" - {}\", reason);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "/// Parse event type string to AuditEventType",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "#[allow(dead_code)]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "fn parse_event_type(s: &str) -> Option<AuditEventType> {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    match s {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "        \"delete\" => Some(AuditEventType::Delete),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "        \"export\" => Some(AuditEventType::Export),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        \"retention_apply\" => Some(AuditEventType::RetentionApply),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        \"config_change\" => Some(AuditEventType::ConfigChange),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "        \"redaction\" => Some(AuditEventType::Redaction),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        _ => None,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    use crate::storage::audit::{AuditDetails, AuditEvent};",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "    // AuditArgs tests",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "    fn test_audit_args_defaults() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        let args = AuditArgs {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "            since: None,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "            event_type: None,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "            limit: 50,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "        assert!(args.since.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        assert!(args.event_type.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        assert!(!args.json);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        assert_eq!(args.limit, 50);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "    fn test_audit_args_with_filters() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "        let args = AuditArgs {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "            since: Some(\"2024-01-01\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "            event_type: Some(\"delete\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "            json: true,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "            limit: 100,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "        assert_eq!(args.since, Some(\"2024-01-01\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "        assert_eq!(args.event_type, Some(\"delete\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        assert!(args.json);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "        assert_eq!(args.limit, 100);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "    // Event type parsing tests",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "    fn test_parse_event_type_delete() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        assert!(matches!(",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "            parse_event_type(\"delete\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "            Some(AuditEventType::Delete)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "    fn test_parse_event_type_export() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "        assert!(matches!(",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            parse_event_type(\"export\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "            Some(AuditEventType::Export)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "    fn test_parse_event_type_retention_apply() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        assert!(matches!(",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "            parse_event_type(\"retention_apply\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "            Some(AuditEventType::RetentionApply)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "    fn test_parse_event_type_config_change() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        assert!(matches!(",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "            parse_event_type(\"config_change\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            Some(AuditEventType::ConfigChange)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    fn test_parse_event_type_redaction() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        assert!(matches!(",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "            parse_event_type(\"redaction\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "            Some(AuditEventType::Redaction)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "        ));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "    fn test_parse_event_type_invalid() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "        assert!(parse_event_type(\"invalid\").is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        assert!(parse_event_type(\"\").is_none());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        assert!(parse_event_type(\"Delete\").is_none()); // case sensitive",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "    // Event filtering test",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "    fn test_event_filtering() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "        let events = vec![",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "            create_test_event(AuditEventType::Delete),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "            create_test_event(AuditEventType::Export),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "            create_test_event(AuditEventType::Delete),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "            create_test_event(AuditEventType::ConfigChange),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "        let filtered: Vec<_> = events",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "            .into_iter()",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "            .filter(|e| e.event == AuditEventType::Delete)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "            .collect();",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        assert_eq!(filtered.len(), 2);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        assert!(filtered.iter().all(|e| e.event == AuditEventType::Delete));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "    fn test_event_sorting_by_timestamp() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "        #[allow(clippy::useless_vec)]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "        let mut events = vec![",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "            create_test_event_with_time(\"2024-01-01T10:00:00Z\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "            create_test_event_with_time(\"2024-01-03T10:00:00Z\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "            create_test_event_with_time(\"2024-01-02T10:00:00Z\"),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "        // Sort newest first",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "        events.sort_by(|a, b| b.timestamp.cmp(&a.timestamp));",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "        assert_eq!(events[0].timestamp, \"2024-01-03T10:00:00Z\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "        assert_eq!(events[1].timestamp, \"2024-01-02T10:00:00Z\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        assert_eq!(events[2].timestamp, \"2024-01-01T10:00:00Z\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "    fn test_event_truncation() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "        let mut events: Vec<i32> = (0..100).collect();",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "        let limit = 50;",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "        events.truncate(limit);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "        assert_eq!(events.len(), 50);",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "    // Helper functions",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    fn create_test_event(event_type: AuditEventType) -> AuditEvent {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "        AuditEvent {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "            timestamp: \"2024-01-15T12:00:00Z\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "            event: event_type,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "            details: AuditDetails::default(),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "    fn create_test_event_with_time(timestamp: &str) -> AuditEvent {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "        AuditEvent {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "            timestamp: timestamp.to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "            event: AuditEventType::Delete,",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "            details: AuditDetails::default(),",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "    // Date parsing test (shared logic with other modules)",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "    fn test_date_parsing() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "        let date_str = \"2024-01-15\";",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "        let parsed = chrono::NaiveDate::parse_from_str(date_str, \"%Y-%m-%d\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "        assert!(parsed.is_ok());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "        assert_eq!(parsed.unwrap().to_string(), \"2024-01-15\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "    fn test_invalid_date_parsing() {",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "        let date_str = \"2024/01/15\";",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "        let parsed = chrono::NaiveDate::parse_from_str(date_str, \"%Y-%m-%d\");",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "        assert!(parsed.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e"
          },
          "edit_id": "5364087c-80a7-4e89-a370-06389ec8bd1e",
          "prompt_index": 17,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 332,
        "ai_lines": 177,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 155,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/redact.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "//! Redact-test command for testing redaction patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use anyhow::Result;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::privacy::{PrivacyConfig, WhogititConfig};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "/// Arguments for redact-test command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "#[derive(Debug, clap::Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "pub struct RedactArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "    /// Text to test redaction on",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "    #[arg(long, conflicts_with = \"file\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    pub text: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    /// File to read and test redaction on",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "    #[arg(long, conflicts_with = \"text\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    pub file: Option<String>,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    /// Show only matches without redacting",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "    pub matches_only: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "    /// Show audit trail",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    pub audit: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "    /// List available patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "    pub list_patterns: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    /// Output as JSON",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "    #[arg(long)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "    pub json: bool,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "/// Run the redact-test command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "pub fn run(args: RedactArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "    // Handle list-patterns mode",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "    if args.list_patterns {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        return list_patterns(args.json);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "    // Get input text",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "    let input = get_input(&args)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    // Load config and build redactor",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    let repo = git2::Repository::discover(\".\").ok();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    let config = match &repo {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "        Some(r) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "            let root = r.workdir().unwrap_or(std::path::Path::new(\".\"));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "            WhogititConfig::load(root).unwrap_or_default()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "        None => WhogititConfig::default(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "    let redactor = config.privacy.build_redactor();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "    if args.json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "        run_json_output(&input, &redactor, args.audit)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "    } else if args.matches_only {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        run_matches_only(&input, &redactor)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "    } else if args.audit {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "        run_with_audit(&input, &redactor)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "        run_basic(&input, &redactor)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "fn get_input(args: &RedactArgs) -> Result<String> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "    match (&args.text, &args.file) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "        (Some(text), None) => Ok(text.clone()),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "        (None, Some(file)) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "            std::fs::read_to_string(file).map_err(|e| anyhow::anyhow!(\"Failed to read file: {}\", e))",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "        (None, None) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "            anyhow::bail!(\"Either --text or --file is required (or use --list-patterns)\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "        (Some(_), Some(_)) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "            anyhow::bail!(\"Cannot specify both --text and --file\")",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "fn list_patterns(json: bool) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "    let patterns = PrivacyConfig::available_patterns();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "    if json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "        let json_patterns: Vec<_> = patterns",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "            .iter()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "            .map(|(name, desc)| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "                serde_json::json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "                    \"name\": name,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "                    \"description\": desc,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "                })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "            })",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "            .collect();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&json_patterns)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "        println!(\"{}\", \"Available Redaction Patterns\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "        println!(\"{}\", \"=\".repeat(50));",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "        for (name, description) in patterns {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "            println!(\"{:16} {}\", name.cyan(), description);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "fn run_basic(input: &str, redactor: &crate::privacy::Redactor) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "    let output = redactor.redact(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "    if output == input {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "        println!(\"{}\", \"No sensitive data detected.\".green());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "        println!(\"{}\", \"Redacted output:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "        println!(\"{}\", output);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "fn run_matches_only(input: &str, redactor: &crate::privacy::Redactor) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "    let matches = redactor.find_sensitive_named(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "    if matches.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        println!(\"{}\", \"No sensitive data detected.\".green());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        println!(\"{} {} found:\", \"Sensitive data\".yellow(), matches.len());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        for (name, matched) in matches {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            let preview = if matched.len() > 40 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "                format!(\"{}...\", &matched[..40])",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "                matched",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "            };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "            println!(\"  {:16} {}\", name.cyan(), preview.red());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "fn run_with_audit(input: &str, redactor: &crate::privacy::Redactor) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    let result = redactor.redact_with_audit(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "    if result.redaction_count == 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "        println!(\"{}\", \"No sensitive data detected.\".green());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "            \"{} {} redactions made:\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "            \"Audit Trail:\".bold(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "            result.redaction_count",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "        for event in &result.events {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "            println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "                \"  Pattern: {}  Range: {:?}  Preview: {}\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "                event.pattern_name.cyan(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "                event.char_range,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "                event.preview.red()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "            );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "        println!(\"{}\", \"Redacted output:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        println!(\"{}\", result.text);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "fn run_json_output(input: &str, redactor: &crate::privacy::Redactor, audit: bool) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "    if audit {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "        let result = redactor.redact_with_audit(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&result)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "    } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        let output = redactor.redact(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        let matches = redactor.find_sensitive_named(input);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "        let json = serde_json::json!({",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "            \"input_length\": input.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "            \"output\": output,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "            \"match_count\": matches.len(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "            \"matches\": matches.iter().map(|(name, _)| name).collect::<Vec<_>>(),",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "        });",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        println!(\"{}\", serde_json::to_string_pretty(&json)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "    // RedactArgs tests",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    fn test_redact_args_with_text() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "            text: Some(\"test text\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "        assert_eq!(args.text, Some(\"test text\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        assert!(args.file.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "    fn test_redact_args_with_file() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "            text: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "            file: Some(\"/path/to/file.txt\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        assert!(args.text.is_none());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        assert_eq!(args.file, Some(\"/path/to/file.txt\".to_string()));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    fn test_redact_args_list_patterns() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "            text: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "            list_patterns: true,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "        assert!(args.list_patterns);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "    fn test_redact_args_output_modes() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        // Test different output mode combinations",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "        let args_basic = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "            text: Some(\"test\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 245,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 246,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 247,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 248,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 249,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 250,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 251,
          "content": "        assert!(!args_basic.matches_only && !args_basic.audit && !args_basic.json);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 252,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 253,
          "content": "        let args_matches = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 254,
          "content": "            text: Some(\"test\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 255,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 256,
          "content": "            matches_only: true,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 257,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 258,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 259,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 260,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 261,
          "content": "        assert!(args_matches.matches_only);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 262,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 263,
          "content": "        let args_audit = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 264,
          "content": "            text: Some(\"test\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 265,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 266,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 267,
          "content": "            audit: true,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 268,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 269,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 270,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 271,
          "content": "        assert!(args_audit.audit);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 272,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 273,
          "content": "        let args_json = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 274,
          "content": "            text: Some(\"test\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 275,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 276,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 277,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 278,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 279,
          "content": "            json: true,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 280,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 281,
          "content": "        assert!(args_json.json);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 282,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 283,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 284,
          "content": "    // get_input tests",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 285,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 286,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 287,
          "content": "    fn test_get_input_with_text() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 288,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 289,
          "content": "            text: Some(\"inline text\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 290,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 291,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 292,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 293,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 294,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 295,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 296,
          "content": "        let result = get_input(&args).unwrap();",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 297,
          "content": "        assert_eq!(result, \"inline text\");",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 298,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 299,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 300,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 301,
          "content": "    fn test_get_input_neither_text_nor_file() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 302,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 303,
          "content": "            text: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 304,
          "content": "            file: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 305,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 306,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 307,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 308,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 309,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 310,
          "content": "        let result = get_input(&args);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 311,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 312,
          "content": "        assert!(result.unwrap_err().to_string().contains(\"Either --text or --file is required\"));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 313,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 314,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 315,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 316,
          "content": "    fn test_get_input_both_text_and_file() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 317,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 318,
          "content": "            text: Some(\"text\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 319,
          "content": "            file: Some(\"file.txt\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 320,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 321,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 322,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 323,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 324,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 325,
          "content": "        let result = get_input(&args);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 326,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 327,
          "content": "        assert!(result.unwrap_err().to_string().contains(\"Cannot specify both\"));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 328,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 329,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 330,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 331,
          "content": "    fn test_get_input_file_not_found() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 332,
          "content": "        let args = RedactArgs {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 333,
          "content": "            text: None,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 334,
          "content": "            file: Some(\"/nonexistent/path/file.txt\".to_string()),",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 335,
          "content": "            matches_only: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 336,
          "content": "            audit: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 337,
          "content": "            list_patterns: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 338,
          "content": "            json: false,",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 339,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 340,
          "content": "        let result = get_input(&args);",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 341,
          "content": "        assert!(result.is_err());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 342,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 343,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 344,
          "content": "    // Available patterns test",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 345,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 346,
          "content": "    fn test_available_patterns_not_empty() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 347,
          "content": "        let patterns = PrivacyConfig::available_patterns();",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 348,
          "content": "        assert!(!patterns.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 349,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 350,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 351,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 352,
          "content": "    fn test_available_patterns_have_descriptions() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 353,
          "content": "        let patterns = PrivacyConfig::available_patterns();",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 354,
          "content": "        for (name, description) in patterns {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 355,
          "content": "            assert!(!name.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 356,
          "content": "            assert!(!description.is_empty());",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 357,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 358,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 359,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 360,
          "content": "    // Match preview truncation test (simulated from run_matches_only)",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 361,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 362,
          "content": "    fn test_match_preview_truncation() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 363,
          "content": "        let matched = \"This is a very long matched string that exceeds 40 characters\";",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 364,
          "content": "        let preview = if matched.len() > 40 {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 365,
          "content": "            format!(\"{}...\", &matched[..40])",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 366,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 367,
          "content": "            matched.to_string()",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 368,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 369,
          "content": "        assert!(preview.ends_with(\"...\"));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 370,
          "content": "        assert_eq!(preview.len(), 43); // 40 chars + \"...\"",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 371,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 372,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 373,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 374,
          "content": "    fn test_match_preview_short() {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 375,
          "content": "        let matched = \"Short\";",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 376,
          "content": "        let preview = if matched.len() > 40 {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 377,
          "content": "            format!(\"{}...\", &matched[..40])",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 378,
          "content": "        } else {",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 379,
          "content": "            matched.to_string()",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 380,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 381,
          "content": "        assert_eq!(preview, \"Short\");",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 382,
          "content": "        assert!(!preview.ends_with(\"...\"));",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 383,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed"
          },
          "edit_id": "4b4ebd20-8e80-432b-b40d-4c401fe039ed",
          "prompt_index": 8,
          "confidence": 1.0
        },
        {
          "line_number": 384,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 384,
        "ai_lines": 193,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 191,
        "unknown_lines": 0
      }
    },
    {
      "path": "src/cli/show.rs",
      "lines": [
        {
          "line_number": 1,
          "content": "use anyhow::{Context, Result};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 2,
          "content": "use clap::Args;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 3,
          "content": "use colored::Colorize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 4,
          "content": "use git2::Repository;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 5,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 6,
          "content": "use crate::cli::output::OutputFormat;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 7,
          "content": "use crate::storage::notes::NotesStore;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 8,
          "content": "use crate::utils::{truncate, SHORT_COMMIT_LEN};",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 9,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 10,
          "content": "/// Show command arguments",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 11,
          "content": "#[derive(Debug, Args)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 12,
          "content": "pub struct ShowArgs {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 13,
          "content": "    /// Commit to show (default: HEAD)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 14,
          "content": "    #[arg(default_value = \"HEAD\")]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 15,
          "content": "    pub commit: String,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 16,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 17,
          "content": "    /// Output format",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 18,
          "content": "    #[arg(long, value_enum, default_value_t = OutputFormat::Pretty)]",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 19,
          "content": "    pub format: OutputFormat,",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 20,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 21,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 22,
          "content": "/// Run the show command",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 23,
          "content": "pub fn run(args: ShowArgs) -> Result<()> {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 24,
          "content": "    // Open repository",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 25,
          "content": "    let repo = Repository::discover(\".\").context(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 26,
          "content": "        \"Not in a git repository. \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 27,
          "content": "         Run 'git init' to create one, or 'cd' to a directory containing a .git folder.\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 28,
          "content": "    )?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 29,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 30,
          "content": "    // Resolve commit reference",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 31,
          "content": "    let obj = repo.revparse_single(&args.commit).with_context(|| {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 32,
          "content": "        format!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 33,
          "content": "            \"Failed to resolve '{}'. \\n\\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 34,
          "content": "                 Suggestions:\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 35,
          "content": "                 - Use a valid commit SHA: whogitit show abc1234\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 36,
          "content": "                 - Use HEAD for latest: whogitit show HEAD\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 37,
          "content": "                 - Use a branch name: whogitit show main\\n  \\",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 38,
          "content": "                 - Use HEAD~N for parent: whogitit show HEAD~1\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 39,
          "content": "            args.commit",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 40,
          "content": "        )",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 41,
          "content": "    })?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 42,
          "content": "    let commit = obj",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 43,
          "content": "        .peel_to_commit()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 44,
          "content": "        .with_context(|| format!(\"'{}' is not a valid commit reference\", args.commit))?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 45,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 46,
          "content": "    let commit_id = commit.id().to_string();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 47,
          "content": "    // Safe substring: commit IDs are hex strings (ASCII), but we still use min() for safety",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 48,
          "content": "    let commit_short = &commit_id[..commit_id.len().min(SHORT_COMMIT_LEN)];",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 49,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 50,
          "content": "    // Get attribution",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 51,
          "content": "    let notes_store = NotesStore::new(&repo)?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 52,
          "content": "    let attribution = notes_store.fetch_attribution(commit.id())?;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 53,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 54,
          "content": "    match attribution {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 55,
          "content": "        Some(attr) => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 56,
          "content": "            if args.format == OutputFormat::Json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 57,
          "content": "                println!(\"{}\", serde_json::to_string_pretty(&attr)?);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 58,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 59,
          "content": "                print_summary(commit_short, &attr);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 60,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 61,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 62,
          "content": "        None => {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 63,
          "content": "            if args.format == OutputFormat::Json {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 64,
          "content": "                // Output null JSON for programmatic consumption",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 65,
          "content": "                println!(\"null\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 66,
          "content": "            } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 67,
          "content": "                println!(\"No AI attribution found for commit {}\", commit_short);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 68,
          "content": "                println!(\"This commit was not made with AI assistance tracked by whogitit.\");",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 69,
          "content": "            }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 70,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 71,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 72,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 73,
          "content": "    Ok(())",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 74,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 75,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 76,
          "content": "fn print_summary(commit_short: &str, attr: &crate::core::attribution::AIAttribution) {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 77,
          "content": "    println!(\"{}: {}\", \"Commit\".bold(), commit_short.yellow());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 78,
          "content": "    println!(\"{}: {}\", \"Session\".bold(), attr.session.session_id.cyan());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 79,
          "content": "    println!(\"{}: {}\", \"Model\".bold(), attr.session.model.id);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 80,
          "content": "    println!(\"{}: {}\", \"Started\".bold(), attr.session.started_at.dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 81,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 82,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 83,
          "content": "    // Show prompts",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 84,
          "content": "    if !attr.prompts.is_empty() {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 85,
          "content": "        println!(\"{}\", \"Prompts used:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 86,
          "content": "        for prompt in &attr.prompts {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 87,
          "content": "            let preview = truncate(&prompt.text, 60);",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 88,
          "content": "            println!(\"  #{}: \\\"{}\\\"\", prompt.index, preview.dimmed());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 89,
          "content": "        }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 90,
          "content": "        println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 91,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 92,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 93,
          "content": "    // Show files with detailed breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 94,
          "content": "    println!(\"{}\", \"Files with AI changes:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 95,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 96,
          "content": "    let mut total_ai = 0usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 97,
          "content": "    let mut total_ai_modified = 0usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 98,
          "content": "    let mut total_human = 0usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 99,
          "content": "    let mut total_original = 0usize;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 100,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 101,
          "content": "    for file in &attr.files {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 102,
          "content": "        let s = &file.summary;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 103,
          "content": "        total_ai += s.ai_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 104,
          "content": "        total_ai_modified += s.ai_modified_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 105,
          "content": "        total_human += s.human_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 106,
          "content": "        total_original += s.original_lines;",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 107,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 108,
          "content": "        // Color-coded breakdown",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 109,
          "content": "        let ai_str = format!(\"{} AI\", s.ai_lines).green();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 110,
          "content": "        let modified_str = if s.ai_modified_lines > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 111,
          "content": "            format!(\", {} modified\", s.ai_modified_lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 112,
          "content": "                .yellow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 113,
          "content": "                .to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 114,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 115,
          "content": "            String::new()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 116,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 117,
          "content": "        let human_str = if s.human_lines > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 118,
          "content": "            format!(\", {} human\", s.human_lines).blue().to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 119,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 120,
          "content": "            String::new()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 121,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 122,
          "content": "        let original_str = if s.original_lines > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 123,
          "content": "            format!(\", {} original\", s.original_lines)",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 124,
          "content": "                .dimmed()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 125,
          "content": "                .to_string()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 126,
          "content": "        } else {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 127,
          "content": "            String::new()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 128,
          "content": "        };",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 129,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 130,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 131,
          "content": "            \"  {} ({}{}{}{}) - {} total lines\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 132,
          "content": "            file.path, ai_str, modified_str, human_str, original_str, s.total_lines",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 133,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 134,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 135,
          "content": "",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 136,
          "content": "    println!();",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 137,
          "content": "    println!(\"{}\", \"Summary:\".bold());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 138,
          "content": "    println!(\"  {} AI-generated lines\", total_ai.to_string().green());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 139,
          "content": "    if total_ai_modified > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 140,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 141,
          "content": "            \"  {} AI lines modified by human\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 142,
          "content": "            total_ai_modified.to_string().yellow()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 143,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 144,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 145,
          "content": "    if total_human > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 146,
          "content": "        println!(\"  {} human-added lines\", total_human.to_string().blue());",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 147,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 148,
          "content": "    if total_original > 0 {",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 149,
          "content": "        println!(",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 150,
          "content": "            \"  {} original/unchanged lines\",",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 151,
          "content": "            total_original.to_string().dimmed()",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 152,
          "content": "        );",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 153,
          "content": "    }",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        },
        {
          "line_number": 154,
          "content": "}",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 155,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 156,
          "content": "#[cfg(test)]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 157,
          "content": "mod tests {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 158,
          "content": "    use super::*;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 159,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 160,
          "content": "    // ShowArgs tests",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 161,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 162,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 163,
          "content": "    fn test_show_args_default_commit() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 164,
          "content": "        let args = ShowArgs {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 165,
          "content": "            commit: \"HEAD\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 166,
          "content": "            format: OutputFormat::Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 167,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 168,
          "content": "        assert_eq!(args.commit, \"HEAD\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 169,
          "content": "        assert!(matches!(args.format, OutputFormat::Pretty));",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 170,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 171,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 172,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 173,
          "content": "    fn test_show_args_with_sha() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 174,
          "content": "        let args = ShowArgs {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 175,
          "content": "            commit: \"abc1234\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 176,
          "content": "            format: OutputFormat::Json,",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 177,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 178,
          "content": "        assert_eq!(args.commit, \"abc1234\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 179,
          "content": "        assert!(matches!(args.format, OutputFormat::Json));",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 180,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 181,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 182,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 183,
          "content": "    fn test_show_args_with_branch() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 184,
          "content": "        let args = ShowArgs {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 185,
          "content": "            commit: \"main\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 186,
          "content": "            format: OutputFormat::Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 187,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 188,
          "content": "        assert_eq!(args.commit, \"main\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 189,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 190,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 191,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 192,
          "content": "    fn test_show_args_with_parent_ref() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 193,
          "content": "        let args = ShowArgs {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 194,
          "content": "            commit: \"HEAD~3\".to_string(),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 195,
          "content": "            format: OutputFormat::Pretty,",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 196,
          "content": "        };",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 197,
          "content": "        assert_eq!(args.commit, \"HEAD~3\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 198,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 199,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 200,
          "content": "    // Line counting aggregation test (simulated)",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 201,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 202,
          "content": "    fn test_line_count_aggregation() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 203,
          "content": "        // Simulate the aggregation logic from print_summary",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 204,
          "content": "        let file_stats = vec![",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 205,
          "content": "            (10, 2, 5, 100), // (ai, ai_modified, human, original)",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 206,
          "content": "            (20, 5, 10, 200),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 207,
          "content": "            (5, 1, 2, 50),",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 208,
          "content": "        ];",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 209,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 210,
          "content": "        let mut total_ai = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 211,
          "content": "        let mut total_ai_modified = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 212,
          "content": "        let mut total_human = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 213,
          "content": "        let mut total_original = 0usize;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 214,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 215,
          "content": "        for (ai, ai_mod, human, original) in &file_stats {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 216,
          "content": "            total_ai += ai;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 217,
          "content": "            total_ai_modified += ai_mod;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 218,
          "content": "            total_human += human;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 219,
          "content": "            total_original += original;",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 220,
          "content": "        }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 221,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 222,
          "content": "        assert_eq!(total_ai, 35);",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 223,
          "content": "        assert_eq!(total_ai_modified, 8);",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 224,
          "content": "        assert_eq!(total_human, 17);",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 225,
          "content": "        assert_eq!(total_original, 350);",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 226,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 227,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 228,
          "content": "    // Commit short substring test",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 229,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 230,
          "content": "    fn test_commit_short_extraction() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 231,
          "content": "        let commit_id = \"abc1234def456789\";",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 232,
          "content": "        let commit_short = &commit_id[..commit_id.len().min(SHORT_COMMIT_LEN)];",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 233,
          "content": "        assert_eq!(commit_short, \"abc1234\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 234,
          "content": "        assert_eq!(commit_short.len(), 7);",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 235,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 236,
          "content": "",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 237,
          "content": "    #[test]",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 238,
          "content": "    fn test_commit_short_extraction_short_id() {",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 239,
          "content": "        // Edge case: commit ID shorter than SHORT_COMMIT_LEN",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 240,
          "content": "        let commit_id = \"abc12\";",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 241,
          "content": "        let commit_short = &commit_id[..commit_id.len().min(SHORT_COMMIT_LEN)];",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 242,
          "content": "        assert_eq!(commit_short, \"abc12\");",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 243,
          "content": "    }",
          "source": {
            "type": "AI",
            "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b"
          },
          "edit_id": "e32e8c6b-d69c-48b9-9708-4c82fe19650b",
          "prompt_index": 14,
          "confidence": 1.0
        },
        {
          "line_number": 244,
          "content": "}",
          "source": {
            "type": "Original"
          },
          "edit_id": null,
          "prompt_index": null,
          "confidence": 1.0
        }
      ],
      "summary": {
        "total_lines": 244,
        "ai_lines": 90,
        "ai_modified_lines": 0,
        "human_lines": 0,
        "original_lines": 154,
        "unknown_lines": 0
      }
    }
  ]
}